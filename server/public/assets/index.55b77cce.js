(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function t(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerpolicy&&(i.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?i.credentials="include":l.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(l){if(l.ep)return;l.ep=!0;const i=t(l);fetch(l.href,i)}})();function Z(){}const Mn=n=>n;function sn(n,e){for(const t in e)n[t]=e[t];return n}function Zi(n){return n()}function ll(){return Object.create(null)}function ue(n){n.forEach(Zi)}function lt(n){return typeof n=="function"}function x(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let an;function Fe(n,e){return an||(an=document.createElement("a")),an.href=e,n===an.href}function no(n){return Object.keys(n).length===0}function Rs(n,...e){if(n==null)return Z;const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Ne(n,e,t){n.$$.on_destroy.push(Rs(e,t))}function ct(n,e,t,s){if(n){const l=$i(n,e,t,s);return n[0](l)}}function $i(n,e,t,s){return n[1]&&s?sn(t.ctx.slice(),n[1](s(e))):t.ctx}function ut(n,e,t,s){if(n[2]&&s){const l=n[2](s(t));if(e.dirty===void 0)return l;if(typeof l=="object"){const i=[],r=Math.max(e.dirty.length,l.length);for(let o=0;o<r;o+=1)i[o]=e.dirty[o]|l[o];return i}return e.dirty|l}return e.dirty}function dt(n,e,t,s,l,i){if(l){const r=$i(e,t,s,i);n.p(r,l)}}function ht(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let s=0;s<t;s++)e[s]=-1;return e}return-1}function il(n){const e={};for(const t in n)t[0]!=="$"&&(e[t]=n[t]);return e}function me(n){return n==null?"":n}function so(n){return n&&lt(n.destroy)?n.destroy:Z}const xi=typeof window<"u";let Ps=xi?()=>window.performance.now():()=>Date.now(),As=xi?n=>requestAnimationFrame(n):Z;const At=new Set;function er(n){At.forEach(e=>{e.c(n)||(At.delete(e),e.f())}),At.size!==0&&As(er)}function Ls(n){let e;return At.size===0&&As(er),{promise:new Promise(t=>{At.add(e={c:n,f:t})}),abort(){At.delete(e)}}}function h(n,e){n.appendChild(e)}function tr(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function lo(n){const e=g("style");return io(tr(n),e),e.sheet}function io(n,e){return h(n.head||n,e),e.sheet}function L(n,e,t){n.insertBefore(e,t||null)}function A(n){n.parentNode.removeChild(n)}function Le(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function g(n){return document.createElement(n)}function z(n){return document.createTextNode(n)}function N(){return z(" ")}function Pe(){return z("")}function D(n,e,t,s){return n.addEventListener(e,t,s),()=>n.removeEventListener(e,t,s)}function qt(n){return function(e){return e.preventDefault(),n.call(this,e)}}function xe(n){return function(e){return e.stopPropagation(),n.call(this,e)}}function c(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function rl(n,e){const t=Object.getOwnPropertyDescriptors(n.__proto__);for(const s in e)e[s]==null?n.removeAttribute(s):s==="style"?n.style.cssText=e[s]:s==="__value"?n.value=n[s]=e[s]:t[s]&&t[s].set?n[s]=e[s]:c(n,s,e[s])}function jt(n){return n===""?null:+n}function ro(n){return Array.from(n.childNodes)}function J(n,e){e=""+e,n.wholeText!==e&&(n.data=e)}function pe(n,e){n.value=e==null?"":e}function st(n,e,t,s){t===null?n.style.removeProperty(e):n.style.setProperty(e,t,s?"important":"")}function Ue(n,e){for(let t=0;t<n.options.length;t+=1){const s=n.options[t];if(s.__value===e){s.selected=!0;return}}n.selectedIndex=-1}function Ot(n){const e=n.querySelector(":checked")||n.options[0];return e&&e.__value}function $(n,e,t){n.classList[t?"add":"remove"](e)}function nr(n,e,{bubbles:t=!1,cancelable:s=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(n,t,s,e),l}const kn=new Map;let Cn=0;function oo(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function ao(n,e){const t={stylesheet:lo(e),rules:{}};return kn.set(n,t),t}function In(n,e,t,s,l,i,r,o=0){const a=16.666/s;let f=`{
`;for(let v=0;v<=1;v+=a){const T=e+(t-e)*i(v);f+=v*100+`%{${r(T,1-T)}}
`}const u=f+`100% {${r(t,1-t)}}
}`,d=`__svelte_${oo(u)}_${o}`,p=tr(n),{stylesheet:m,rules:_}=kn.get(p)||ao(p,n);_[d]||(_[d]=!0,m.insertRule(`@keyframes ${d} ${u}`,m.cssRules.length));const y=n.style.animation||"";return n.style.animation=`${y?`${y}, `:""}${d} ${s}ms linear ${l}ms 1 both`,Cn+=1,d}function En(n,e){const t=(n.style.animation||"").split(", "),s=t.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),l=t.length-s.length;l&&(n.style.animation=s.join(", "),Cn-=l,Cn||fo())}function fo(){As(()=>{Cn||(kn.forEach(n=>{const{ownerNode:e}=n.stylesheet;e&&A(e)}),kn.clear())})}let ln;function $t(n){ln=n}function Ut(){if(!ln)throw new Error("Function called outside component initialization");return ln}function He(n){Ut().$$.on_mount.push(n)}function sr(n){Ut().$$.after_update.push(n)}function gt(n){Ut().$$.on_destroy.push(n)}function Ve(){const n=Ut();return(e,t,{cancelable:s=!1}={})=>{const l=n.$$.callbacks[e];if(l){const i=nr(e,t,{cancelable:s});return l.slice().forEach(r=>{r.call(n,i)}),!i.defaultPrevented}return!0}}function xt(n,e){return Ut().$$.context.set(n,e),e}function Re(n){return Ut().$$.context.get(n)}function we(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(s=>s.call(this,e))}const Gt=[],Be=[],hn=[],ol=[],co=Promise.resolve();let ms=!1;function uo(){ms||(ms=!0,co.then(lr))}function Te(n){hn.push(n)}const Wn=new Set;let fn=0;function lr(){const n=ln;do{for(;fn<Gt.length;){const e=Gt[fn];fn++,$t(e),ho(e.$$)}for($t(null),Gt.length=0,fn=0;Be.length;)Be.pop()();for(let e=0;e<hn.length;e+=1){const t=hn[e];Wn.has(t)||(Wn.add(t),t())}hn.length=0}while(Gt.length);for(;ol.length;)ol.pop()();ms=!1,Wn.clear(),$t(n)}function ho(n){if(n.fragment!==null){n.update(),ue(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(Te)}}let Kt;function Fs(){return Kt||(Kt=Promise.resolve(),Kt.then(()=>{Kt=null})),Kt}function yt(n,e,t){n.dispatchEvent(nr(`${e?"intro":"outro"}${t}`))}const pn=new Set;let Ze;function ve(){Ze={r:0,c:[],p:Ze}}function _e(){Ze.r||ue(Ze.c),Ze=Ze.p}function O(n,e){n&&n.i&&(pn.delete(n),n.i(e))}function q(n,e,t,s){if(n&&n.o){if(pn.has(n))return;pn.add(n),Ze.c.push(()=>{pn.delete(n),s&&(t&&n.d(1),s())}),n.o(e)}else s&&s()}const Os={duration:0};function Ms(n,e,t){let s=e(n,t),l=!1,i,r,o=0;function a(){i&&En(n,i)}function f(){const{delay:d=0,duration:p=300,easing:m=Mn,tick:_=Z,css:y}=s||Os;y&&(i=In(n,0,1,p,d,m,y,o++)),_(0,1);const v=Ps()+d,T=v+p;r&&r.abort(),l=!0,Te(()=>yt(n,!0,"start")),r=Ls(I=>{if(l){if(I>=T)return _(1,0),yt(n,!0,"end"),a(),l=!1;if(I>=v){const E=m((I-v)/p);_(E,1-E)}}return l})}let u=!1;return{start(){u||(u=!0,En(n),lt(s)?(s=s(),Fs().then(f)):f())},invalidate(){u=!1},end(){l&&(a(),l=!1)}}}function ir(n,e,t){let s=e(n,t),l=!0,i;const r=Ze;r.r+=1;function o(){const{delay:a=0,duration:f=300,easing:u=Mn,tick:d=Z,css:p}=s||Os;p&&(i=In(n,1,0,f,a,u,p));const m=Ps()+a,_=m+f;Te(()=>yt(n,!1,"start")),Ls(y=>{if(l){if(y>=_)return d(0,1),yt(n,!1,"end"),--r.r||ue(r.c),!1;if(y>=m){const v=u((y-m)/f);d(1-v,v)}}return l})}return lt(s)?Fs().then(()=>{s=s(),o()}):o(),{end(a){a&&s.tick&&s.tick(1,0),l&&(i&&En(n,i),l=!1)}}}function Mt(n,e,t,s){let l=e(n,t),i=s?0:1,r=null,o=null,a=null;function f(){a&&En(n,a)}function u(p,m){const _=p.b-i;return m*=Math.abs(_),{a:i,b:p.b,d:_,duration:m,start:p.start,end:p.start+m,group:p.group}}function d(p){const{delay:m=0,duration:_=300,easing:y=Mn,tick:v=Z,css:T}=l||Os,I={start:Ps()+m,b:p};p||(I.group=Ze,Ze.r+=1),r||o?o=I:(T&&(f(),a=In(n,i,p,_,m,y,T)),p&&v(0,1),r=u(I,_),Te(()=>yt(n,p,"start")),Ls(E=>{if(o&&E>o.start&&(r=u(o,_),o=null,yt(n,r.b,"start"),T&&(f(),a=In(n,i,r.b,r.duration,0,y,l.css))),r){if(E>=r.end)v(i=r.b,1-i),yt(n,r.b,"end"),o||(r.b?f():--r.group.r||ue(r.group.c)),r=null;else if(E>=r.start){const w=E-r.start;i=r.a+r.d*y(w/r.duration),v(i,1-i)}}return!!(r||o)}))}return{run(p){lt(l)?Fs().then(()=>{l=l(),d(p)}):d(p)},end(){f(),r=o=null}}}function rr(n,e){const t={},s={},l={$$scope:1};let i=n.length;for(;i--;){const r=n[i],o=e[i];if(o){for(const a in r)a in o||(s[a]=1);for(const a in o)l[a]||(t[a]=o[a],l[a]=1);n[i]=o}else for(const a in r)l[a]=1}for(const r in s)r in t||(t[r]=void 0);return t}function al(n){return typeof n=="object"&&n!==null?n:{}}function Y(n){n&&n.c()}function W(n,e,t,s){const{fragment:l,on_mount:i,on_destroy:r,after_update:o}=n.$$;l&&l.m(e,t),s||Te(()=>{const a=i.map(Zi).filter(lt);r?r.push(...a):ue(a),n.$$.on_mount=[]}),o.forEach(Te)}function K(n,e){const t=n.$$;t.fragment!==null&&(ue(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function po(n,e){n.$$.dirty[0]===-1&&(Gt.push(n),uo(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function ee(n,e,t,s,l,i,r,o=[-1]){const a=ln;$t(n);const f=n.$$={fragment:null,ctx:null,props:i,update:Z,not_equal:l,bound:ll(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:ll(),dirty:o,skip_bound:!1,root:e.target||a.$$.root};r&&r(f.root);let u=!1;if(f.ctx=t?t(n,e.props||{},(d,p,...m)=>{const _=m.length?m[0]:p;return f.ctx&&l(f.ctx[d],f.ctx[d]=_)&&(!f.skip_bound&&f.bound[d]&&f.bound[d](_),u&&po(n,d)),p}):[],f.update(),u=!0,ue(f.before_update),f.fragment=s?s(f.ctx):!1,e.target){if(e.hydrate){const d=ro(e.target);f.fragment&&f.fragment.l(d),d.forEach(A)}else f.fragment&&f.fragment.c();e.intro&&O(n.$$.fragment),W(n,e.target,e.anchor,e.customElement),lr()}$t(a)}class te{$destroy(){K(this,1),this.$destroy=Z}$on(e,t){const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(t),()=>{const l=s.indexOf(t);l!==-1&&s.splice(l,1)}}$set(e){this.$$set&&!no(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const St=[];function mo(n,e){return{subscribe:nt(n,e).subscribe}}function nt(n,e=Z){let t;const s=new Set;function l(o){if(x(n,o)&&(n=o,t)){const a=!St.length;for(const f of s)f[1](),St.push(f,n);if(a){for(let f=0;f<St.length;f+=2)St[f][0](St[f+1]);St.length=0}}}function i(o){l(o(n))}function r(o,a=Z){const f=[o,a];return s.add(f),s.size===1&&(t=e(l)||Z),o(n),()=>{s.delete(f),s.size===0&&(t(),t=null)}}return{set:l,update:i,subscribe:r}}function go(n,e,t){const s=!Array.isArray(n),l=s?[n]:n,i=e.length<2;return mo(t,r=>{let o=!1;const a=[];let f=0,u=Z;const d=()=>{if(f)return;u();const m=e(s?a[0]:a,r);i?r(m):u=lt(m)?m:Z},p=l.map((m,_)=>Rs(m,y=>{a[_]=y,f&=~(1<<_),o&&d()},()=>{f|=1<<_}));return o=!0,d(),function(){ue(p),u()}})}const Tn={},Sn={};function Kn(n){return{...n.location,state:n.history.state,key:n.history.state&&n.history.state.key||"initial"}}function vo(n,e){const t=[];let s=Kn(n);return{get location(){return s},listen(l){t.push(l);const i=()=>{s=Kn(n),l({location:s,action:"POP"})};return n.addEventListener("popstate",i),()=>{n.removeEventListener("popstate",i);const r=t.indexOf(l);t.splice(r,1)}},navigate(l,{state:i,replace:r=!1}={}){i={...i,key:Date.now()+""};try{r?n.history.replaceState(i,null,l):n.history.pushState(i,null,l)}catch{n.location[r?"replace":"assign"](l)}s=Kn(n),t.forEach(o=>o({location:s,action:"PUSH"}))}}}function _o(n="/"){let e=0;const t=[{pathname:n,search:""}],s=[];return{get location(){return t[e]},addEventListener(l,i){},removeEventListener(l,i){},history:{get entries(){return t},get index(){return e},get state(){return s[e]},pushState(l,i,r){const[o,a=""]=r.split("?");e++,t.push({pathname:o,search:a}),s.push(l)},replaceState(l,i,r){const[o,a=""]=r.split("?");t[e]={pathname:o,search:a},s[e]=l}}}}const bo=Boolean(typeof window<"u"&&window.document&&window.document.createElement),gs=vo(bo?window:_o()),{navigate:be}=gs,or=/^:(.+)/,fl=4,yo=3,wo=2,ko=1,Co=1;function vs(n,e){return n.substr(0,e.length)===e}function Io(n){return n===""}function Eo(n){return or.test(n)}function ar(n){return n[0]==="*"}function rn(n){return n.replace(/(^\/+|\/+$)/g,"").split("/")}function Yn(n){return n.replace(/(^\/+|\/+$)/g,"")}function To(n,e){const t=n.default?0:rn(n.path).reduce((s,l)=>(s+=fl,Io(l)?s+=Co:Eo(l)?s+=wo:ar(l)?s-=fl+ko:s+=yo,s),0);return{route:n,score:t,index:e}}function So(n){return n.map(To).sort((e,t)=>e.score<t.score?1:e.score>t.score?-1:e.index-t.index)}function fr(n,e){let t,s;const[l]=e.split("?"),i=rn(l),r=i[0]==="",o=So(n);for(let a=0,f=o.length;a<f;a++){const u=o[a].route;let d=!1;if(u.default){s={route:u,params:{},uri:e};continue}const p=rn(u.path),m={},_=Math.max(i.length,p.length);let y=0;for(;y<_;y++){const v=p[y],T=i[y];if(v!==void 0&&ar(v)){const E=v==="*"?"*":v.slice(1);m[E]=i.slice(y).map(decodeURIComponent).join("/");break}if(!v.includes(":")&&v!==T){d=!0;break}let I=or.exec(v);if(I&&!r){const E=decodeURIComponent(T);m[I[1]]=E==="undefined"?void 0:E}}if(!d){t={route:u,params:m,uri:"/"+i.slice(0,y).join("/")};break}}return t||s||null}function No(n,e){return fr([n],e)}function Xn(n,e){return n+(e?`?${e}`:"")}function Ro(n,e){if(vs(n,"/"))return n;const[t,s]=n.split("?"),[l]=e.split("?"),i=rn(t),r=rn(l);if(i[0]==="")return Xn(l,s);if(!vs(i[0],".")){const f=r.concat(i).join("/");return Xn((l==="/"?"":"/")+f,s)}const o=r.concat(i),a=[];return o.forEach(f=>{f===".."?a.pop():f!=="."&&a.push(f)}),Xn("/"+a.join("/"),s)}function cl(n,e){return`${Yn(e==="/"?n:`${Yn(n)}/${Yn(e)}`)}/`}function Po(n){return!n.defaultPrevented&&n.button===0&&!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Ao(n){let e;const t=n[9].default,s=ct(t,n,n[8],null);return{c(){s&&s.c()},m(l,i){s&&s.m(l,i),e=!0},p(l,[i]){s&&s.p&&(!e||i&256)&&dt(s,t,l,l[8],e?ut(t,l[8],i,null):ht(l[8]),null)},i(l){e||(O(s,l),e=!0)},o(l){q(s,l),e=!1},d(l){s&&s.d(l)}}}function Lo(n,e,t){let s,l,i,{$$slots:r={},$$scope:o}=e,{basepath:a="/"}=e,{url:f=null}=e;const u=Re(Tn),d=Re(Sn),p=nt([]);Ne(n,p,w=>t(6,l=w));const m=nt(null);let _=!1;const y=u||nt(f?{pathname:f}:gs.location);Ne(n,y,w=>t(5,s=w));const v=d?d.routerBase:nt({path:a,uri:a});Ne(n,v,w=>t(7,i=w));const T=go([v,m],([w,k])=>{if(k===null)return w;const{path:S}=w,{route:C,uri:b}=k;return{path:C.default?S:C.path.replace(/\*.*$/,""),uri:b}});function I(w){const{path:k}=i;let{path:S}=w;if(w._path=S,w.path=cl(k,S),typeof window>"u"){if(_)return;const C=No(w,s.pathname);C&&(m.set(C),_=!0)}else p.update(C=>(C.push(w),C))}function E(w){p.update(k=>{const S=k.indexOf(w);return k.splice(S,1),k})}return u||(He(()=>gs.listen(k=>{y.set(k.location)})),xt(Tn,y)),xt(Sn,{activeRoute:m,base:v,routerBase:T,registerRoute:I,unregisterRoute:E}),n.$$set=w=>{"basepath"in w&&t(3,a=w.basepath),"url"in w&&t(4,f=w.url),"$$scope"in w&&t(8,o=w.$$scope)},n.$$.update=()=>{if(n.$$.dirty&128){const{path:w}=i;p.update(k=>(k.forEach(S=>S.path=cl(w,S._path)),k))}if(n.$$.dirty&96){const w=fr(l,s.pathname);m.set(w)}},[p,y,v,a,f,s,l,i,o,r]}class cr extends te{constructor(e){super(),ee(this,e,Lo,Ao,x,{basepath:3,url:4})}}const Fo=n=>({params:n&4,location:n&16}),ul=n=>({params:n[2],location:n[4]});function dl(n){let e,t,s,l;const i=[Mo,Oo],r=[];function o(a,f){return a[0]!==null?0:1}return e=o(n),t=r[e]=i[e](n),{c(){t.c(),s=Pe()},m(a,f){r[e].m(a,f),L(a,s,f),l=!0},p(a,f){let u=e;e=o(a),e===u?r[e].p(a,f):(ve(),q(r[u],1,1,()=>{r[u]=null}),_e(),t=r[e],t?t.p(a,f):(t=r[e]=i[e](a),t.c()),O(t,1),t.m(s.parentNode,s))},i(a){l||(O(t),l=!0)},o(a){q(t),l=!1},d(a){r[e].d(a),a&&A(s)}}}function Oo(n){let e;const t=n[10].default,s=ct(t,n,n[9],ul);return{c(){s&&s.c()},m(l,i){s&&s.m(l,i),e=!0},p(l,i){s&&s.p&&(!e||i&532)&&dt(s,t,l,l[9],e?ut(t,l[9],i,Fo):ht(l[9]),ul)},i(l){e||(O(s,l),e=!0)},o(l){q(s,l),e=!1},d(l){s&&s.d(l)}}}function Mo(n){let e,t,s;const l=[n[2],n[3]];var i=n[0];function r(o){let a={};for(let f=0;f<l.length;f+=1)a=sn(a,l[f]);return{props:a}}return i&&(e=new i(r())),{c(){e&&Y(e.$$.fragment),t=Pe()},m(o,a){e&&W(e,o,a),L(o,t,a),s=!0},p(o,a){const f=a&12?rr(l,[a&4&&al(o[2]),a&8&&al(o[3])]):{};if(i!==(i=o[0])){if(e){ve();const u=e;q(u.$$.fragment,1,0,()=>{K(u,1)}),_e()}i?(e=new i(r()),Y(e.$$.fragment),O(e.$$.fragment,1),W(e,t.parentNode,t)):e=null}else i&&e.$set(f)},i(o){s||(e&&O(e.$$.fragment,o),s=!0)},o(o){e&&q(e.$$.fragment,o),s=!1},d(o){o&&A(t),e&&K(e,o)}}}function Do(n){let e,t,s=n[1]!==null&&n[1].route===n[7]&&dl(n);return{c(){s&&s.c(),e=Pe()},m(l,i){s&&s.m(l,i),L(l,e,i),t=!0},p(l,[i]){l[1]!==null&&l[1].route===l[7]?s?(s.p(l,i),i&2&&O(s,1)):(s=dl(l),s.c(),O(s,1),s.m(e.parentNode,e)):s&&(ve(),q(s,1,1,()=>{s=null}),_e())},i(l){t||(O(s),t=!0)},o(l){q(s),t=!1},d(l){s&&s.d(l),l&&A(e)}}}function Bo(n,e,t){let s,l,{$$slots:i={},$$scope:r}=e,{path:o=""}=e,{component:a=null}=e;const{registerRoute:f,unregisterRoute:u,activeRoute:d}=Re(Sn);Ne(n,d,v=>t(1,s=v));const p=Re(Tn);Ne(n,p,v=>t(4,l=v));const m={path:o,default:o===""};let _={},y={};return f(m),typeof window<"u"&&gt(()=>{u(m)}),n.$$set=v=>{t(13,e=sn(sn({},e),il(v))),"path"in v&&t(8,o=v.path),"component"in v&&t(0,a=v.component),"$$scope"in v&&t(9,r=v.$$scope)},n.$$.update=()=>{n.$$.dirty&2&&s&&s.route===m&&t(2,_=s.params);{const{path:v,component:T,...I}=e;t(3,y=I)}},e=il(e),[a,s,_,y,l,d,p,m,o,r,i]}class Oe extends te{constructor(e){super(),ee(this,e,Bo,Do,x,{path:8,component:0})}}function qo(n){let e,t,s,l;const i=n[15].default,r=ct(i,n,n[14],null);let o=[{href:n[0]},{"aria-current":n[2]},n[1]],a={};for(let f=0;f<o.length;f+=1)a=sn(a,o[f]);return{c(){e=g("a"),r&&r.c(),rl(e,a)},m(f,u){L(f,e,u),r&&r.m(e,null),t=!0,s||(l=D(e,"click",n[5]),s=!0)},p(f,[u]){r&&r.p&&(!t||u&16384)&&dt(r,i,f,f[14],t?ut(i,f[14],u,null):ht(f[14]),null),rl(e,a=rr(o,[(!t||u&1)&&{href:f[0]},(!t||u&4)&&{"aria-current":f[2]},u&2&&f[1]]))},i(f){t||(O(r,f),t=!0)},o(f){q(r,f),t=!1},d(f){f&&A(e),r&&r.d(f),s=!1,l()}}}function jo(n,e,t){let s,l,i,{$$slots:r={},$$scope:o}=e,{to:a="#"}=e,{replace:f=!1}=e,{state:u={}}=e,{getProps:d=()=>({})}=e;const{base:p}=Re(Sn);Ne(n,p,w=>t(13,i=w));const m=Re(Tn);Ne(n,m,w=>t(12,l=w));const _=Ve();let y,v,T,I;function E(w){if(_("click",w),Po(w)){w.preventDefault();const k=l.pathname===y||f;be(y,{state:u,replace:k})}}return n.$$set=w=>{"to"in w&&t(6,a=w.to),"replace"in w&&t(7,f=w.replace),"state"in w&&t(8,u=w.state),"getProps"in w&&t(9,d=w.getProps),"$$scope"in w&&t(14,o=w.$$scope)},n.$$.update=()=>{n.$$.dirty&8256&&t(0,y=a==="/"?i.uri:Ro(a,i.uri)),n.$$.dirty&4097&&t(10,v=vs(l.pathname,y)),n.$$.dirty&4097&&t(11,T=y===l.pathname),n.$$.dirty&2048&&t(2,s=T?"page":void 0),n.$$.dirty&7681&&t(1,I=d({location:l,href:y,isPartiallyCurrent:v,isCurrent:T}))},[y,I,s,p,m,E,a,f,u,d,v,T,l,i,o,r]}class ur extends te{constructor(e){super(),ee(this,e,jo,qo,x,{to:6,replace:7,state:8,getProps:9})}}const et=Object.create(null);et.open="0";et.close="1";et.ping="2";et.pong="3";et.message="4";et.upgrade="5";et.noop="6";const mn=Object.create(null);Object.keys(et).forEach(n=>{mn[et[n]]=n});const Uo={type:"error",data:"parser error"},Ho=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Vo=typeof ArrayBuffer=="function",zo=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,dr=({type:n,data:e},t,s)=>Ho&&e instanceof Blob?t?s(e):hl(e,s):Vo&&(e instanceof ArrayBuffer||zo(e))?t?s(e):hl(new Blob([e]),s):s(et[n]+(e||"")),hl=(n,e)=>{const t=new FileReader;return t.onload=function(){const s=t.result.split(",")[1];e("b"+s)},t.readAsDataURL(n)},pl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<pl.length;n++)Qt[pl.charCodeAt(n)]=n;const Wo=n=>{let e=n.length*.75,t=n.length,s,l=0,i,r,o,a;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);const f=new ArrayBuffer(e),u=new Uint8Array(f);for(s=0;s<t;s+=4)i=Qt[n.charCodeAt(s)],r=Qt[n.charCodeAt(s+1)],o=Qt[n.charCodeAt(s+2)],a=Qt[n.charCodeAt(s+3)],u[l++]=i<<2|r>>4,u[l++]=(r&15)<<4|o>>2,u[l++]=(o&3)<<6|a&63;return f},Ko=typeof ArrayBuffer=="function",hr=(n,e)=>{if(typeof n!="string")return{type:"message",data:pr(n,e)};const t=n.charAt(0);return t==="b"?{type:"message",data:Yo(n.substring(1),e)}:mn[t]?n.length>1?{type:mn[t],data:n.substring(1)}:{type:mn[t]}:Uo},Yo=(n,e)=>{if(Ko){const t=Wo(n);return pr(t,e)}else return{base64:!0,data:n}},pr=(n,e)=>{switch(e){case"blob":return n instanceof ArrayBuffer?new Blob([n]):n;case"arraybuffer":default:return n}},mr=String.fromCharCode(30),Xo=(n,e)=>{const t=n.length,s=new Array(t);let l=0;n.forEach((i,r)=>{dr(i,!1,o=>{s[r]=o,++l===t&&e(s.join(mr))})})},Jo=(n,e)=>{const t=n.split(mr),s=[];for(let l=0;l<t.length;l++){const i=hr(t[l],e);if(s.push(i),i.type==="error")break}return s},gr=4;function ke(n){if(n)return Go(n)}function Go(n){for(var e in ke.prototype)n[e]=ke.prototype[e];return n}ke.prototype.on=ke.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};ke.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};ke.prototype.off=ke.prototype.removeListener=ke.prototype.removeAllListeners=ke.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var s,l=0;l<t.length;l++)if(s=t[l],s===e||s.fn===e){t.splice(l,1);break}return t.length===0&&delete this._callbacks["$"+n],this};ke.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(t){t=t.slice(0);for(var s=0,l=t.length;s<l;++s)t[s].apply(this,e)}return this};ke.prototype.emitReserved=ke.prototype.emit;ke.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};ke.prototype.hasListeners=function(n){return!!this.listeners(n).length};const at=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function vr(n,...e){return e.reduce((t,s)=>(n.hasOwnProperty(s)&&(t[s]=n[s]),t),{})}const Qo=setTimeout,Zo=clearTimeout;function Dn(n,e){e.useNativeTimers?(n.setTimeoutFn=Qo.bind(at),n.clearTimeoutFn=Zo.bind(at)):(n.setTimeoutFn=setTimeout.bind(at),n.clearTimeoutFn=clearTimeout.bind(at))}const $o=1.33;function xo(n){return typeof n=="string"?ea(n):Math.ceil((n.byteLength||n.size)*$o)}function ea(n){let e=0,t=0;for(let s=0,l=n.length;s<l;s++)e=n.charCodeAt(s),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(s++,t+=4);return t}class ta extends Error{constructor(e,t,s){super(e),this.description=t,this.context=s,this.type="TransportError"}}class _r extends ke{constructor(e){super(),this.writable=!1,Dn(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,t,s){return super.emitReserved("error",new ta(e,t,s)),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=hr(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}}const br="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),_s=64,na={};let ml=0,cn=0,gl;function vl(n){let e="";do e=br[n%_s]+e,n=Math.floor(n/_s);while(n>0);return e}function yr(){const n=vl(+new Date);return n!==gl?(ml=0,gl=n):n+"."+vl(ml++)}for(;cn<_s;cn++)na[br[cn]]=cn;function wr(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function sa(n){let e={},t=n.split("&");for(let s=0,l=t.length;s<l;s++){let i=t[s].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}let kr=!1;try{kr=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const la=kr;function Cr(n){const e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||la))return new XMLHttpRequest}catch{}if(!e)try{return new at[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function ia(){}const ra=function(){return new Cr({xdomain:!1}).responseType!=null}();class oa extends _r{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const s=location.protocol==="https:";let l=location.port;l||(l=s?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||l!==e.port,this.xs=e.secure!==s}const t=e&&e.forceBase64;this.supportsBinary=ra&&!t}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let s=0;this.polling&&(s++,this.once("pollComplete",function(){--s||t()})),this.writable||(s++,this.once("drain",function(){--s||t()}))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};Jo(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Xo(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let s="";this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=yr()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.opts.port&&(t==="https"&&Number(this.opts.port)!==443||t==="http"&&Number(this.opts.port)!==80)&&(s=":"+this.opts.port);const l=wr(e),i=this.opts.hostname.indexOf(":")!==-1;return t+"://"+(i?"["+this.opts.hostname+"]":this.opts.hostname)+s+this.opts.path+(l.length?"?"+l:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new $e(this.uri(),e)}doWrite(e,t){const s=this.request({method:"POST",data:e});s.on("success",t),s.on("error",(l,i)=>{this.onError("xhr post error",l,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,s)=>{this.onError("xhr poll error",t,s)}),this.pollXhr=e}}class $e extends ke{constructor(e,t){super(),Dn(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.async=t.async!==!1,this.data=t.data!==void 0?t.data:null,this.create()}create(){const e=vr(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const t=this.xhr=new Cr(e);try{t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let s in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(s)&&t.setRequestHeader(s,this.opts.extraHeaders[s])}}catch{}if(this.method==="POST")try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{t.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),t.onreadystatechange=()=>{t.readyState===4&&(t.status===200||t.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof t.status=="number"?t.status:0)},0))},t.send(this.data)}catch(s){this.setTimeoutFn(()=>{this.onError(s)},0);return}typeof document<"u"&&(this.index=$e.requestsCount++,$e.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=ia,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete $e.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}$e.requestsCount=0;$e.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",_l);else if(typeof addEventListener=="function"){const n="onpagehide"in at?"pagehide":"unload";addEventListener(n,_l,!1)}}function _l(){for(let n in $e.requests)$e.requests.hasOwnProperty(n)&&$e.requests[n].abort()}const aa=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0))(),un=at.WebSocket||at.MozWebSocket,bl=!0,fa="arraybuffer",yl=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class ca extends _r{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,s=yl?{}:vr(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=bl&&!yl?t?new un(e,t):new un(e):new un(e,t,s)}catch(l){return this.emitReserved("error",l)}this.ws.binaryType=this.socket.binaryType||fa,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const s=e[t],l=t===e.length-1;dr(s,this.supportsBinary,i=>{const r={};try{bl&&this.ws.send(i)}catch{}l&&aa(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let s="";this.opts.port&&(t==="wss"&&Number(this.opts.port)!==443||t==="ws"&&Number(this.opts.port)!==80)&&(s=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=yr()),this.supportsBinary||(e.b64=1);const l=wr(e),i=this.opts.hostname.indexOf(":")!==-1;return t+"://"+(i?"["+this.opts.hostname+"]":this.opts.hostname)+s+this.opts.path+(l.length?"?"+l:"")}check(){return!!un}}const ua={websocket:ca,polling:oa},da=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ha=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function bs(n){const e=n,t=n.indexOf("["),s=n.indexOf("]");t!=-1&&s!=-1&&(n=n.substring(0,t)+n.substring(t,s).replace(/:/g,";")+n.substring(s,n.length));let l=da.exec(n||""),i={},r=14;for(;r--;)i[ha[r]]=l[r]||"";return t!=-1&&s!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=pa(i,i.path),i.queryKey=ma(i,i.query),i}function pa(n,e){const t=/\/{2,9}/g,s=e.replace(t,"/").split("/");return(e.substr(0,1)=="/"||e.length===0)&&s.splice(0,1),e.substr(e.length-1,1)=="/"&&s.splice(s.length-1,1),s}function ma(n,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,l,i){l&&(t[l]=i)}),t}class ot extends ke{constructor(e,t={}){super(),e&&typeof e=="object"&&(t=e,e=null),e?(e=bs(e),t.hostname=e.host,t.secure=e.protocol==="https"||e.protocol==="wss",t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=bs(t.host).host),Dn(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},t),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=sa(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=gr,t.transport=e,this.id&&(t.sid=this.id);const s=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new ua[e](s)}open(){let e;if(this.opts.rememberUpgrade&&ot.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",t=>this.onClose("transport close",t))}probe(e){let t=this.createTransport(e),s=!1;ot.priorWebsocketSuccess=!1;const l=()=>{s||(t.send([{type:"ping",data:"probe"}]),t.once("packet",d=>{if(!s)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;ot.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=t.name,this.emitReserved("upgradeError",p)}}))};function i(){s||(s=!0,u(),t.close(),t=null)}const r=d=>{const p=new Error("probe error: "+d);p.transport=t.name,i(),this.emitReserved("upgradeError",p)};function o(){r("transport closed")}function a(){r("socket closed")}function f(d){t&&d.name!==t.name&&i()}const u=()=>{t.removeListener("open",l),t.removeListener("error",r),t.removeListener("close",o),this.off("close",a),this.off("upgrading",f)};t.once("open",l),t.once("error",r),t.once("close",o),this.once("close",a),this.once("upgrading",f),t.open()}onOpen(){if(this.readyState="open",ot.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let s=0;s<this.writeBuffer.length;s++){const l=this.writeBuffer[s].data;if(l&&(t+=xo(l)),s>0&&t>this.maxPayload)return this.writeBuffer.slice(0,s);t+=2}return this.writeBuffer}write(e,t,s){return this.sendPacket("message",e,t,s),this}send(e,t,s){return this.sendPacket("message",e,t,s),this}sendPacket(e,t,s,l){if(typeof t=="function"&&(l=t,t=void 0),typeof s=="function"&&(l=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const i={type:e,data:t,options:s};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),l&&this.once("flush",l),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},s=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():e()}):this.upgrading?s():e()),this}onError(e){ot.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let s=0;const l=e.length;for(;s<l;s++)~this.transports.indexOf(e[s])&&t.push(e[s]);return t}}ot.protocol=gr;function ga(n,e="",t){let s=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),s=bs(n)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const i=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+i+":"+s.port+e,s.href=s.protocol+"://"+i+(t&&t.port===s.port?"":":"+s.port),s}const va=typeof ArrayBuffer=="function",_a=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,Ir=Object.prototype.toString,ba=typeof Blob=="function"||typeof Blob<"u"&&Ir.call(Blob)==="[object BlobConstructor]",ya=typeof File=="function"||typeof File<"u"&&Ir.call(File)==="[object FileConstructor]";function Ds(n){return va&&(n instanceof ArrayBuffer||_a(n))||ba&&n instanceof Blob||ya&&n instanceof File}function gn(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,s=n.length;t<s;t++)if(gn(n[t]))return!0;return!1}if(Ds(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return gn(n.toJSON(),!0);for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&gn(n[t]))return!0;return!1}function wa(n){const e=[],t=n.data,s=n;return s.data=ys(t,e),s.attachments=e.length,{packet:s,buffers:e}}function ys(n,e){if(!n)return n;if(Ds(n)){const t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){const t=new Array(n.length);for(let s=0;s<n.length;s++)t[s]=ys(n[s],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){const t={};for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=ys(n[s],e));return t}return n}function ka(n,e){return n.data=ws(n.data,e),n.attachments=void 0,n}function ws(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=ws(n[t],e);else if(typeof n=="object")for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=ws(n[t],e));return n}const Ca=5;var fe;(function(n){n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK"})(fe||(fe={}));class Ia{constructor(e){this.replacer=e}encode(e){return(e.type===fe.EVENT||e.type===fe.ACK)&&gn(e)?(e.type=e.type===fe.EVENT?fe.BINARY_EVENT:fe.BINARY_ACK,this.encodeAsBinary(e)):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===fe.BINARY_EVENT||e.type===fe.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=wa(e),s=this.encodeAsString(t.packet),l=t.buffers;return l.unshift(s),l}}class Bs extends ke{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e),t.type===fe.BINARY_EVENT||t.type===fe.BINARY_ACK?(this.reconstructor=new Ea(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(Ds(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const s={type:Number(e.charAt(0))};if(fe[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===fe.BINARY_EVENT||s.type===fe.BINARY_ACK){const i=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const r=e.substring(i,t);if(r!=Number(r)||e.charAt(t)!=="-")throw new Error("Illegal attachments");s.attachments=Number(r)}if(e.charAt(t+1)==="/"){const i=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););s.nsp=e.substring(i,t)}else s.nsp="/";const l=e.charAt(t+1);if(l!==""&&Number(l)==l){const i=t+1;for(;++t;){const r=e.charAt(t);if(r==null||Number(r)!=r){--t;break}if(t===e.length)break}s.id=Number(e.substring(i,t+1))}if(e.charAt(++t)){const i=this.tryParse(e.substr(t));if(Bs.isPayloadValid(s.type,i))s.data=i;else throw new Error("invalid payload")}return s}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case fe.CONNECT:return typeof t=="object";case fe.DISCONNECT:return t===void 0;case fe.CONNECT_ERROR:return typeof t=="string"||typeof t=="object";case fe.EVENT:case fe.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case fe.ACK:case fe.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class Ea{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=ka(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Ta=Object.freeze(Object.defineProperty({__proto__:null,protocol:Ca,get PacketType(){return fe},Encoder:Ia,Decoder:Bs},Symbol.toStringTag,{value:"Module"}));function Ye(n,e,t){return n.on(e,t),function(){n.off(e,t)}}const Sa=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Er extends ke{constructor(e,t,s){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,s&&s.auth&&(this.auth=s.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Ye(e,"open",this.onopen.bind(this)),Ye(e,"packet",this.onpacket.bind(this)),Ye(e,"error",this.onerror.bind(this)),Ye(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(Sa.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');t.unshift(e);const s={type:fe.EVENT,data:t};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const r=this.ids++,o=t.pop();this._registerAckCallback(r,o),s.id=r}const l=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!l||!this.connected)||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,t){const s=this.flags.timeout;if(s===void 0){this.acks[e]=t;return}const l=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let i=0;i<this.sendBuffer.length;i++)this.sendBuffer[i].id===e&&this.sendBuffer.splice(i,1);t.call(this,new Error("operation has timed out"))},s);this.acks[e]=(...i)=>{this.io.clearTimeoutFn(l),t.apply(this,[null,...i])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this.packet({type:fe.CONNECT,data:e})}):this.packet({type:fe.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case fe.CONNECT:if(e.data&&e.data.sid){const l=e.data.sid;this.onconnect(l)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case fe.EVENT:case fe.BINARY_EVENT:this.onevent(e);break;case fe.ACK:case fe.BINARY_ACK:this.onack(e);break;case fe.DISCONNECT:this.ondisconnect();break;case fe.CONNECT_ERROR:this.destroy();const s=new Error(e.data.message);s.data=e.data.data,this.emitReserved("connect_error",s);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const s of t)s.apply(this,e)}super.emit.apply(this,e)}ack(e){const t=this;let s=!1;return function(...l){s||(s=!0,t.packet({type:fe.ACK,id:e,data:l}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e){this.id=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:fe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let s=0;s<t.length;s++)if(e===t[s])return t.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let s=0;s<t.length;s++)if(e===t[s])return t.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const s of t)s.apply(this,e.data)}}}function Ht(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}Ht.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=(Math.floor(e*10)&1)==0?n-t:n+t}return Math.min(n,this.max)|0};Ht.prototype.reset=function(){this.attempts=0};Ht.prototype.setMin=function(n){this.ms=n};Ht.prototype.setMax=function(n){this.max=n};Ht.prototype.setJitter=function(n){this.jitter=n};class ks extends ke{constructor(e,t){var s;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,Dn(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((s=t.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new Ht({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const l=t.parser||Ta;this.encoder=new l.Encoder,this.decoder=new l.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new ot(this.uri,this.opts);const t=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const l=Ye(t,"open",function(){s.onopen(),e&&e()}),i=Ye(t,"error",r=>{s.cleanup(),s._readyState="closed",this.emitReserved("error",r),e?e(r):s.maybeReconnectOnOpen()});if(this._timeout!==!1){const r=this._timeout;r===0&&l();const o=this.setTimeoutFn(()=>{l(),t.close(),t.emit("error",new Error("timeout"))},r);this.opts.autoUnref&&o.unref(),this.subs.push(function(){clearTimeout(o)})}return this.subs.push(l),this.subs.push(i),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Ye(e,"ping",this.onping.bind(this)),Ye(e,"data",this.ondata.bind(this)),Ye(e,"error",this.onerror.bind(this)),Ye(e,"close",this.onclose.bind(this)),Ye(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch{this.onclose("parse error")}}ondecoded(e){this.emitReserved("packet",e)}onerror(e){this.emitReserved("error",e)}socket(e,t){let s=this.nsps[e];return s||(s=new Er(this,e,t),this.nsps[e]=s),s}_destroy(e){const t=Object.keys(this.nsps);for(const s of t)if(this.nsps[s].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let s=0;s<t.length;s++)this.engine.write(t[s],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(l=>{l?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",l)):e.onreconnect()}))},t);this.opts.autoUnref&&s.unref(),this.subs.push(function(){clearTimeout(s)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Yt={};function vn(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};const t=ga(n,e.path||"/socket.io"),s=t.source,l=t.id,i=t.path,r=Yt[l]&&i in Yt[l].nsps,o=e.forceNew||e["force new connection"]||e.multiplex===!1||r;let a;return o?a=new ks(s,e):(Yt[l]||(Yt[l]=new ks(s,e)),a=Yt[l]),t.query&&!e.query&&(e.query=t.queryKey),a.socket(t.path,e)}Object.assign(vn,{Manager:ks,Socket:Er,io:vn,connect:vn});const Na=function(n,e){localStorage.setItem(n,JSON.stringify({...e}))},Ra=function(n){let e=localStorage.getItem(n);if(e==="undefined")return{};try{e=JSON.parse(e)}catch(t){console.log(t)}return e},Pa=(n,e)=>n.Name.localeCompare(e.Name),Jn={Home:{items:0,sort:"nu"},Content:{items:0,sort:"nu"},Mangas:{items:0,sort:"nu"},Videos:{items:0,sort:"nu"},Favorites:{items:0,sort:"nu"}},Aa=()=>{const n=Ra("config")||Jn;for(const e in Jn)n[e]||(n[e]=Jn[e]);return n},Bn=nt(Aa()),Tr=n=>(Bn.update(e=>n),Na("config",n),n);function wl(n){let e,t,s,l,i,r,o,a,f,u,d,p,m,_,y,v,T,I,E,w,k,S,C,b,R,P,B,F;return{c(){e=g("input"),t=N(),s=g("div"),l=g("div"),i=g("span"),i.innerHTML='<i class="fas fa-sign-out-alt"></i> Log out',r=N(),o=g("div"),a=g("div"),f=g("div"),f.innerHTML='<label for="orderby" class="input-group-text svelte-al42yx">Sort By:</label>',u=N(),d=g("select"),p=g("option"),p.textContent="\uF15D Name",m=g("option"),m.textContent="\uF15E Name",_=g("option"),_.textContent="\uF162 Date",y=g("option"),y.textContent="\uF163 Date",v=N(),T=g("div"),I=g("div"),I.innerHTML='<label for="items" class="input-group-text svelte-al42yx">File per Page:</label>',E=N(),w=g("input"),k=N(),S=g("span"),S.textContent="0 = auto, max 500",C=N(),b=g("div"),R=g("span"),c(e,"type","checkbox"),c(e,"name",""),c(e,"id","show-config"),c(e,"title","show-config"),c(e,"class","svelte-al42yx"),c(i,"class","svelte-al42yx"),c(l,"id","sep"),c(l,"class","svelte-al42yx"),c(f,"class","input-group-prepend svelte-al42yx"),p.__value="nu",p.value=p.__value,c(p,"class","svelte-al42yx"),m.__value="nd",m.value=m.__value,c(m,"class","svelte-al42yx"),_.__value="du",_.value=_.__value,c(_,"class","svelte-al42yx"),y.__value="dd",y.value=y.__value,c(y,"class","svelte-al42yx"),c(d,"id","orderby"),c(d,"name","select-sort"),c(d,"class","form-control fa svelte-al42yx"),n[2][n[1]].sort===void 0&&Te(()=>n[6].call(d)),c(a,"class","input-group svelte-al42yx"),c(I,"class","input-group-prepend svelte-al42yx"),c(w,"id","items"),c(w,"name","item-number"),c(w,"type","number"),c(w,"min","0"),c(w,"max","500"),c(w,"class","form-control svelte-al42yx"),c(S,"id","fpp-tips"),c(S,"class","svelte-al42yx"),c(T,"class","input-group svelte-al42yx"),c(o,"id","config-content"),c(o,"class","svelte-al42yx"),c(R,"class","fas fa-save fa-icon svelte-al42yx"),c(b,"class","svelte-al42yx"),c(s,"id","user-config"),c(s,"class",P=me(n[0].role.includes("User")?"user-config":"admin-config")+" svelte-al42yx")},m(M,U){L(M,e,U),L(M,t,U),L(M,s,U),h(s,l),h(l,i),h(s,r),h(s,o),h(o,a),h(a,f),h(a,u),h(a,d),h(d,p),h(d,m),h(d,_),h(d,y),Ue(d,n[2][n[1]].sort),h(o,v),h(o,T),h(T,I),h(T,E),h(T,w),pe(w,n[2][n[1]].items),h(T,k),h(T,S),h(s,C),h(s,b),h(b,R),B||(F=[D(i,"click",n[5]),D(d,"change",n[6]),D(w,"input",n[7]),D(R,"click",n[4])],B=!0)},p(M,U){U&6&&Ue(d,M[2][M[1]].sort),U&6&&jt(w.value)!==M[2][M[1]].items&&pe(w,M[2][M[1]].items),U&1&&P!==(P=me(M[0].role.includes("User")?"user-config":"admin-config")+" svelte-al42yx")&&c(s,"class",P)},d(M){M&&A(e),M&&A(t),M&&A(s),B=!1,ue(F)}}}function La(n){let e,t,s,l,i=n[0].username+"",r,o,a,f=!n[0].role.includes("Administrator"),u,d,p,m=f&&wl(n);return{c(){e=g("label"),t=g("i"),s=N(),l=g("span"),r=z(i),a=N(),m&&m.c(),u=Pe(),c(t,"class","fas fa-user-cog"),c(l,"class","nav-title svelte-al42yx"),c(e,"id","user-label"),c(e,"class",o=me(n[0].role)+" svelte-al42yx"),c(e,"for","show-config"),c(e,"title","show-config")},m(_,y){L(_,e,y),h(e,t),h(e,s),h(e,l),h(l,r),L(_,a,y),m&&m.m(_,y),L(_,u,y),d||(p=D(e,"click",n[3]),d=!0)},p(_,[y]){y&1&&i!==(i=_[0].username+"")&&J(r,i),y&1&&o!==(o=me(_[0].role)+" svelte-al42yx")&&c(e,"class",o),y&1&&(f=!_[0].role.includes("Administrator")),f?m?m.p(_,y):(m=wl(_),m.c(),m.m(u.parentNode,u)):m&&(m.d(1),m=null)},i:Z,o:Z,d(_){_&&A(e),_&&A(a),m&&m.d(_),_&&A(u),d=!1,p()}}}function Fa(n,e,t){let s;Ne(n,Bn,_=>t(8,s=_));let{User:l}=e,i=document.title.split(" ")[0];const r=Ve(),o={...s},a=()=>{l.role.includes("Administrator")&&r("click")};new MutationObserver(()=>t(1,i=document.title.split(" ")[0])).observe(document.querySelector("title"),{childList:!0});const u=()=>{Tr(o)};function d(_){we.call(this,n,_)}function p(){o[i].sort=Ot(this),t(2,o)}function m(){o[i].items=jt(this.value),t(2,o)}return n.$$set=_=>{"User"in _&&t(0,l=_.User)},[l,i,o,a,u,d,p,m]}class Oa extends te{constructor(e){super(),ee(this,e,Fa,La,x,{User:0})}}const kt=nt(!1),Ma=async n=>{kt.update(e=>n!==void 0?n:!e)},Sr=({location:n,href:e,isPartiallyCurrent:t})=>{let s=!1;return e==="/"&&n.pathname==="/"&&(s=!0),e!=="/"&&t&&(s=!0),s?{class:"active"}:{}};function kl(n,e,t){const s=n.slice();return s[7]=e[t],s}const Da=n=>({item:n&1}),Cl=n=>({item:n[7]});function Ba(n){let e,t,s,l;return t=new ur({props:{to:n[7].path,getProps:Sr,$$slots:{default:[ja]},$$scope:{ctx:n}}}),{c(){e=g("li"),Y(t.$$.fragment),s=N(),c(e,"class","nav-item svelte-f5g7zn")},m(i,r){L(i,e,r),W(t,e,null),h(e,s),l=!0},p(i,r){const o={};r&1&&(o.to=i[7].path),r&65&&(o.$$scope={dirty:r,ctx:i}),t.$set(o)},i(i){l||(O(t.$$.fragment,i),l=!0)},o(i){q(t.$$.fragment,i),l=!1},d(i){i&&A(e),K(t)}}}function qa(n){let e;const t=n[4].default,s=ct(t,n,n[6],Cl);return{c(){s&&s.c()},m(l,i){s&&s.m(l,i),e=!0},p(l,i){s&&s.p&&(!e||i&65)&&dt(s,t,l,l[6],e?ut(t,l[6],i,Da):ht(l[6]),Cl)},i(l){e||(O(s,l),e=!0)},o(l){q(s,l),e=!1},d(l){s&&s.d(l)}}}function ja(n){let e,t,s,l,i=n[7].title+"",r;return{c(){e=g("i"),s=N(),l=g("span"),r=z(i),c(e,"class",t=me("fas fa-"+n[7].class)+" svelte-f5g7zn"),c(l,"class","nav-title")},m(o,a){L(o,e,a),L(o,s,a),L(o,l,a),h(l,r)},p(o,a){a&1&&t!==(t=me("fas fa-"+o[7].class)+" svelte-f5g7zn")&&c(e,"class",t),a&1&&i!==(i=o[7].title+"")&&J(r,i)},d(o){o&&A(e),o&&A(s),o&&A(l)}}}function Il(n){let e,t,s,l,i;const r=[qa,Ba],o=[];function a(f,u){return u&3&&(e=null),e==null&&(e=!!f[1].includes(f[7].title)),e?0:1}return t=a(n,-1),s=o[t]=r[t](n),{c(){s.c(),l=Pe()},m(f,u){o[t].m(f,u),L(f,l,u),i=!0},p(f,u){let d=t;t=a(f,u),t===d?o[t].p(f,u):(ve(),q(o[d],1,1,()=>{o[d]=null}),_e(),s=o[t],s?s.p(f,u):(s=o[t]=r[t](f),s.c()),O(s,1),s.m(l.parentNode,l))},i(f){i||(O(s),i=!0)},o(f){q(s),i=!1},d(f){o[t].d(f),f&&A(l)}}}function Ua(n){let e,t,s,l,i,r,o,a=n[0],f=[];for(let d=0;d<a.length;d+=1)f[d]=Il(kl(n,a,d));const u=d=>q(f[d],1,1,()=>{f[d]=null});return r=new Oa({props:{User:n[3]}}),r.$on("click",n[5]),{c(){e=g("nav"),t=g("ul");for(let d=0;d<f.length;d+=1)f[d].c();s=N(),l=g("ul"),i=g("li"),Y(r.$$.fragment),c(t,"class","navbar-nav svelte-f5g7zn"),c(i,"id","p-config"),c(i,"class","nav-item svelte-f5g7zn"),c(l,"class","navbar-nav svelte-f5g7zn"),c(e,"id","menu"),c(e,"class","navbar svelte-f5g7zn"),$(e,"hide",n[2])},m(d,p){L(d,e,p),h(e,t);for(let m=0;m<f.length;m+=1)f[m].m(t,null);h(e,s),h(e,l),h(l,i),W(r,i,null),o=!0},p(d,[p]){if(p&67){a=d[0];let m;for(m=0;m<a.length;m+=1){const _=kl(d,a,m);f[m]?(f[m].p(_,p),O(f[m],1)):(f[m]=Il(_),f[m].c(),O(f[m],1),f[m].m(t,null))}for(ve(),m=a.length;m<f.length;m+=1)u(m);_e()}(!o||p&4)&&$(e,"hide",d[2])},i(d){if(!o){for(let p=0;p<a.length;p+=1)O(f[p]);O(r.$$.fragment,d),o=!0}},o(d){f=f.filter(Boolean);for(let p=0;p<f.length;p+=1)q(f[p]);q(r.$$.fragment,d),o=!1},d(d){d&&A(e),Le(f,d),K(r)}}}function Ha(n,e,t){let{$$slots:s={},$$scope:l}=e,{navItems:i}=e,{filters:r=[]}=e;const o=Re("User");let a=!1;kt.subscribe(u=>t(2,a=u));function f(u){we.call(this,n,u)}return n.$$set=u=>{"navItems"in u&&t(0,i=u.navItems),"filters"in u&&t(1,r=u.filters),"$$scope"in u&&t(6,l=u.$$scope)},[i,r,a,o,s,f,l]}class Nr extends te{constructor(e){super(),ee(this,e,Ha,Ua,x,{navItems:0,filters:1})}}function Va(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Rr={exports:{}},qs={exports:{}},Pr=function(e,t){return function(){for(var l=new Array(arguments.length),i=0;i<l.length;i++)l[i]=arguments[i];return e.apply(t,l)}},za=Pr,js=Object.prototype.toString,Us=function(n){return function(e){var t=js.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())}}(Object.create(null));function Ct(n){return n=n.toLowerCase(),function(t){return Us(t)===n}}function Hs(n){return Array.isArray(n)}function Nn(n){return typeof n>"u"}function Wa(n){return n!==null&&!Nn(n)&&n.constructor!==null&&!Nn(n.constructor)&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}var Ar=Ct("ArrayBuffer");function Ka(n){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Ar(n.buffer),e}function Ya(n){return typeof n=="string"}function Xa(n){return typeof n=="number"}function Lr(n){return n!==null&&typeof n=="object"}function _n(n){if(Us(n)!=="object")return!1;var e=Object.getPrototypeOf(n);return e===null||e===Object.prototype}var Ja=Ct("Date"),Ga=Ct("File"),Qa=Ct("Blob"),Za=Ct("FileList");function Vs(n){return js.call(n)==="[object Function]"}function $a(n){return Lr(n)&&Vs(n.pipe)}function xa(n){var e="[object FormData]";return n&&(typeof FormData=="function"&&n instanceof FormData||js.call(n)===e||Vs(n.toString)&&n.toString()===e)}var ef=Ct("URLSearchParams");function tf(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function nf(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function zs(n,e){if(!(n===null||typeof n>"u"))if(typeof n!="object"&&(n=[n]),Hs(n))for(var t=0,s=n.length;t<s;t++)e.call(null,n[t],t,n);else for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&e.call(null,n[l],l,n)}function Cs(){var n={};function e(l,i){_n(n[i])&&_n(l)?n[i]=Cs(n[i],l):_n(l)?n[i]=Cs({},l):Hs(l)?n[i]=l.slice():n[i]=l}for(var t=0,s=arguments.length;t<s;t++)zs(arguments[t],e);return n}function sf(n,e,t){return zs(e,function(l,i){t&&typeof l=="function"?n[i]=za(l,t):n[i]=l}),n}function lf(n){return n.charCodeAt(0)===65279&&(n=n.slice(1)),n}function rf(n,e,t,s){n.prototype=Object.create(e.prototype,s),n.prototype.constructor=n,t&&Object.assign(n.prototype,t)}function of(n,e,t){var s,l,i,r={};e=e||{};do{for(s=Object.getOwnPropertyNames(n),l=s.length;l-- >0;)i=s[l],r[i]||(e[i]=n[i],r[i]=!0);n=Object.getPrototypeOf(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e}function af(n,e,t){n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;var s=n.indexOf(e,t);return s!==-1&&s===t}function ff(n){if(!n)return null;var e=n.length;if(Nn(e))return null;for(var t=new Array(e);e-- >0;)t[e]=n[e];return t}var cf=function(n){return function(e){return n&&e instanceof n}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),Ae={isArray:Hs,isArrayBuffer:Ar,isBuffer:Wa,isFormData:xa,isArrayBufferView:Ka,isString:Ya,isNumber:Xa,isObject:Lr,isPlainObject:_n,isUndefined:Nn,isDate:Ja,isFile:Ga,isBlob:Qa,isFunction:Vs,isStream:$a,isURLSearchParams:ef,isStandardBrowserEnv:nf,forEach:zs,merge:Cs,extend:sf,trim:tf,stripBOM:lf,inherits:rf,toFlatObject:of,kindOf:Us,kindOfTest:Ct,endsWith:af,toArray:ff,isTypedArray:cf,isFileList:Za},Nt=Ae;function El(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Fr=function(e,t,s){if(!t)return e;var l;if(s)l=s(t);else if(Nt.isURLSearchParams(t))l=t.toString();else{var i=[];Nt.forEach(t,function(a,f){a===null||typeof a>"u"||(Nt.isArray(a)?f=f+"[]":a=[a],Nt.forEach(a,function(d){Nt.isDate(d)?d=d.toISOString():Nt.isObject(d)&&(d=JSON.stringify(d)),i.push(El(f)+"="+El(d))}))}),l=i.join("&")}if(l){var r=e.indexOf("#");r!==-1&&(e=e.slice(0,r)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e},uf=Ae;function qn(){this.handlers=[]}qn.prototype.use=function(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1};qn.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};qn.prototype.forEach=function(e){uf.forEach(this.handlers,function(s){s!==null&&e(s)})};var df=qn,hf=Ae,pf=function(e,t){hf.forEach(e,function(l,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=l,delete e[i])})},Or=Ae;function Dt(n,e,t,s,l){Error.call(this),this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),l&&(this.response=l)}Or.inherits(Dt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Mr=Dt.prototype,Dr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(n){Dr[n]={value:n}});Object.defineProperties(Dt,Dr);Object.defineProperty(Mr,"isAxiosError",{value:!0});Dt.from=function(n,e,t,s,l,i){var r=Object.create(Mr);return Or.toFlatObject(n,r,function(a){return a!==Error.prototype}),Dt.call(r,n.message,e,t,s,l),r.name=n.name,i&&Object.assign(r,i),r};var Vt=Dt,Br={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},We=Ae;function mf(n,e){e=e||new FormData;var t=[];function s(i){return i===null?"":We.isDate(i)?i.toISOString():We.isArrayBuffer(i)||We.isTypedArray(i)?typeof Blob=="function"?new Blob([i]):Buffer.from(i):i}function l(i,r){if(We.isPlainObject(i)||We.isArray(i)){if(t.indexOf(i)!==-1)throw Error("Circular reference detected in "+r);t.push(i),We.forEach(i,function(a,f){if(!We.isUndefined(a)){var u=r?r+"."+f:f,d;if(a&&!r&&typeof a=="object"){if(We.endsWith(f,"{}"))a=JSON.stringify(a);else if(We.endsWith(f,"[]")&&(d=We.toArray(a))){d.forEach(function(p){!We.isUndefined(p)&&e.append(u,s(p))});return}}l(a,u)}}),t.pop()}else e.append(r,s(i))}return l(n),e}var qr=mf,Gn,Tl;function gf(){if(Tl)return Gn;Tl=1;var n=Vt;return Gn=function(t,s,l){var i=l.config.validateStatus;!l.status||!i||i(l.status)?t(l):s(new n("Request failed with status code "+l.status,[n.ERR_BAD_REQUEST,n.ERR_BAD_RESPONSE][Math.floor(l.status/100)-4],l.config,l.request,l))},Gn}var Qn,Sl;function vf(){if(Sl)return Qn;Sl=1;var n=Ae;return Qn=n.isStandardBrowserEnv()?function(){return{write:function(s,l,i,r,o,a){var f=[];f.push(s+"="+encodeURIComponent(l)),n.isNumber(i)&&f.push("expires="+new Date(i).toGMTString()),n.isString(r)&&f.push("path="+r),n.isString(o)&&f.push("domain="+o),a===!0&&f.push("secure"),document.cookie=f.join("; ")},read:function(s){var l=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return l?decodeURIComponent(l[3]):null},remove:function(s){this.write(s,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Qn}var _f=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},bf=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},yf=_f,wf=bf,jr=function(e,t){return e&&!yf(t)?wf(e,t):t},Zn,Nl;function kf(){if(Nl)return Zn;Nl=1;var n=Ae,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Zn=function(s){var l={},i,r,o;return s&&n.forEach(s.split(`
`),function(f){if(o=f.indexOf(":"),i=n.trim(f.substr(0,o)).toLowerCase(),r=n.trim(f.substr(o+1)),i){if(l[i]&&e.indexOf(i)>=0)return;i==="set-cookie"?l[i]=(l[i]?l[i]:[]).concat([r]):l[i]=l[i]?l[i]+", "+r:r}}),l},Zn}var $n,Rl;function Cf(){if(Rl)return $n;Rl=1;var n=Ae;return $n=n.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a"),l;function i(r){var o=r;return t&&(s.setAttribute("href",o),o=s.href),s.setAttribute("href",o),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return l=i(window.location.href),function(o){var a=n.isString(o)?i(o):o;return a.protocol===l.protocol&&a.host===l.host}}():function(){return function(){return!0}}(),$n}var xn,Pl;function jn(){if(Pl)return xn;Pl=1;var n=Vt,e=Ae;function t(s){n.call(this,s==null?"canceled":s,n.ERR_CANCELED),this.name="CanceledError"}return e.inherits(t,n,{__CANCEL__:!0}),xn=t,xn}var es,Al;function If(){return Al||(Al=1,es=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}),es}var ts,Ll;function Fl(){if(Ll)return ts;Ll=1;var n=Ae,e=gf(),t=vf(),s=Fr,l=jr,i=kf(),r=Cf(),o=Br,a=Vt,f=jn(),u=If();return ts=function(p){return new Promise(function(_,y){var v=p.data,T=p.headers,I=p.responseType,E;function w(){p.cancelToken&&p.cancelToken.unsubscribe(E),p.signal&&p.signal.removeEventListener("abort",E)}n.isFormData(v)&&n.isStandardBrowserEnv()&&delete T["Content-Type"];var k=new XMLHttpRequest;if(p.auth){var S=p.auth.username||"",C=p.auth.password?unescape(encodeURIComponent(p.auth.password)):"";T.Authorization="Basic "+btoa(S+":"+C)}var b=l(p.baseURL,p.url);k.open(p.method.toUpperCase(),s(b,p.params,p.paramsSerializer),!0),k.timeout=p.timeout;function R(){if(!!k){var F="getAllResponseHeaders"in k?i(k.getAllResponseHeaders()):null,M=!I||I==="text"||I==="json"?k.responseText:k.response,U={data:M,status:k.status,statusText:k.statusText,headers:F,config:p,request:k};e(function(H){_(H),w()},function(H){y(H),w()},U),k=null}}if("onloadend"in k?k.onloadend=R:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(R)},k.onabort=function(){!k||(y(new a("Request aborted",a.ECONNABORTED,p,k)),k=null)},k.onerror=function(){y(new a("Network Error",a.ERR_NETWORK,p,k,k)),k=null},k.ontimeout=function(){var M=p.timeout?"timeout of "+p.timeout+"ms exceeded":"timeout exceeded",U=p.transitional||o;p.timeoutErrorMessage&&(M=p.timeoutErrorMessage),y(new a(M,U.clarifyTimeoutError?a.ETIMEDOUT:a.ECONNABORTED,p,k)),k=null},n.isStandardBrowserEnv()){var P=(p.withCredentials||r(b))&&p.xsrfCookieName?t.read(p.xsrfCookieName):void 0;P&&(T[p.xsrfHeaderName]=P)}"setRequestHeader"in k&&n.forEach(T,function(M,U){typeof v>"u"&&U.toLowerCase()==="content-type"?delete T[U]:k.setRequestHeader(U,M)}),n.isUndefined(p.withCredentials)||(k.withCredentials=!!p.withCredentials),I&&I!=="json"&&(k.responseType=p.responseType),typeof p.onDownloadProgress=="function"&&k.addEventListener("progress",p.onDownloadProgress),typeof p.onUploadProgress=="function"&&k.upload&&k.upload.addEventListener("progress",p.onUploadProgress),(p.cancelToken||p.signal)&&(E=function(F){!k||(y(!F||F&&F.type?new f:F),k.abort(),k=null)},p.cancelToken&&p.cancelToken.subscribe(E),p.signal&&(p.signal.aborted?E():p.signal.addEventListener("abort",E))),v||(v=null);var B=u(b);if(B&&["http","https","file"].indexOf(B)===-1){y(new a("Unsupported protocol "+B+":",a.ERR_BAD_REQUEST,p));return}k.send(v)})},ts}var ns,Ol;function Ef(){return Ol||(Ol=1,ns=null),ns}var Ee=Ae,Ml=pf,Dl=Vt,Tf=Br,Sf=qr,Nf={"Content-Type":"application/x-www-form-urlencoded"};function Bl(n,e){!Ee.isUndefined(n)&&Ee.isUndefined(n["Content-Type"])&&(n["Content-Type"]=e)}function Rf(){var n;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(n=Fl()),n}function Pf(n,e,t){if(Ee.isString(n))try{return(e||JSON.parse)(n),Ee.trim(n)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(n)}var Un={transitional:Tf,adapter:Rf(),transformRequest:[function(e,t){if(Ml(t,"Accept"),Ml(t,"Content-Type"),Ee.isFormData(e)||Ee.isArrayBuffer(e)||Ee.isBuffer(e)||Ee.isStream(e)||Ee.isFile(e)||Ee.isBlob(e))return e;if(Ee.isArrayBufferView(e))return e.buffer;if(Ee.isURLSearchParams(e))return Bl(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var s=Ee.isObject(e),l=t&&t["Content-Type"],i;if((i=Ee.isFileList(e))||s&&l==="multipart/form-data"){var r=this.env&&this.env.FormData;return Sf(i?{"files[]":e}:e,r&&new r)}else if(s||l==="application/json")return Bl(t,"application/json"),Pf(e);return e}],transformResponse:[function(e){var t=this.transitional||Un.transitional,s=t&&t.silentJSONParsing,l=t&&t.forcedJSONParsing,i=!s&&this.responseType==="json";if(i||l&&Ee.isString(e)&&e.length)try{return JSON.parse(e)}catch(r){if(i)throw r.name==="SyntaxError"?Dl.from(r,Dl.ERR_BAD_RESPONSE,this,null,this.response):r}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ef()},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ee.forEach(["delete","get","head"],function(e){Un.headers[e]={}});Ee.forEach(["post","put","patch"],function(e){Un.headers[e]=Ee.merge(Nf)});var Ws=Un,Af=Ae,Lf=Ws,Ff=function(e,t,s){var l=this||Lf;return Af.forEach(s,function(r){e=r.call(l,e,t)}),e},ss,ql;function Ur(){return ql||(ql=1,ss=function(e){return!!(e&&e.__CANCEL__)}),ss}var jl=Ae,ls=Ff,Of=Ur(),Mf=Ws,Df=jn();function is(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Df}var Bf=function(e){is(e),e.headers=e.headers||{},e.data=ls.call(e,e.data,e.headers,e.transformRequest),e.headers=jl.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),jl.forEach(["delete","get","head","post","put","patch","common"],function(l){delete e.headers[l]});var t=e.adapter||Mf.adapter;return t(e).then(function(l){return is(e),l.data=ls.call(e,l.data,l.headers,e.transformResponse),l},function(l){return Of(l)||(is(e),l&&l.response&&(l.response.data=ls.call(e,l.response.data,l.response.headers,e.transformResponse))),Promise.reject(l)})},De=Ae,Hr=function(e,t){t=t||{};var s={};function l(u,d){return De.isPlainObject(u)&&De.isPlainObject(d)?De.merge(u,d):De.isPlainObject(d)?De.merge({},d):De.isArray(d)?d.slice():d}function i(u){if(De.isUndefined(t[u])){if(!De.isUndefined(e[u]))return l(void 0,e[u])}else return l(e[u],t[u])}function r(u){if(!De.isUndefined(t[u]))return l(void 0,t[u])}function o(u){if(De.isUndefined(t[u])){if(!De.isUndefined(e[u]))return l(void 0,e[u])}else return l(void 0,t[u])}function a(u){if(u in t)return l(e[u],t[u]);if(u in e)return l(void 0,e[u])}var f={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a};return De.forEach(Object.keys(e).concat(Object.keys(t)),function(d){var p=f[d]||i,m=p(d);De.isUndefined(m)&&p!==a||(s[d]=m)}),s},rs,Ul;function Vr(){return Ul||(Ul=1,rs={version:"0.27.2"}),rs}var qf=Vr().version,it=Vt,Ks={};["object","boolean","number","function","string","symbol"].forEach(function(n,e){Ks[n]=function(s){return typeof s===n||"a"+(e<1?"n ":" ")+n}});var Hl={};Ks.transitional=function(e,t,s){function l(i,r){return"[Axios v"+qf+"] Transitional option '"+i+"'"+r+(s?". "+s:"")}return function(i,r,o){if(e===!1)throw new it(l(r," has been removed"+(t?" in "+t:"")),it.ERR_DEPRECATED);return t&&!Hl[r]&&(Hl[r]=!0,console.warn(l(r," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,r,o):!0}};function jf(n,e,t){if(typeof n!="object")throw new it("options must be an object",it.ERR_BAD_OPTION_VALUE);for(var s=Object.keys(n),l=s.length;l-- >0;){var i=s[l],r=e[i];if(r){var o=n[i],a=o===void 0||r(o,i,n);if(a!==!0)throw new it("option "+i+" must be "+a,it.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new it("Unknown option "+i,it.ERR_BAD_OPTION)}}var Uf={assertOptions:jf,validators:Ks},zr=Ae,Hf=Fr,Vl=df,zl=Bf,Hn=Hr,Vf=jr,Wr=Uf,Rt=Wr.validators;function Bt(n){this.defaults=n,this.interceptors={request:new Vl,response:new Vl}}Bt.prototype.request=function(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Hn(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var s=t.transitional;s!==void 0&&Wr.assertOptions(s,{silentJSONParsing:Rt.transitional(Rt.boolean),forcedJSONParsing:Rt.transitional(Rt.boolean),clarifyTimeoutError:Rt.transitional(Rt.boolean)},!1);var l=[],i=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(t)===!1||(i=i&&m.synchronous,l.unshift(m.fulfilled,m.rejected))});var r=[];this.interceptors.response.forEach(function(m){r.push(m.fulfilled,m.rejected)});var o;if(!i){var a=[zl,void 0];for(Array.prototype.unshift.apply(a,l),a=a.concat(r),o=Promise.resolve(t);a.length;)o=o.then(a.shift(),a.shift());return o}for(var f=t;l.length;){var u=l.shift(),d=l.shift();try{f=u(f)}catch(p){d(p);break}}try{o=zl(f)}catch(p){return Promise.reject(p)}for(;r.length;)o=o.then(r.shift(),r.shift());return o};Bt.prototype.getUri=function(e){e=Hn(this.defaults,e);var t=Vf(e.baseURL,e.url);return Hf(t,e.params,e.paramsSerializer)};zr.forEach(["delete","get","head","options"],function(e){Bt.prototype[e]=function(t,s){return this.request(Hn(s||{},{method:e,url:t,data:(s||{}).data}))}});zr.forEach(["post","put","patch"],function(e){function t(s){return function(i,r,o){return this.request(Hn(o||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:r}))}}Bt.prototype[e]=t(),Bt.prototype[e+"Form"]=t(!0)});var zf=Bt,os,Wl;function Wf(){if(Wl)return os;Wl=1;var n=jn();function e(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var s;this.promise=new Promise(function(r){s=r});var l=this;this.promise.then(function(i){if(!!l._listeners){var r,o=l._listeners.length;for(r=0;r<o;r++)l._listeners[r](i);l._listeners=null}}),this.promise.then=function(i){var r,o=new Promise(function(a){l.subscribe(a),r=a}).then(i);return o.cancel=function(){l.unsubscribe(r)},o},t(function(r){l.reason||(l.reason=new n(r),s(l.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]},e.prototype.unsubscribe=function(s){if(!!this._listeners){var l=this._listeners.indexOf(s);l!==-1&&this._listeners.splice(l,1)}},e.source=function(){var s,l=new e(function(r){s=r});return{token:l,cancel:s}},os=e,os}var as,Kl;function Kf(){return Kl||(Kl=1,as=function(e){return function(s){return e.apply(null,s)}}),as}var fs,Yl;function Yf(){if(Yl)return fs;Yl=1;var n=Ae;return fs=function(t){return n.isObject(t)&&t.isAxiosError===!0},fs}var Xl=Ae,Xf=Pr,bn=zf,Jf=Hr,Gf=Ws;function Kr(n){var e=new bn(n),t=Xf(bn.prototype.request,e);return Xl.extend(t,bn.prototype,e),Xl.extend(t,e),t.create=function(l){return Kr(Jf(n,l))},t}var Me=Kr(Gf);Me.Axios=bn;Me.CanceledError=jn();Me.CancelToken=Wf();Me.isCancel=Ur();Me.VERSION=Vr().version;Me.toFormData=qr;Me.AxiosError=Vt;Me.Cancel=Me.CanceledError;Me.all=function(e){return Promise.all(e)};Me.spread=Kf();Me.isAxiosError=Yf();qs.exports=Me;qs.exports.default=Me;(function(n){n.exports=qs.exports})(Rr);const Rn=Va(Rr.exports),Ys=async(n,e)=>{try{const{data:t}=await Rn.post(`/api/${n}`,e);return t}catch(t){return{error:t,valid:!1}}};let cs;const Xs=async n=>{const e=n.filter(t=>t).join("/");try{const{data:t}=await Rn.get(`/api/${e}`);return t}catch(t){return{error:t,valid:!1}}},Qf=async(n,e)=>Ys("files/favorites/"+n,e),Zf=async n=>Xs(["admin",...n]),$f=async n=>Xs(["files",...n]),xf=async n=>{try{cs&&cs();const{data:e}=await Rn.get(n,{cancelToken:new Rn.CancelToken(t=>cs=t)});return e}catch(e){return{valid:!1,error:e}}},Ie={get:Xs,post:Ys,admin:Zf,files:$f,postFav:Qf};function ec(n){const e=n-1;return e*e*e+1}function wt(n,{delay:e=0,duration:t=400,easing:s=Mn}={}){const l=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:s,css:i=>`opacity: ${i*l}`}}function Pn(n,{delay:e=0,duration:t=400,easing:s=ec,x:l=0,y:i=0,opacity:r=0}={}){const o=getComputedStyle(n),a=+o.opacity,f=o.transform==="none"?"":o.transform,u=a*(1-r);return{delay:e,duration:t,easing:s,css:(d,p)=>`
			transform: ${f} translate(${(1-d)*l}px, ${(1-d)*i}px);
			opacity: ${a-u*p}`}}function tc(n){let e,t,s,l,i=n[0].Id?"Edit":"Create",r,o,a,f,u,d,p,m,_,y,v,T,I,E,w,k,S,C,b,R,P,B,F,M,U,V,H,X,j,Q,re,ce,oe,de,ie,G,ae,le,he,Ce,It,tt,qe,Se,ye,vt=n[0].Id?"Update":"Save",Et,ze,Je,Tt,ne;return{c(){e=g("div"),t=g("div"),s=g("div"),l=g("h3"),r=z(i),o=N(),a=g("div"),f=g("input"),u=N(),d=g("div"),p=g("div"),p.innerHTML='<label for="Name" class="input-group-text svelte-1yq96mk"><i class="fas fa-user svelte-1yq96mk"></i></label>',m=N(),_=g("input"),y=N(),v=g("div"),T=g("div"),T.innerHTML='<label for="Password" class="input-group-text svelte-1yq96mk"><i class="fas fa-key svelte-1yq96mk"></i></label>',I=N(),E=g("input"),w=N(),k=g("div"),S=g("div"),S.innerHTML='<label for="Role" class="input-group-text">Role</label>',C=N(),b=g("select"),R=g("option"),R.textContent="User",P=g("option"),P.textContent="Administrator",B=g("option"),B.textContent="Manager",F=N(),M=g("div"),U=g("div"),V=g("div"),V.innerHTML='<label for="State" class="input-group-text">Status</label>',H=N(),X=g("select"),j=g("option"),j.textContent="Active",Q=g("option"),Q.textContent="Inactive",re=N(),ce=g("div"),oe=g("div"),oe.innerHTML='<label for="Adult" class="input-group-text">Adult</label>',de=N(),ie=g("input"),G=N(),ae=g("label"),ae.innerHTML='<i class="fas fa-times svelte-1yq96mk"></i>',le=N(),he=g("div"),Ce=z(n[1]),It=N(),tt=g("div"),qe=g("button"),qe.textContent="Cancel",Se=N(),ye=g("button"),Et=z(vt),c(s,"class","modal-header"),c(f,"type","hidden"),c(f,"name","Id"),c(f,"class","svelte-1yq96mk"),c(p,"class","input-group-prepend"),c(_,"class","form-control svelte-1yq96mk"),c(_,"type","text"),c(_,"name","Name"),c(d,"class","input-group"),c(T,"class","input-group-prepend"),c(E,"class","form-control svelte-1yq96mk"),c(E,"type","password"),c(E,"autocomplete","new-password"),c(v,"class","input-group"),c(S,"class","input-group-prepend"),R.__value="User",R.value=R.__value,P.__value="Administrator",P.value=P.__value,B.__value="Manager",B.value=B.__value,c(b,"class","form-control"),c(b,"name","Role"),n[0].Role===void 0&&Te(()=>n[7].call(b)),c(k,"class","input-group"),c(V,"class","input-group-prepend"),j.__value="Active",j.value=j.__value,Q.__value="Inactive",Q.value=Q.__value,c(X,"class","form-control"),c(X,"name","State"),n[0].Status===void 0&&Te(()=>n[8].call(X)),c(U,"class","first-ctrl input-group svelte-1yq96mk"),c(oe,"class","input-group-prepend"),c(ie,"id","Adult"),c(ie,"type","checkbox"),c(ie,"class","svelte-1yq96mk"),c(ae,"for","Adult"),c(ae,"class","form-control checkadult svelte-1yq96mk"),c(ce,"class","second-ctrl input-group svelte-1yq96mk"),c(M,"class","input-grouping svelte-1yq96mk"),c(he,"class","errors"),c(a,"class","modal-body"),c(qe,"class","btn"),c(ye,"class","btn"),c(tt,"class","modal-footer"),c(t,"class","modal card svelte-1yq96mk"),c(e,"class","modal-container")},m(se,ge){L(se,e,ge),h(e,t),h(t,s),h(s,l),h(l,r),h(t,o),h(t,a),h(a,f),pe(f,n[0].Id),h(a,u),h(a,d),h(d,p),h(d,m),h(d,_),pe(_,n[0].Name),h(a,y),h(a,v),h(v,T),h(v,I),h(v,E),pe(E,n[0].Password),h(a,w),h(a,k),h(k,S),h(k,C),h(k,b),h(b,R),h(b,P),h(b,B),Ue(b,n[0].Role),h(a,F),h(a,M),h(M,U),h(U,V),h(U,H),h(U,X),h(X,j),h(X,Q),Ue(X,n[0].Status),h(M,re),h(M,ce),h(ce,oe),h(ce,de),h(ce,ie),ie.checked=n[0].AdultPass,h(ce,G),h(ce,ae),h(a,le),h(a,he),h(he,Ce),h(t,It),h(t,tt),h(tt,qe),h(tt,Se),h(tt,ye),h(ye,Et),Je=!0,Tt||(ne=[D(f,"input",n[4]),D(_,"input",n[5]),D(E,"input",n[6]),D(b,"change",n[7]),D(X,"change",n[8]),D(ie,"change",n[9]),D(qe,"click",n[3]),D(ye,"click",n[2])],Tt=!0)},p(se,[ge]){(!Je||ge&1)&&i!==(i=se[0].Id?"Edit":"Create")&&J(r,i),ge&1&&pe(f,se[0].Id),ge&1&&_.value!==se[0].Name&&pe(_,se[0].Name),ge&1&&E.value!==se[0].Password&&pe(E,se[0].Password),ge&1&&Ue(b,se[0].Role),ge&1&&Ue(X,se[0].Status),ge&1&&(ie.checked=se[0].AdultPass),(!Je||ge&2)&&J(Ce,se[1]),(!Je||ge&1)&&vt!==(vt=se[0].Id?"Update":"Save")&&J(Et,vt)},i(se){Je||(Te(()=>{ze||(ze=Mt(t,wt,{duration:200},!0)),ze.run(1)}),Je=!0)},o(se){ze||(ze=Mt(t,wt,{duration:200},!1)),ze.run(0),Je=!1},d(se){se&&A(e),se&&ze&&ze.end(),Tt=!1,ue(ne)}}}function nc(n,e,t){let{foundUser:s={AdultPass:!1,Password:""}}=e;const l=Ve();let i="";const r=async _=>{if(!s.Name)return t(1,i="Name Can't be empty");const y=await Ie.post("admin/users/create-update",s);y.fail?t(1,i=y.msg):l("updateusers",y.user)},o=()=>{l("closeModal")};function a(){s.Id=this.value,t(0,s)}function f(){s.Name=this.value,t(0,s)}function u(){s.Password=this.value,t(0,s)}function d(){s.Role=Ot(this),t(0,s)}function p(){s.Status=Ot(this),t(0,s)}function m(){s.AdultPass=this.checked,t(0,s)}return n.$$set=_=>{"foundUser"in _&&t(0,s=_.foundUser)},[s,i,r,o,a,f,u,d,p,m]}class sc extends te{constructor(e){super(),ee(this,e,nc,tc,x,{foundUser:0})}}function Jl(n,e,t){const s=n.slice();return s[8]=e[t],s}function Gl(n){let e,t;return e=new sc({props:{foundUser:n[1]}}),e.$on("closeModal",n[4]),e.$on("updateusers",n[7]),{c(){Y(e.$$.fragment)},m(s,l){W(e,s,l),t=!0},p(s,l){const i={};l&2&&(i.foundUser=s[1]),e.$set(i)},i(s){t||(O(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){K(e,s)}}}function lc(n){let e;return{c(){e=g("tr"),e.innerHTML='<td colspan="5" class="svelte-1ug0ypr">Loading Data From Server</td>'},m(t,s){L(t,e,s)},p:Z,d(t){t&&A(e)}}}function ic(n){let e,t=n[0],s=[];for(let l=0;l<t.length;l+=1)s[l]=Ql(Jl(n,t,l));return{c(){for(let l=0;l<s.length;l+=1)s[l].c();e=Pe()},m(l,i){for(let r=0;r<s.length;r+=1)s[r].m(l,i);L(l,e,i)},p(l,i){if(i&97){t=l[0];let r;for(r=0;r<t.length;r+=1){const o=Jl(l,t,r);s[r]?s[r].p(o,i):(s[r]=Ql(o),s[r].c(),s[r].m(e.parentNode,e))}for(;r<s.length;r+=1)s[r].d(1);s.length=t.length}},d(l){Le(s,l),l&&A(e)}}}function Ql(n){let e,t,s,l,i,r,o,a=n[8].Name+"",f,u,d,p=n[8].Role+"",m,_,y,v=n[8].State+"",T,I,E,w=n[8].AdultPass?"true":"false",k,S,C,b,R,P;return{c(){e=g("tr"),t=g("td"),s=g("span"),s.innerHTML='<i class="fas fa-edit svelte-1ug0ypr"></i>',l=N(),i=g("span"),i.innerHTML='<i class="fas fa-trash-alt svelte-1ug0ypr"></i>',r=N(),o=g("td"),f=z(a),u=N(),d=g("td"),m=z(p),_=N(),y=g("td"),T=z(v),I=N(),E=g("td"),k=z(w),S=N(),c(s,"class","u-edit"),c(i,"class","u-remove ml-2"),c(t,"class","svelte-1ug0ypr"),c(o,"class","svelte-1ug0ypr"),c(d,"class","svelte-1ug0ypr"),c(y,"class","svelte-1ug0ypr"),c(E,"class","svelte-1ug0ypr"),c(e,"id",C=n[8].Id),c(e,"key",b=n[8].Name),c(e,"class","svelte-1ug0ypr")},m(B,F){L(B,e,F),h(e,t),h(t,s),h(t,l),h(t,i),h(e,r),h(e,o),h(o,f),h(e,u),h(e,d),h(d,m),h(e,_),h(e,y),h(y,T),h(e,I),h(e,E),h(E,k),h(e,S),R||(P=[D(s,"click",n[5]),D(i,"click",n[6])],R=!0)},p(B,F){F&1&&a!==(a=B[8].Name+"")&&J(f,a),F&1&&p!==(p=B[8].Role+"")&&J(m,p),F&1&&v!==(v=B[8].State+"")&&J(T,v),F&1&&w!==(w=B[8].AdultPass?"true":"false")&&J(k,w),F&1&&C!==(C=B[8].Id)&&c(e,"id",C),F&1&&b!==(b=B[8].Name)&&c(e,"key",b)},d(B){B&&A(e),R=!1,ue(P)}}}function rc(n){let e,t,s,l,i,r,o,a,f,u,d,p,m,_,y,v,T,I=n[3]&&Gl(n);function E(S,C){return S[0].length?ic:lc}let w=E(n),k=w(n);return{c(){I&&I.c(),e=N(),t=g("div"),s=g("div"),l=z(n[2]),i=N(),r=g("div"),o=g("span"),o.innerHTML='<i class="fas fa-user-plus svelte-1ug0ypr"></i>',a=N(),f=g("h3"),f.textContent="Users Manager",u=N(),d=g("table"),p=g("thead"),p.innerHTML=`<tr><th class="svelte-1ug0ypr">Actions</th> 
        <th class="svelte-1ug0ypr">Name</th> 
        <th class="svelte-1ug0ypr">Role</th> 
        <th class="svelte-1ug0ypr">State</th> 
        <th class="svelte-1ug0ypr">Adult</th></tr>`,m=N(),_=g("tbody"),k.c(),c(s,"class","remove-error"),c(o,"class","btn svelte-1ug0ypr"),c(f,"class","text-center"),c(r,"class","u-controls svelte-1ug0ypr"),c(d,"class","table table-dark table-hover table-bordered svelte-1ug0ypr"),c(t,"id","u-manager"),c(t,"class","card bg-dark manager svelte-1ug0ypr")},m(S,C){I&&I.m(S,C),L(S,e,C),L(S,t,C),h(t,s),h(s,l),h(t,i),h(t,r),h(r,o),h(r,a),h(r,f),h(t,u),h(t,d),h(d,p),h(d,m),h(d,_),k.m(_,null),y=!0,v||(T=D(o,"click",n[5]),v=!0)},p(S,[C]){S[3]?I?(I.p(S,C),C&8&&O(I,1)):(I=Gl(S),I.c(),O(I,1),I.m(e.parentNode,e)):I&&(ve(),q(I,1,1,()=>{I=null}),_e()),(!y||C&4)&&J(l,S[2]),w===(w=E(S))&&k?k.p(S,C):(k.d(1),k=w(S),k&&(k.c(),k.m(_,null)))},i(S){y||(O(I),y=!0)},o(S){q(I),y=!1},d(S){I&&I.d(S),S&&A(e),S&&A(t),k.d(),v=!1,T()}}}function oc(n,e,t){let s=[],l={AdultPass:!1},i="",r=!1;const o=()=>{t(3,r=!1),t(1,l={AdultPass:!1})},a=d=>{let p=d.target.closest("tr");p&&t(1,l={...s.find(m=>m.Id===p.id)}),t(3,r=!0)},f=async d=>{let p=d.target.closest("tr"),m=p.children[1].innerText;if(p){const _=await Ie.post("admin/users/remove",{Id:p.id,Role:m});_.removed?t(0,s=s.filter(y=>y.Id!==p.id)):t(2,i=_.msg)}},u=d=>{let p=d.detail,m=s.filter(_=>_.Id!==p.Id);t(0,s=[...m,p].sort((_,y)=>_.Name.localeCompare(y.Name))),p.Password="",o()};return He(async()=>{const d=await Ie.admin(["users"]);d.users&&t(0,s=d.users)}),[s,l,i,r,o,a,f,u]}class ac extends te{constructor(e){super(),ee(this,e,oc,rc,x,{})}}function fc(n){let e,t,s,l,i,r,o,a,f;return{c(){e=g("div"),t=g("div"),s=g("span"),s.innerHTML='<i class="fas fa-search"></i>',l=N(),i=g("input"),r=N(),o=g("span"),o.innerHTML='<i class="fas fa-times-circle"></i>',c(s,"class","btn-filter input-group-text"),c(t,"class","input-group-prepend svelte-b8tdkj"),c(i,"type","text"),c(i,"class","form-control filter-file svelte-b8tdkj"),c(i,"placeholder","Filter"),c(o,"id","clear-filter"),c(o,"class","svelte-b8tdkj"),c(e,"id","filter-control"),c(e,"class","input-group svelte-b8tdkj")},m(u,d){L(u,e,d),h(e,t),h(t,s),h(e,l),h(e,i),pe(i,n[0]),h(e,r),h(e,o),a||(f=[D(s,"click",n[3]),D(i,"input",n[4]),D(i,"keydown",n[2]),D(o,"click",n[1])],a=!0)},p(u,[d]){d&1&&i.value!==u[0]&&pe(i,u[0])},i:Z,o:Z,d(u){u&&A(e),a=!1,ue(f)}}}function cc(n,e,t){const s=Ve();let{filter:l=""}=e;const i=()=>{s("filter",""),t(0,l="")},r=f=>{f.keyCode===13&&s("filter",(l||"").replace(/%|\?/,""))},o=()=>{s("filter",(l||"").replace(/%|\?/,""))};function a(){l=this.value,t(0,l)}return n.$$set=f=>{"filter"in f&&t(0,l=f.filter)},[l,i,r,o,a]}class Vn extends te{constructor(e){super(),ee(this,e,cc,fc,x,{filter:0})}}const Is=/(android)|(iphone)/i.test(navigator.userAgent),yn=n=>n.Type.includes("Video"),uc=n=>n.Type.includes("Manga");function pt(n){if(n===0)return"00:00";var e=Math.floor(n/3600),t=Math.floor((n/3600-e)*60),s=Math.floor(n%60);return(e===0?"":e+":")+String(t).padStart(2,"0")+":"+String(s).padStart(2,"0")}const Xt=function(n,e,t,s,l){return(n-e)*(l-s)/(t-e)+s};var dn=null;const Es=n=>{try{if(dn&&n.tagName!=="BODY")document.fullscreenElement.tagName==="BODY"?document.exitFullscreen().then(()=>{n.requestFullscreen()}):document.exitFullscreen().then(()=>{dn.requestFullscreen()});else if(!document.fullscreenElement)n.requestFullscreen(),n.tagName==="BODY"&&(dn=n);else return document.exitFullscreen(),dn=null,!1}catch(e){console.log(e)}return!0},dc=(n,e)=>{let t=n.Name.replace("-",".").match(/\d+.\d+|\d+/),s=e.Name.replace("-",".").match(/\d+.\d+|\d+/);return t&&s?Number(t[0])-Number(s[0]):n.Name.replace("-","Z").localeCompare(e.Name.replace("-","Z"))};let Zl;const Yr=()=>{const n=document.querySelector(".viewer .f-name");n&&(clearTimeout(Zl),n.style.opacity=1,Zl=setTimeout(()=>{n.style.opacity=0},5e3))},mt=(n,e,t)=>Math.min(Math.max(n,e),t)||e,Lt={PrevFile:{name:"Ins",keyCode:45,isctrl:!0,action:null},NextFile:{name:"Del",keyCode:46,isctrl:!0,action:null},SkipForward:{name:"ArrowRight",keyCode:39,isctrl:!1,action:null},SkipBack:{name:"ArrowLeft",keyCode:37,isctrl:!1,action:null},Fullscreen:{name:"Enter",keyCode:13,isctrl:!1,action:null},VolumeUp:{name:"ArrowUp",keyCode:38,isctrl:!1,action:null},VolumeDown:{name:"ArrowDown",keyCode:40,isctrl:!1,action:null},PlayOrPause:{name:"Space",keyCode:32,isctrl:!1,action:null},ShowList:{name:"L",keyCode:30,isctrl:!1,action:null}},hc=n=>{for(let e of Object.keys(Lt))if(Lt[e].keyCode===n.keyCode){let{action:t,isctrl:s}=Lt[e];t&&n.ctrlKey===s&&t(n.ctrlKey);break}};document.on=function(n,e){this.addEventListener(n,e)};document.off=function(n,e){this.removeEventListener(n,e)};const pc=(n,e,t,s)=>{if(!n.querySelector("input")){n.textContent="",n.innerHTML=`<input type="text" value=${e} class="form-control" min=1 
                           max=${t}>`;let i=n.querySelector("input");i.on("focusout",r=>{n.textContent=`${e} / ${t}`}),i.onkeydown=r=>{r.keyCode===13&&(e=clamp(+i.value,1,t),console.log(e),s("gotopage",e),i=null)},i.focus(),i.setSelectionRange(i.value.length,i.value.length)}};function $l(n){let e,t,s,l,i,r,o,a,f,u,d,p,m;function _(T,I){return T[3]?gc:mc}let y=_(n),v=y(n);return{c(){e=g("div"),t=g("ul"),s=g("li"),s.innerHTML='<i class="fas fa-angle-double-left svelte-7bkf2o"></i>',l=N(),i=g("li"),i.innerHTML='<i class="fas fa-angle-left svelte-7bkf2o"></i>',r=N(),o=g("li"),v.c(),a=N(),f=g("li"),f.innerHTML='<i class="fas fa-angle-right svelte-7bkf2o"></i>',u=N(),d=g("li"),d.innerHTML='<i class="fas fa-angle-double-right svelte-7bkf2o"></i>',c(s,"id","first-page"),c(s,"class","page-link svelte-7bkf2o"),$(s,"d-none",n[2]),c(i,"id","prev-page"),c(i,"class","page-link svelte-7bkf2o"),$(i,"border-r-left",n[2]),c(o,"id","current-page"),c(o,"class","page-link svelte-7bkf2o"),c(f,"id","next-page"),c(f,"class","page-link svelte-7bkf2o"),$(f,"border-r-right",n[2]),c(d,"id","last-page"),c(d,"class","page-link svelte-7bkf2o"),$(d,"d-none",n[2]),c(t,"class","pagination svelte-7bkf2o"),c(e,"id","pager"),c(e,"class","svelte-7bkf2o")},m(T,I){L(T,e,I),h(e,t),h(t,s),h(t,l),h(t,i),h(t,r),h(t,o),v.m(o,null),h(t,a),h(t,f),h(t,u),h(t,d),p||(m=[D(o,"click",n[5]),D(e,"click",n[4])],p=!0)},p(T,I){I&4&&$(s,"d-none",T[2]),I&4&&$(i,"border-r-left",T[2]),y===(y=_(T))&&v?v.p(T,I):(v.d(1),v=y(T),v&&(v.c(),v.m(o,null))),I&4&&$(f,"border-r-right",T[2]),I&4&&$(d,"d-none",T[2])},d(T){T&&A(e),v.d(),p=!1,ue(m)}}}function mc(n){let e=n[0]+"/"+n[1],t;return{c(){t=z(e)},m(s,l){L(s,t,l)},p(s,l){l&3&&e!==(e=s[0]+"/"+s[1])&&J(t,e)},d(s){s&&A(t)}}}function gc(n){let e,t,s;return{c(){e=g("input"),c(e,"type","text"),e.value=n[0],c(e,"class","form-control")},m(l,i){L(l,e,i),t||(s=[D(e,"blur",n[6]),D(e,"change",n[8]),so(n[7].call(null,e)),D(e,"keydown",xe(n[9]))],t=!0)},p(l,i){i&1&&e.value!==l[0]&&(e.value=l[0])},d(l){l&&A(e),t=!1,ue(s)}}}function vc(n){let e,t=n[1]>1&&$l(n);return{c(){t&&t.c(),e=Pe()},m(s,l){t&&t.m(s,l),L(s,e,l)},p(s,[l]){s[1]>1?t?t.p(s,l):(t=$l(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Z,o:Z,d(s){t&&t.d(s),s&&A(e)}}}function _c(n,e,t){const s=Ve();let{page:l=1}=e,{totalPages:i=0}=e,{hideFL:r=!1}=e,o=!1;const a=y=>{window.localStorage.setItem("selected",0);let v=y.target;switch(y.target.id){case"prev-page":{f(l-1);break}case"next-page":{f(+l+1);break}case"first-page":{f(1);break}case"last-page":{f(i);break}case"current-page":{pc(v,l,i,s);break}}},f=y=>{let v=+y;isNaN(v)||(v=mt(v,1,i),s("gotopage",v))},u=()=>{t(3,o=!0)},d=()=>{t(3,o=!1)},p=y=>{y.focus()},m=y=>{f(y.target.value)};function _(y){we.call(this,n,y)}return n.$$set=y=>{"page"in y&&t(0,l=y.page),"totalPages"in y&&t(1,i=y.totalPages),"hideFL"in y&&t(2,r=y.hideFL)},[l,i,r,o,a,u,d,p,m,_]}class on extends te{constructor(e){super(),ee(this,e,_c,vc,x,{page:0,totalPages:1,hideFL:2})}}function xl(n,e,t){const s=n.slice();return s[13]=e[t].Id,s[14]=e[t].Name,s[15]=e[t].Type,s[16]=e[t].Status,s}function bc(n){let e,t=n[2],s=[];for(let l=0;l<t.length;l+=1)s[l]=ti(xl(n,t,l));return{c(){for(let l=0;l<s.length;l+=1)s[l].c();e=Pe()},m(l,i){for(let r=0;r<s.length;r+=1)s[r].m(l,i);L(l,e,i)},p(l,i){if(i&12){t=l[2];let r;for(r=0;r<t.length;r+=1){const o=xl(l,t,r);s[r]?s[r].p(o,i):(s[r]=ti(o),s[r].c(),s[r].m(e.parentNode,e))}for(;r<s.length;r+=1)s[r].d(1);s.length=t.length}},d(l){Le(s,l),l&&A(e)}}}function yc(n){let e,t=`Not ${n[1]} Found`,s;return{c(){e=g("li"),s=z(t),c(e,"class","list-group-item empty-list svelte-12yyfk9")},m(l,i){L(l,e,i),h(e,s)},p(l,i){i&2&&t!==(t=`Not ${l[1]} Found`)&&J(s,t)},d(l){l&&A(e)}}}function ei(n){let e;return{c(){e=g("i"),c(e,"class","fas fa-sync svelte-12yyfk9"),$(e,"completed",n[16])},m(t,s){L(t,e,s)},p(t,s){s&4&&$(e,"completed",t[16])},d(t){t&&A(e)}}}function ti(n){let e,t=n[15].includes("Folder"),s,l,i,r,o,a=n[14]+"",f,u,d,p,m,_=t&&ei(n);return{c(){e=g("li"),_&&_.c(),s=N(),l=g("i"),i=N(),r=g("i"),o=N(),f=z(a),u=N(),c(l,"class","fas fa-edit svelte-12yyfk9"),c(r,"class","fas fa-trash-alt svelte-12yyfk9"),c(e,"id",d=n[13]),c(e,"class","list-group-item svelte-12yyfk9"),$(e,"active",n[3]===n[13])},m(y,v){L(y,e,v),_&&_.m(e,null),h(e,s),h(e,l),h(e,i),h(e,r),h(e,o),h(e,f),h(e,u),p||(m=[D(e,"click",n[7]),D(e,"mouseenter",n[8]),D(e,"mouseleave",n[9]),D(e,"mousemove",n[10])],p=!0)},p(y,v){v&4&&(t=y[15].includes("Folder")),t?_?_.p(y,v):(_=ei(y),_.c(),_.m(e,s)):_&&(_.d(1),_=null),v&4&&a!==(a=y[14]+"")&&J(f,a),v&4&&d!==(d=y[13])&&c(e,"id",d),v&12&&$(e,"active",y[3]===y[13])},d(y){y&&A(e),_&&_.d(),p=!1,ue(m)}}}function wc(n){let e,t,s,l,i,r=`${n[6]} - ${n[1]}`,o,a,f,u,d,p,m,_;s=new Vn({props:{filter:n[0]}}),s.$on("filter",n[11]);function y(I,E){return I[2].length<1?yc:bc}let v=y(n),T=v(n);return m=new on({props:{page:n[4],totalPages:n[5]}}),m.$on("gotopage",n[12]),{c(){e=g("div"),t=g("div"),Y(s.$$.fragment),l=N(),i=g("h4"),o=z(r),a=N(),f=g("div"),u=g("ul"),T.c(),d=N(),p=g("div"),Y(m.$$.fragment),c(i,"class","text-center svelte-12yyfk9"),c(t,"class","controls svelte-12yyfk9"),c(u,"class","list-group text-dark"),c(f,"class","list-container svelte-12yyfk9"),c(p,"class","list-controls svelte-12yyfk9"),c(e,"id",n[1]),c(e,"class","file-list col-6 svelte-12yyfk9")},m(I,E){L(I,e,E),h(e,t),W(s,t,null),h(t,l),h(t,i),h(i,o),h(e,a),h(e,f),h(f,u),T.m(u,null),h(e,d),h(e,p),W(m,p,null),_=!0},p(I,[E]){const w={};E&1&&(w.filter=I[0]),s.$set(w),(!_||E&66)&&r!==(r=`${I[6]} - ${I[1]}`)&&J(o,r),v===(v=y(I))&&T?T.p(I,E):(T.d(1),T=v(I),T&&(T.c(),T.m(u,null)));const k={};E&16&&(k.page=I[4]),E&32&&(k.totalPages=I[5]),m.$set(k),(!_||E&2)&&c(e,"id",I[1])},i(I){_||(O(s.$$.fragment,I),O(m.$$.fragment,I),_=!0)},o(I){q(s.$$.fragment,I),q(m.$$.fragment,I),_=!1},d(I){I&&A(e),K(s),T.d(),K(m)}}}function kc(n,e,t){let{filter:s}=e,{title:l}=e,{items:i}=e,{folderId:r}=e,{page:o=1}=e,{totalPages:a=0}=e,{totalItems:f=0}=e;function u(v){we.call(this,n,v)}function d(v){we.call(this,n,v)}function p(v){we.call(this,n,v)}function m(v){we.call(this,n,v)}function _(v){we.call(this,n,v)}function y(v){we.call(this,n,v)}return n.$$set=v=>{"filter"in v&&t(0,s=v.filter),"title"in v&&t(1,l=v.title),"items"in v&&t(2,i=v.items),"folderId"in v&&t(3,r=v.folderId),"page"in v&&t(4,o=v.page),"totalPages"in v&&t(5,a=v.totalPages),"totalItems"in v&&t(6,f=v.totalItems)},[s,l,i,r,o,a,f,u,d,p,m,_,y]}class Xr extends te{constructor(e){super(),ee(this,e,kc,wc,x,{filter:0,title:1,items:2,folderId:3,page:4,totalPages:5,totalItems:6})}}function Cc(n){let e,t,s,l,i,r,o,a,f;return{c(){e=g("div"),t=g("span"),s=z(n[2]),l=N(),i=g("label"),r=g("input"),c(t,"class","check-label svelte-h6y81m"),st(t,"width","$"+n[3]),c(r,"type","checkbox"),c(r,"class","svelte-h6y81m"),c(i,"class",o=me(`fas fa-${n[0][n[1]]?"check":"times"}`)+" svelte-h6y81m"),c(e,"class","check-control svelte-h6y81m"),c(e,"style",n[4])},m(u,d){L(u,e,d),h(e,t),h(t,s),h(e,l),h(e,i),h(i,r),r.checked=n[0][n[1]],a||(f=D(r,"change",n[11]),a=!0)},p(u,[d]){d&4&&J(s,u[2]),d&8&&st(t,"width","$"+u[3]),d&3&&(r.checked=u[0][u[1]]),d&3&&o!==(o=me(`fas fa-${u[0][u[1]]?"check":"times"}`)+" svelte-h6y81m")&&c(i,"class",o)},i:Z,o:Z,d(u){u&&A(e),a=!1,f()}}}function Ic(n,e,t){let{item:s}=e,{key:l}=e,{label:i}=e,{labelWidth:r=100}=e,{mb:o=0}=e,{mt:a=0}=e,{ml:f=0}=e,{mr:u=0}=e,{mx:d=0}=e,{my:p=0}=e,m=`margin: ${a||p} ${u||d} ${o||p} ${f||d};`;function _(){s[l]=this.checked,t(0,s)}return n.$$set=y=>{"item"in y&&t(0,s=y.item),"key"in y&&t(1,l=y.key),"label"in y&&t(2,i=y.label),"labelWidth"in y&&t(3,r=y.labelWidth),"mb"in y&&t(5,o=y.mb),"mt"in y&&t(6,a=y.mt),"ml"in y&&t(7,f=y.ml),"mr"in y&&t(8,u=y.mr),"mx"in y&&t(9,d=y.mx),"my"in y&&t(10,p=y.my)},[s,l,i,r,m,o,a,f,u,d,p,_]}class Jr extends te{constructor(e){super(),ee(this,e,Ic,Cc,x,{item:0,key:1,label:2,labelWidth:3,mb:5,mt:6,ml:7,mr:8,mx:9,my:10})}}function Ec(n){let e,t,s=(n[2]||n[1])+"",l,i,r,o,a;return{c(){e=g("div"),t=g("div"),l=z(s),i=N(),r=g("textarea"),c(t,"for","Name"),c(t,"class","input-text svelte-1pwgw5z"),c(r,"name","Name"),c(r,"class","input-control svelte-1pwgw5z"),c(r,"rows",n[4]),c(e,"class","input-body svelte-1pwgw5z"),c(e,"style",n[3])},m(f,u){L(f,e,u),h(e,t),h(t,l),h(e,i),h(e,r),pe(r,n[0][n[1]]),o||(a=D(r,"input",n[5]),o=!0)},p(f,[u]){u&6&&s!==(s=(f[2]||f[1])+"")&&J(l,s),u&16&&c(r,"rows",f[4]),u&3&&pe(r,f[0][f[1]]),u&8&&c(e,"style",f[3])},i:Z,o:Z,d(f){f&&A(e),o=!1,a()}}}function Tc(n,e,t){let{file:s}=e,{key:l}=e,{label:i}=e,{style:r}=e,{rows:o}=e;function a(){s[l]=this.value,t(0,s)}return n.$$set=f=>{"file"in f&&t(0,s=f.file),"key"in f&&t(1,l=f.key),"label"in f&&t(2,i=f.label),"style"in f&&t(3,r=f.style),"rows"in f&&t(4,o=f.rows)},[s,l,i,r,o,a]}class Ts extends te{constructor(e){super(),ee(this,e,Tc,Ec,x,{file:0,key:1,label:2,style:3,rows:4})}}function Sc(n){let e,t,s,l;e=new Ts({props:{file:n[0],key:"Name",style:"margin-bottom: 5px",rows:"3"}});let i=n[0].Type==="Folder"&&ni(n);return{c(){Y(e.$$.fragment),t=N(),i&&i.c(),s=Pe()},m(r,o){W(e,r,o),L(r,t,o),i&&i.m(r,o),L(r,s,o),l=!0},p(r,o){const a={};o&1&&(a.file=r[0]),e.$set(a),r[0].Type==="Folder"?i?(i.p(r,o),o&1&&O(i,1)):(i=ni(r),i.c(),O(i,1),i.m(s.parentNode,s)):i&&(ve(),q(i,1,1,()=>{i=null}),_e())},i(r){l||(O(e.$$.fragment,r),O(i),l=!0)},o(r){q(e.$$.fragment,r),q(i),l=!1},d(r){K(e,r),r&&A(t),i&&i.d(r),r&&A(s)}}}function Nc(n){let e,t,s,l=n[0].Name+"",i,r,o;return{c(){e=g("p"),t=z("Are you sure you want to remove "),s=g("strong"),i=z(l),r=N(),o=g("div"),o.innerHTML=`<div class="input-group-prepend"><label for="sysdel" class="input-group-text del-label svelte-rmn3cz">Delete From System</label></div> 
            <input id="sysdel" type="checkbox" class="svelte-rmn3cz"/> 
            <label for="sysdel" class="form-control svelte-rmn3cz"><i class="fas fa-times svelte-rmn3cz"></i></label>`,c(s,"class","svelte-rmn3cz"),c(o,"class","input-group")},m(a,f){L(a,e,f),h(e,t),h(e,s),h(s,i),L(a,r,f),L(a,o,f)},p(a,f){f&1&&l!==(l=a[0].Name+"")&&J(i,l)},i:Z,o:Z,d(a){a&&A(e),a&&A(r),a&&A(o)}}}function ni(n){let e,t,s,l,i,r;return e=new Ts({props:{file:n[0],key:"Genres",style:"margin-bottom: 5px",rows:"2"}}),s=new Ts({props:{file:n[0],key:"Description",style:"margin-bottom: 5px",rows:"4"}}),i=new Jr({props:{label:"Completed",key:"Status",item:n[0]}}),{c(){Y(e.$$.fragment),t=N(),Y(s.$$.fragment),l=N(),Y(i.$$.fragment)},m(o,a){W(e,o,a),L(o,t,a),W(s,o,a),L(o,l,a),W(i,o,a),r=!0},p(o,a){const f={};a&1&&(f.file=o[0]),e.$set(f);const u={};a&1&&(u.file=o[0]),s.$set(u);const d={};a&1&&(d.item=o[0]),i.$set(d)},i(o){r||(O(e.$$.fragment,o),O(s.$$.fragment,o),O(i.$$.fragment,o),r=!0)},o(o){q(e.$$.fragment,o),q(s.$$.fragment,o),q(i.$$.fragment,o),r=!1},d(o){K(e,o),o&&A(t),K(s,o),o&&A(l),K(i,o)}}}function Rc(n){let e,t,s,l,i=n[1].title+"",r,o,a,f,u,d,p,m,_=(n[1].error||"")+"",y,v,T,I,E,w,k=n[1].Del?"Remove":"Update",S,C,b,R,P;const B=[Nc,Sc],F=[];function M(U,V){return U[1].Del?0:1}return u=M(n),d=F[u]=B[u](n),{c(){e=g("div"),t=g("div"),s=g("div"),l=g("h4"),r=z(i),o=N(),a=g("form"),f=g("div"),d.c(),p=N(),m=g("div"),y=z(_),v=N(),T=g("div"),I=g("button"),I.textContent="Cancel",E=N(),w=g("button"),S=z(k),c(s,"class","modal-header"),c(f,"class","modal-body"),c(m,"class","error svelte-rmn3cz"),c(I,"type","button"),c(I,"class","btn"),c(w,"type","submit"),c(w,"class","btn"),c(T,"class","modal-footer"),c(a,"action","#"),c(t,"class","modal card svelte-rmn3cz"),c(e,"class","modal-container")},m(U,V){L(U,e,V),h(e,t),h(t,s),h(s,l),h(l,r),h(t,o),h(t,a),h(a,f),F[u].m(f,null),h(a,p),h(a,m),h(m,y),h(a,v),h(a,T),h(T,I),h(T,E),h(T,w),h(w,S),b=!0,R||(P=[D(I,"click",n[3]),D(a,"submit",qt(n[2]))],R=!0)},p(U,[V]){(!b||V&2)&&i!==(i=U[1].title+"")&&J(r,i);let H=u;u=M(U),u===H?F[u].p(U,V):(ve(),q(F[H],1,1,()=>{F[H]=null}),_e(),d=F[u],d?d.p(U,V):(d=F[u]=B[u](U),d.c()),O(d,1),d.m(f,null)),(!b||V&2)&&_!==(_=(U[1].error||"")+"")&&J(y,_),(!b||V&2)&&k!==(k=U[1].Del?"Remove":"Update")&&J(S,k)},i(U){b||(O(d),Te(()=>{C||(C=Mt(t,wt,{duration:200},!0)),C.run(1)}),b=!0)},o(U){q(d),C||(C=Mt(t,wt,{duration:200},!1)),C.run(0),b=!1},d(U){U&&A(e),F[u].d(),U&&C&&C.end(),R=!1,ue(P)}}}function Pc(n,e,t){let{file:s}=e,{modalType:l}=e;function i(o){we.call(this,n,o)}function r(o){we.call(this,n,o)}return n.$$set=o=>{"file"in o&&t(0,s=o.file),"modalType"in o&&t(1,l=o.modalType)},[s,l,i,r]}class Js extends te{constructor(e){super(),ee(this,e,Pc,Rc,x,{file:0,modalType:1})}}const Gr=()=>{let n=document.querySelector(".list-container")||{};return parseInt(n.offsetHeight/37.19)};function si(n){let e,t;return e=new Js({props:{file:n[6],modalType:n[8]}}),e.$on("submit",n[14]),e.$on("click",n[15]),{c(){Y(e.$$.fragment)},m(s,l){W(e,s,l),t=!0},p(s,l){const i={};l&64&&(i.file=s[6]),l&256&&(i.modalType=s[8]),e.$set(i)},i(s){t||(O(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){K(e,s)}}}function li(n){let e,t,s,l,i,r=n[9].Path+"",o,a;return{c(){e=g("div"),t=g("img"),l=N(),i=g("span"),o=z(r),Fe(t.src,s=n[9].Cover)||c(t,"src",s),c(t,"alt","Cover Not Found"),c(t,"class","svelte-j0667k"),c(e,"class","thumbnail svelte-j0667k"),c(i,"id","f-path"),c(i,"style",a=`left: ${n[10].x}px; top:${n[10].y}px;`),c(i,"class","svelte-j0667k")},m(f,u){L(f,e,u),h(e,t),L(f,l,u),L(f,i,u),h(i,o)},p(f,u){u&512&&!Fe(t.src,s=f[9].Cover)&&c(t,"src",s),u&512&&r!==(r=f[9].Path+"")&&J(o,r),u&1024&&a!==(a=`left: ${f[10].x}px; top:${f[10].y}px;`)&&c(i,"style",a)},d(f){f&&A(e),f&&A(l),f&&A(i)}}}function Ac(n){let e,t,s,l,i=n[7]&&si(n),r=n[9]&&li(n);return s=new Xr({props:{title:"Folders",folderId:n[2],items:n[5],page:n[0],totalPages:n[3],totalItems:n[4],filter:n[1],onShowImage:n[16]}}),s.$on("filter",n[11]),s.$on("gotopage",n[12]),s.$on("click",n[13]),s.$on("mouseenter",n[16]),s.$on("mouseleave",n[16]),s.$on("mousemove",n[17]),{c(){i&&i.c(),e=N(),r&&r.c(),t=N(),Y(s.$$.fragment)},m(o,a){i&&i.m(o,a),L(o,e,a),r&&r.m(o,a),L(o,t,a),W(s,o,a),l=!0},p(o,[a]){o[7]?i?(i.p(o,a),a&128&&O(i,1)):(i=si(o),i.c(),O(i,1),i.m(e.parentNode,e)):i&&(ve(),q(i,1,1,()=>{i=null}),_e()),o[9]?r?r.p(o,a):(r=li(o),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null);const f={};a&4&&(f.folderId=o[2]),a&32&&(f.items=o[5]),a&1&&(f.page=o[0]),a&8&&(f.totalPages=o[3]),a&16&&(f.totalItems=o[4]),a&2&&(f.filter=o[1]),s.$set(f)},i(o){l||(O(i),O(s.$$.fragment,o),l=!0)},o(o){q(i),q(s.$$.fragment,o),l=!1},d(o){i&&i.d(o),o&&A(e),r&&r.d(o),o&&A(t),K(s,o)}}}function Lc(n,e,t){const s=Ve(),l=Re("socket");let{page:i=1}=e,{filter:r=""}=e,{folderId:o}=e,a=1,f=0,u=[],d={},p=!1,m={},_,y={};const v=async b=>{let R=await Ie.admin(["folders",b,Gr(),r]);if(R.items){let P=R.items[0];t(2,o=P==null?void 0:P.Id),t(5,u=R.items),t(3,a=R.totalPages),t(4,f=R.totalItems),t(0,i=b),s("folderid",o),be(`/folders/${b}/${r||""}`)}},T=b=>{t(1,r=b.detail),v(1)},I=b=>{b=parseInt(b.detail),!(b<1||b>a)&&v(mt(b,1,a))},E=({target:b})=>{let R=b;if(t(2,o=R.id||R.closest("li").id),R.tagName==="LI")t(6,d=u.find(P=>P.Id===o)),s("folderid",o);else{t(6,d=u.find(B=>B.Id===R.closest("li").id));let P=R.classList.toString();if(/fa-edit/gi.test(P))t(8,m={title:"Edit Folder Properties",Del:!1}),t(7,p=!0);else if(/fa-trash-alt/gi.test(P))t(8,m={title:"Remove Folder",Del:!0}),t(7,p=!0);else{l.emit("scan-dir",{Id:d.Id,isFolder:!0});let B=document.body.querySelector(`#${d.Id} .fas`);B&&B.classList.add("fa-spin")}}},w=b=>{if(m.Del){let R=b.target.querySelector("input").checked;l.emit("remove-folder",{Id:d.Id,Del:R})}else d.Name?l.emit("rename-folder",d):t(8,m.error="Name Can't be empty",m)},k=()=>{t(7,p=!1),t(6,d={})},S=b=>{const R=u.find(P=>P.Id===b.currentTarget.id);t(9,_=b.type.includes("mouseenter")?R:!1)},C=b=>{_&&(t(10,y.x=b.pageX+10,y),t(10,y.y=b.pageY+10,y))};return He(()=>{v(i);const b=B=>{if(B.success&&B.Id){let F=u.findIndex(M=>M.Id===B.Id);F!==-1&&t(5,u[F]=B.folder,u),k()}},R=B=>{B.success&&B.Id&&(v(i),k())},P=B=>{var F;(F=document.getElementById(B.Id).querySelector(".fas"))==null||F.classList.remove("fa-spin")};l.on("folder-renamed",b),l.on("folder-removed",R),l.on("reload",P)}),gt(()=>{l.off("folder-renamed",onFolderRename),l.off("folder-removed",onFolderRemove),l.off("reload",scanFinish)}),n.$$set=b=>{"page"in b&&t(0,i=b.page),"filter"in b&&t(1,r=b.filter),"folderId"in b&&t(2,o=b.folderId)},[i,r,o,a,f,u,d,p,m,_,y,T,I,E,w,k,S,C]}class Fc extends te{constructor(e){super(),ee(this,e,Lc,Ac,x,{page:0,filter:1,folderId:2})}}function ii(n){let e,t;return e=new Js({props:{file:n[5],modalType:n[7]}}),e.$on("submit",n[11]),e.$on("click",n[12]),{c(){Y(e.$$.fragment)},m(s,l){W(e,s,l),t=!0},p(s,l){const i={};l&32&&(i.file=s[5]),l&128&&(i.modalType=s[7]),e.$set(i)},i(s){t||(O(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){K(e,s)}}}function Oc(n){let e,t,s,l=n[6]&&ii(n);return t=new Xr({props:{title:"Files",folderId:"",items:n[4],page:n[0],totalPages:n[1],totalItems:n[2],filter:n[3]}}),t.$on("filter",n[8]),t.$on("gotopage",n[9]),t.$on("click",n[10]),{c(){l&&l.c(),e=N(),Y(t.$$.fragment)},m(i,r){l&&l.m(i,r),L(i,e,r),W(t,i,r),s=!0},p(i,[r]){i[6]?l?(l.p(i,r),r&64&&O(l,1)):(l=ii(i),l.c(),O(l,1),l.m(e.parentNode,e)):l&&(ve(),q(l,1,1,()=>{l=null}),_e());const o={};r&16&&(o.items=i[4]),r&1&&(o.page=i[0]),r&2&&(o.totalPages=i[1]),r&4&&(o.totalItems=i[2]),r&8&&(o.filter=i[3]),t.$set(o)},i(i){s||(O(l),O(t.$$.fragment,i),s=!0)},o(i){q(l),q(t.$$.fragment,i),s=!1},d(i){l&&l.d(i),i&&A(e),K(t,i)}}}function Mc(n,e,t){const s=Re("socket");let{folderId:l}=e,i=l,r=1,o,a,f="",u=[],d={},p=!1,m={};const _=async w=>{let k=Gr(),S=await Ie.admin(["folders","files",l,w,k,f]);S.items&&(t(4,u=S.items),t(1,o=S.totalPages),t(2,a=S.totalItems),t(0,r=w))};He(async()=>{_(1),s.on("file-renamed",w=>{w.success?(t(5,d.Name=w.Name,d),t(4,u),E()):t(7,m.error=w.msg,m)}),s.on("file-removed",w=>{w.success?(r===o&&u.length>1?t(4,u=u.filter(k=>k.Id!==d.Id)):(t(0,r=r>1?r-1:r),_(r)),E()):t(7,m.error=w.msg,m)})}),gt(()=>{delete s._callbacks["$file-renamed"],delete s._callbacks["$file-removed"]});const y=w=>{t(3,f=w.detail),_(1)},v=w=>{w=parseInt(w.detail),!(w<1||w>o)&&(t(0,r=w<1?1:w>o?o:w),_(r))},T=w=>{let k=w.target;if(k.tagName!=="LI"){t(5,d=u.find(C=>C.Id===k.closest("li").id));let S=k.classList.toString();/fa-edit/gi.test(S)?t(7,m={title:"Edit File",Del:!1,isFile:!0}):t(7,m={title:"Remove File",Del:!0,isFile:!0}),t(6,p=!0)}},I=w=>{if(m.Del){let k=w.target.querySelector("input").checked;s.emit("remove-file",{Id:d.Id,Del:k})}else d.Name?s.emit("rename-file",{Id:d.Id,Name:d.Name}):t(7,m.error="Name Can't be empty",m)},E=()=>{t(6,p=!1),t(5,d={})};return n.$$set=w=>{"folderId"in w&&t(13,l=w.folderId)},n.$$.update=()=>{n.$$.dirty&8192&&l!==i&&(t(3,f=""),_(1))},[r,o,a,f,u,d,p,m,y,v,T,I,E,l]}class Dc extends te{constructor(e){super(),ee(this,e,Mc,Oc,x,{folderId:13})}}function Bc(n){let e,t,s,l,i,r;return s=new Fc({props:{page:parseInt(n[1])||1,folderId:n[0],filter:n[2]}}),s.$on("folderid",n[3]),i=new Dc({props:{folderId:n[0]}}),{c(){e=g("div"),t=g("div"),Y(s.$$.fragment),l=N(),Y(i.$$.fragment),c(t,"class","rows svelte-1yuj8sc"),c(e,"class","card bg-dark admin-manager  svelte-1yuj8sc")},m(o,a){L(o,e,a),h(e,t),W(s,t,null),h(t,l),W(i,t,null),r=!0},p(o,[a]){const f={};a&2&&(f.page=parseInt(o[1])||1),a&1&&(f.folderId=o[0]),a&4&&(f.filter=o[2]),s.$set(f);const u={};a&1&&(u.folderId=o[0]),i.$set(u)},i(o){r||(O(s.$$.fragment,o),O(i.$$.fragment,o),r=!0)},o(o){q(s.$$.fragment,o),q(i.$$.fragment,o),r=!1},d(o){o&&A(e),K(s),K(i)}}}function qc(n,e,t){let{page:s}=e,{filter:l}=e,{folderId:i}=e;const r=o=>{t(0,i=o.detail)};return n.$$set=o=>{"page"in o&&t(1,s=o.page),"filter"in o&&t(2,l=o.filter),"folderId"in o&&t(0,i=o.folderId)},[i,s,l,r]}class jc extends te{constructor(e){super(),ee(this,e,qc,Bc,x,{page:1,filter:2,folderId:0})}}function ri(n,e,t){const s=n.slice();return s[7]=e[t].Content,s[8]=e[t].Id,s[9]=e[t].Name,s}function oi(n){let e,t,s;return t=new Qr({props:{type:"folder",items:n[7]}}),t.$on("scanDir",n[4]),{c(){e=g("ul"),Y(t.$$.fragment),c(e,"class","tree-node svelte-1wrx60x")},m(l,i){L(l,e,i),W(t,e,null),s=!0},p(l,i){const r={};i&1&&(r.items=l[7]),t.$set(r)},i(l){s||(O(t.$$.fragment,l),s=!0)},o(l){q(t.$$.fragment,l),s=!1},d(l){l&&A(e),K(t)}}}function ai(n){let e,t,s,l,i,r=n[9]+"",o,a,f,u,d,p,m,_,y,v=n[7].length>0&&oi(n);return{c(){e=g("li"),t=g("span"),s=g("i"),i=N(),o=z(r),a=N(),f=g("span"),f.textContent="\u25B6",u=N(),v&&v.c(),d=N(),c(s,"class",l=me(`fa fa-${n[1]} mr-1`)+" svelte-1wrx60x"),c(t,"class","dir svelte-1wrx60x"),c(f,"class","caret svelte-1wrx60x"),c(e,"id",p=n[8]),c(e,"class","tree-item svelte-1wrx60x")},m(T,I){L(T,e,I),h(e,t),h(t,s),h(t,i),h(t,o),h(e,a),h(e,f),h(e,u),v&&v.m(e,null),h(e,d),m=!0,_||(y=[D(t,"click",n[3]),D(f,"click",n[2])],_=!0)},p(T,I){(!m||I&2&&l!==(l=me(`fa fa-${T[1]} mr-1`)+" svelte-1wrx60x"))&&c(s,"class",l),(!m||I&1)&&r!==(r=T[9]+"")&&J(o,r),T[7].length>0?v?(v.p(T,I),I&1&&O(v,1)):(v=oi(T),v.c(),O(v,1),v.m(e,d)):v&&(ve(),q(v,1,1,()=>{v=null}),_e()),(!m||I&1&&p!==(p=T[8]))&&c(e,"id",p)},i(T){m||(O(v),m=!0)},o(T){q(v),m=!1},d(T){T&&A(e),v&&v.d(),_=!1,ue(y)}}}function Uc(n){let e,t,s=n[0],l=[];for(let r=0;r<s.length;r+=1)l[r]=ai(ri(n,s,r));const i=r=>q(l[r],1,1,()=>{l[r]=null});return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=Pe()},m(r,o){for(let a=0;a<l.length;a+=1)l[a].m(r,o);L(r,e,o),t=!0},p(r,[o]){if(o&15){s=r[0];let a;for(a=0;a<s.length;a+=1){const f=ri(r,s,a);l[a]?(l[a].p(f,o),O(l[a],1)):(l[a]=ai(f),l[a].c(),O(l[a],1),l[a].m(e.parentNode,e))}for(ve(),a=s.length;a<l.length;a+=1)i(a);_e()}},i(r){if(!t){for(let o=0;o<s.length;o+=1)O(l[o]);t=!0}},o(r){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)q(l[o]);t=!1},d(r){Le(l,r),r&&A(e)}}}function Hc(n,e,t){let{items:s=[]}=e,{type:l}=e,i={};const r=Ve(),o=async u=>{let d=u.target.closest("li"),p=s.find(m=>m.Id.toString()===d.id);if(p.Content.length===0){const m=await Ie.post("admin/directories/Content",{Path:p.Path});p.Content=m.data,t(0,s)}else p.Content=[],t(0,s)},a=u=>{let d=u.target.closest("li");i=s.find(p=>p.Id.toString()===d.id),r("scanDir",i)};function f(u){we.call(this,n,u)}return n.$$set=u=>{"items"in u&&t(0,s=u.items),"type"in u&&t(1,l=u.type)},[s,l,o,a,f]}class Qr extends te{constructor(e){super(),ee(this,e,Hc,Uc,x,{items:0,type:1})}}function fi(n,e,t){const s=n.slice();return s[13]=e[t].value,s[14]=e[t].name,s}function ci(n){let e,t=n[14]+"",s,l;return{c(){e=g("option"),s=z(t),e.__value=l=n[13],e.value=e.__value},m(i,r){L(i,e,r),h(e,s)},p(i,r){r&8&&t!==(t=i[14]+"")&&J(s,t),r&8&&l!==(l=i[13])&&(e.__value=l,e.value=e.__value)},d(i){i&&A(e)}}}function Vc(n){let e,t,s=(n[1]||n[2])+"",l,i,r,o,a,f=n[3],u=[];for(let d=0;d<f.length;d+=1)u[d]=ci(fi(n,f,d));return{c(){e=g("div"),t=g("span"),l=z(s),i=N(),r=g("select");for(let d=0;d<u.length;d+=1)u[d].c();c(t,"class","check-label svelte-ei88od"),c(t,"style",n[5]),c(r,"class","select-control svelte-ei88od"),st(r,"width","$"+n[4]),n[0][n[2]]===void 0&&Te(()=>n[12].call(r)),c(e,"class","check-control svelte-ei88od")},m(d,p){L(d,e,p),h(e,t),h(t,l),h(e,i),h(e,r);for(let m=0;m<u.length;m+=1)u[m].m(r,null);Ue(r,n[0][n[2]]),o||(a=D(r,"change",n[12]),o=!0)},p(d,[p]){if(p&6&&s!==(s=(d[1]||d[2])+"")&&J(l,s),p&8){f=d[3];let m;for(m=0;m<f.length;m+=1){const _=fi(d,f,m);u[m]?u[m].p(_,p):(u[m]=ci(_),u[m].c(),u[m].m(r,null))}for(;m<u.length;m+=1)u[m].d(1);u.length=f.length}p&16&&st(r,"width","$"+d[4]),p&13&&Ue(r,d[0][d[2]])},i:Z,o:Z,d(d){d&&A(e),Le(u,d),o=!1,a()}}}function zc(n,e,t){let{label:s}=e,{item:l}=e,{key:i}=e,{options:r=[]}=e,{labelWidth:o=100}=e,{mb:a=0}=e,{mt:f=0}=e,{ml:u=0}=e,{mr:d=0}=e,{mx:p=0}=e,{my:m=0}=e,_=`margin: ${f||m} ${d||p} ${a||m} ${u||p};`;function y(){l[i]=Ot(this),t(0,l),t(3,r)}return n.$$set=v=>{"label"in v&&t(1,s=v.label),"item"in v&&t(0,l=v.item),"key"in v&&t(2,i=v.key),"options"in v&&t(3,r=v.options),"labelWidth"in v&&t(4,o=v.labelWidth),"mb"in v&&t(6,a=v.mb),"mt"in v&&t(7,f=v.mt),"ml"in v&&t(8,u=v.ml),"mr"in v&&t(9,d=v.mr),"mx"in v&&t(10,p=v.mx),"my"in v&&t(11,m=v.my)},[l,s,i,r,o,_,a,f,u,d,p,m,y]}class Wc extends te{constructor(e){super(),ee(this,e,zc,Vc,x,{label:1,item:0,key:2,options:3,labelWidth:4,mb:6,mt:7,ml:8,mr:9,mx:10,my:11})}}function Kc(n){let e,t,s,l,i,r,o,a,f,u,d,p,m,_,y,v,T,I,E,w,k,S;return d=new Wc({props:{labelWidth:"80px",mb:"10px",item:n[2],key:"Type",options:n[3]}}),m=new Jr({props:{labelWidth:"80px",mb:"10px",label:"Is Adult",key:"IsAdult",item:n[2]}}),{c(){e=g("div"),t=g("div"),s=g("div"),l=g("h3"),i=z("Add "),r=g("strong"),o=z(n[1]),a=z(" To Directories"),f=N(),u=g("div"),Y(d.$$.fragment),p=N(),Y(m.$$.fragment),_=N(),y=g("div"),v=g("button"),v.textContent="Cancel",T=N(),I=g("button"),I.textContent="Create",c(r,"class","svelte-xh8q45"),c(l,"class","svelte-xh8q45"),c(s,"class","modal-header"),c(u,"class","modal-body"),c(v,"class","btn"),c(I,"class","btn"),c(y,"class","modal-footer"),c(t,"class","modal card svelte-xh8q45"),c(e,"class","modal-container")},m(C,b){L(C,e,b),h(e,t),h(t,s),h(s,l),h(l,i),h(l,r),h(r,o),h(l,a),h(t,f),h(t,u),W(d,u,null),h(u,p),W(m,u,null),h(t,_),h(t,y),h(y,v),h(y,T),h(y,I),w=!0,k||(S=[D(v,"click",function(){lt(n[0])&&n[0].apply(this,arguments)}),D(I,"click",n[4])],k=!0)},p(C,[b]){n=C,(!w||b&2)&&J(o,n[1])},i(C){w||(O(d.$$.fragment,C),O(m.$$.fragment,C),Te(()=>{E||(E=Mt(t,wt,{duration:200},!0)),E.run(1)}),w=!0)},o(C){q(d.$$.fragment,C),q(m.$$.fragment,C),E||(E=Mt(t,wt,{duration:200},!1)),E.run(0),w=!1},d(C){C&&A(e),K(d),K(m),C&&E&&E.end(),k=!1,ue(S)}}}function Yc(n,e,t){let{createDirectory:s}=e,{hideModal:l}=e,{Name:i}=e,r={Type:"Mangas",IsAdult:!1};const o=[{name:"Mangas",value:"Mangas"},{name:"Videos",value:"Videos"}],a=()=>{s(r.Type,r.IsAdult)};return n.$$set=f=>{"createDirectory"in f&&t(5,s=f.createDirectory),"hideModal"in f&&t(0,l=f.hideModal),"Name"in f&&t(1,i=f.Name)},[l,i,r,o,a,s]}class Xc extends te{constructor(e){super(),ee(this,e,Yc,Kc,x,{createDirectory:5,hideModal:0,Name:1})}}function ui(n){let e,t;return e=new Xc({props:{createDirectory:n[4],hideModal:n[5],Name:n[2].Name}}),{c(){Y(e.$$.fragment)},m(s,l){W(e,s,l),t=!0},p(s,l){const i={};l&4&&(i.Name=s[2].Name),e.$set(i)},i(s){t||(O(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){K(e,s)}}}function Jc(n){let e,t,s,l,i,r,o=n[1]&&ui(n);return i=new Qr({props:{type:"hdd",items:n[0]}}),i.$on("scanDir",n[3]),{c(){o&&o.c(),e=N(),t=g("div"),t.innerHTML=`<i class="fas fa-server"></i> 
  <span class="tree-name">Server</span>`,s=N(),l=g("ul"),Y(i.$$.fragment),c(t,"class","tree-title"),c(l,"class","tree-view svelte-1kc7hqf")},m(a,f){o&&o.m(a,f),L(a,e,f),L(a,t,f),L(a,s,f),L(a,l,f),W(i,l,null),r=!0},p(a,[f]){a[1]?o?(o.p(a,f),f&2&&O(o,1)):(o=ui(a),o.c(),O(o,1),o.m(e.parentNode,e)):o&&(ve(),q(o,1,1,()=>{o=null}),_e());const u={};f&1&&(u.items=a[0]),i.$set(u)},i(a){r||(O(o),O(i.$$.fragment,a),r=!0)},o(a){q(o),q(i.$$.fragment,a),r=!1},d(a){o&&o.d(a),a&&A(e),a&&A(t),a&&A(s),a&&A(l),K(i)}}}function Gc(n,e,t){const s=Re("socket");let l=[],i=!1,r={};const o=({detail:u})=>{t(2,r=u),t(1,i=!0)},a=(u,d)=>{s.emit("scan-dir",{Path:r.Path,Type:u,IsAdult:d}),f()},f=()=>{t(1,i=!1),t(2,r={})};return He(()=>{s.on("disk-loaded",u=>{t(0,l=u)}),s.emit("load-disks")}),gt(()=>{delete s._callbacks["$disk-loaded"]}),[l,i,r,o,a,f]}class Qc extends te{constructor(e){super(),ee(this,e,Gc,Jc,x,{})}}function di(n,e,t){const s=n.slice();return s[5]=e[t].Id,s[6]=e[t].Name,s[7]=e[t].IsLoading,s[8]=e[t].FullPath,s[9]=e[t].Type,s[10]=e[t].FolderCount,s[11]=e[t].TotalFiles,s[12]=e[t].IsAdult,s}function Zc(n){let e,t=n[0],s=[];for(let l=0;l<t.length;l+=1)s[l]=hi(di(n,t,l));return{c(){for(let l=0;l<s.length;l+=1)s[l].c();e=Pe()},m(l,i){for(let r=0;r<s.length;r+=1)s[r].m(l,i);L(l,e,i)},p(l,i){if(i&13){t=l[0];let r;for(r=0;r<t.length;r+=1){const o=di(l,t,r);s[r]?s[r].p(o,i):(s[r]=hi(o),s[r].c(),s[r].m(e.parentNode,e))}for(;r<s.length;r+=1)s[r].d(1);s.length=t.length}},d(l){Le(s,l),l&&A(e)}}}function $c(n){let e;return{c(){e=g("tr"),e.innerHTML='<td colspan="4" class="svelte-gv8sap">Not Directory Added</td>',c(e,"class","text-center")},m(t,s){L(t,e,s)},p:Z,d(t){t&&A(e)}}}function hi(n){let e,t,s,l,i,r,o,a,f,u,d=n[6]+"",p,m,_,y=n[9]+"",v,T,I,E=n[10]+"",w,k,S,C=n[11]+"",b,R,P,B=n[12]+"",F,M,U,V=n[8]+"",H,X,j,Q,re,ce;return{c(){e=g("tr"),t=g("td"),s=g("span"),l=g("i"),r=N(),o=g("span"),o.innerHTML='<i class="fas fa-trash-alt"></i>',a=N(),f=g("td"),u=g("div"),p=z(d),m=N(),_=g("td"),v=z(y),T=N(),I=g("td"),w=z(E),k=N(),S=g("td"),b=z(C),R=N(),P=g("td"),F=z(B),M=N(),U=g("td"),H=z(V),X=N(),c(l,"class",i=me("fas fa-sync"+(n[7]?" fa-spin":""))+" svelte-gv8sap"),c(s,"class","dir-sync"),c(o,"class","dir-remove ml-2"),c(t,"class","svelte-gv8sap"),c(u,"class","svelte-gv8sap"),c(f,"class","svelte-gv8sap"),c(_,"class","svelte-gv8sap"),c(I,"class","svelte-gv8sap"),c(S,"class","svelte-gv8sap"),c(P,"class","svelte-gv8sap"),c(U,"class","svelte-gv8sap"),c(e,"id",j=n[5]),c(e,"key",Q=n[5])},m(oe,de){L(oe,e,de),h(e,t),h(t,s),h(s,l),h(t,r),h(t,o),h(e,a),h(e,f),h(f,u),h(u,p),h(e,m),h(e,_),h(_,v),h(e,T),h(e,I),h(I,w),h(e,k),h(e,S),h(S,b),h(e,R),h(e,P),h(P,F),h(e,M),h(e,U),h(U,H),h(e,X),re||(ce=[D(s,"click",n[3]),D(o,"click",n[2])],re=!0)},p(oe,de){de&1&&i!==(i=me("fas fa-sync"+(oe[7]?" fa-spin":""))+" svelte-gv8sap")&&c(l,"class",i),de&1&&d!==(d=oe[6]+"")&&J(p,d),de&1&&y!==(y=oe[9]+"")&&J(v,y),de&1&&E!==(E=oe[10]+"")&&J(w,E),de&1&&C!==(C=oe[11]+"")&&J(b,C),de&1&&B!==(B=oe[12]+"")&&J(F,B),de&1&&V!==(V=oe[8]+"")&&J(H,V),de&1&&j!==(j=oe[5])&&c(e,"id",j),de&1&&Q!==(Q=oe[5])&&c(e,"key",Q)},d(oe){oe&&A(e),re=!1,ue(ce)}}}function xc(n){let e,t,s,l,i,r,o;function a(d,p){return d[0].length<0?$c:Zc}let f=a(n),u=f(n);return{c(){e=g("div"),t=z(n[1]),s=N(),l=g("table"),i=g("thead"),i.innerHTML=`<tr><th class="svelte-gv8sap">Actions</th> 
      <th class="svelte-gv8sap">Name</th> 
      <th class="svelte-gv8sap">Type</th> 
      <th class="svelte-gv8sap">Folder Count</th> 
      <th class="svelte-gv8sap">Total Files</th> 
      <th class="svelte-gv8sap">Is Adult</th> 
      <th class="svelte-gv8sap">Full Path</th></tr>`,r=N(),o=g("tbody"),u.c(),c(e,"class","message svelte-gv8sap"),c(l,"id","dir-list"),c(l,"class","table table-dark table-hover table-bordered")},m(d,p){L(d,e,p),h(e,t),L(d,s,p),L(d,l,p),h(l,i),h(l,r),h(l,o),u.m(o,null)},p(d,[p]){p&2&&J(t,d[1]),f===(f=a(d))&&u?u.p(d,p):(u.d(1),u=f(d),u&&(u.c(),u.m(o,null)))},i:Z,o:Z,d(d){d&&A(e),d&&A(s),d&&A(l),u.d()}}}function eu(n,e,t){const s=Re("socket");let l=[],i="";return He(async()=>{t(0,l=await Ie.admin(["directories"]));const a=({Id:u})=>{let d=l.find(p=>p.Id===u);d&&(d.IsLoading=!1,t(0,l))};s.on("reload",a);const f=u=>{console.log(u)};return s.on("scan-info",f),()=>{s.off("reload",a),s.off("scan-info",f)}}),[l,i,async a=>{let f=a.target.closest("tr");if(f){const u=await Ie.post("admin/directories/remove",{Id:f.id});u.removed?(t(0,l=l.filter(d=>d.Id!==f.id)),t(0,l)):t(1,i=u.msg)}},a=>{let f=a.target.closest("tr"),u=l.find(d=>d.Id===f.id);s.emit("scan-dir",{Id:u.Id}),u.IsLoading=!0,t(0,l)}]}class tu extends te{constructor(e){super(),ee(this,e,eu,xc,x,{})}}function nu(n){let e,t,s,l,i;return t=new Qc({}),{c(){e=g("div"),Y(t.$$.fragment),c(e,"id","tabs-content"),c(e,"class","svelte-1wlk286")},m(r,o){L(r,e,o),W(t,e,null),i=!0},i(r){i||(O(t.$$.fragment,r),Te(()=>{l&&l.end(1),s=Ms(e,Pn,{y:200,duration:200}),s.start()}),i=!0)},o(r){q(t.$$.fragment,r),s&&s.invalidate(),l=ir(e,Pn,{y:200,duration:200}),i=!1},d(r){r&&A(e),K(t),r&&l&&l.end()}}}function su(n){let e,t,s,l,i;return t=new tu({}),{c(){e=g("div"),Y(t.$$.fragment),c(e,"id","tabs-content"),c(e,"class","svelte-1wlk286")},m(r,o){L(r,e,o),W(t,e,null),i=!0},i(r){i||(O(t.$$.fragment,r),Te(()=>{l&&l.end(1),s=Ms(e,Pn,{y:200,duration:200}),s.start()}),i=!0)},o(r){q(t.$$.fragment,r),s&&s.invalidate(),l=ir(e,Pn,{y:200,duration:200}),i=!1},d(r){r&&A(e),K(t),r&&l&&l.end()}}}function lu(n){let e,t,s,l,i,r,o,a,f,u,d,p,m,_,y,v,T,I;const E=[su,nu],w=[];function k(S,C){return C&1&&(m=null),m==null&&(m=!!S[0].includes("tab-1")),m?0:1}return _=k(n,-1),y=w[_]=E[_](n),{c(){e=g("div"),t=g("div"),s=g("div"),l=g("input"),i=N(),r=g("label"),r.innerHTML=`<i class="fas fa-folder svelte-1wlk286"></i> 
        <span id="dirs" class="svelte-1wlk286">Directories</span>`,o=N(),a=g("div"),f=g("input"),u=N(),d=g("label"),d.innerHTML=`<div class="fas fa-hdd svelte-1wlk286"></div> 
        <span id="disks" class="svelte-1wlk286">Server</span>`,p=N(),y.c(),c(l,"type","radio"),l.__value="tab-1",l.value=l.__value,c(l,"id","tab1"),c(l,"class","svelte-1wlk286"),n[2][0].push(l),c(r,"class","nav-link svelte-1wlk286"),c(r,"for","tab1"),c(s,"class","nav-item"),c(f,"type","radio"),f.__value="tab-2",f.value=f.__value,c(f,"id","tab2"),c(f,"class","svelte-1wlk286"),n[2][0].push(f),c(d,"class","nav-link svelte-1wlk286"),c(d,"for","tab2"),c(a,"class","nav-item"),c(t,"class","nav nav-tabs disk-controls svelte-1wlk286"),c(e,"class","card bg-dark text-light admin-manager svelte-1wlk286")},m(S,C){L(S,e,C),h(e,t),h(t,s),h(s,l),l.checked=l.__value===n[0],h(s,i),h(s,r),h(t,o),h(t,a),h(a,f),f.checked=f.__value===n[0],h(a,u),h(a,d),h(e,p),w[_].m(e,null),v=!0,T||(I=[D(l,"change",n[1]),D(f,"change",n[3])],T=!0)},p(S,[C]){C&1&&(l.checked=l.__value===S[0]),C&1&&(f.checked=f.__value===S[0]);let b=_;_=k(S,C),_!==b&&(ve(),q(w[b],1,1,()=>{w[b]=null}),_e(),y=w[_],y||(y=w[_]=E[_](S),y.c()),O(y,1),y.m(e,null))},i(S){v||(O(y),v=!0)},o(S){q(y),v=!1},d(S){S&&A(e),n[2][0].splice(n[2][0].indexOf(l),1),n[2][0].splice(n[2][0].indexOf(f),1),w[_].d(),T=!1,ue(I)}}}function iu(n,e,t){let{tab:s="tab-1"}=e;const l=[[]];function i(){s=this.__value,t(0,s)}function r(){s=this.__value,t(0,s)}return n.$$set=o=>{"tab"in o&&t(0,s=o.tab)},n.$$.update=()=>{n.$$.dirty&1&&be(`/content-manager/${s||"tab-1"}`,{replace:!0})},[s,i,l,r]}class ru extends te{constructor(e){super(),ee(this,e,iu,lu,x,{tab:0})}}function pi(n,e,t){const s=n.slice();return s[16]=e[t].Id,s[17]=e[t].Name,s[18]=e[t].Path,s}function mi(n){let e,t;return e=new Js({props:{file:n[5],modalType:n[7]}}),e.$on("submit",n[11]),e.$on("click",n[12]),{c(){Y(e.$$.fragment)},m(s,l){W(e,s,l),t=!0},p(s,l){const i={};l&32&&(i.file=s[5]),l&128&&(i.modalType=s[7]),e.$set(i)},i(s){t||(O(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){K(e,s)}}}function ou(n){let e,t=n[4],s=[];for(let l=0;l<t.length;l+=1)s[l]=gi(pi(n,t,l));return{c(){for(let l=0;l<s.length;l+=1)s[l].c();e=Pe()},m(l,i){for(let r=0;r<s.length;r+=1)s[r].m(l,i);L(l,e,i)},p(l,i){if(i&1040){t=l[4];let r;for(r=0;r<t.length;r+=1){const o=pi(l,t,r);s[r]?s[r].p(o,i):(s[r]=gi(o),s[r].c(),s[r].m(e.parentNode,e))}for(;r<s.length;r+=1)s[r].d(1);s.length=t.length}},d(l){Le(s,l),l&&A(e)}}}function au(n){let e;return{c(){e=g("tr"),e.innerHTML='<td colspan="3">No Files Found</td>'},m(t,s){L(t,e,s)},p:Z,d(t){t&&A(e)}}}function gi(n){let e,t,s,l,i=n[17]+"",r,o,a,f=n[18]+"",u,d,p,m,_;return{c(){e=g("tr"),t=g("td"),t.innerHTML=`<i class="fas fa-edit svelte-k8el7b"></i> 
                <i class="fas fa-trash-alt svelte-k8el7b"></i>`,s=N(),l=g("td"),r=z(i),o=N(),a=g("td"),u=z(f),d=N(),c(e,"id",p=n[16])},m(y,v){L(y,e,v),h(e,t),h(e,s),h(e,l),h(l,r),h(e,o),h(e,a),h(a,u),h(e,d),m||(_=D(e,"click",n[10]),m=!0)},p(y,v){v&16&&i!==(i=y[17]+"")&&J(r,i),v&16&&f!==(f=y[18]+"")&&J(u,f),v&16&&p!==(p=y[16])&&c(e,"id",p)},d(y){y&&A(e),m=!1,_()}}}function fu(n){let e,t,s,l,i,r,o=`${n[3]} - Files`,a,f,u,d,p,m,_,y,v,T,I,E=n[6]&&mi(n);l=new Vn({props:{filter:n[1]}}),l.$on("filter",n[8]);function w(C,b){return C[4].length<1?au:ou}let k=w(n),S=k(n);return T=new on({props:{page:n[0],totalPages:n[2]}}),T.$on("gotopage",n[9]),{c(){E&&E.c(),e=N(),t=g("div"),s=g("div"),Y(l.$$.fragment),i=N(),r=g("h4"),a=z(o),f=N(),u=g("div"),d=g("table"),p=g("thead"),p.innerHTML=`<tr><th>Actions</th> 
          <th>Name</th> 
          <th>Path</th></tr>`,m=N(),_=g("tbody"),S.c(),y=N(),v=g("div"),Y(T.$$.fragment),c(r,"class","text-center svelte-k8el7b"),c(s,"class","f-controls svelte-k8el7b"),c(d,"class","table table-bordered table-dark svelte-k8el7b"),c(u,"class","list-container svelte-k8el7b"),c(v,"class","list-controls svelte-k8el7b"),c(t,"class","file-list col-6 svelte-k8el7b")},m(C,b){E&&E.m(C,b),L(C,e,b),L(C,t,b),h(t,s),W(l,s,null),h(s,i),h(s,r),h(r,a),h(t,f),h(t,u),h(u,d),h(d,p),h(d,m),h(d,_),S.m(_,null),h(t,y),h(t,v),W(T,v,null),I=!0},p(C,[b]){C[6]?E?(E.p(C,b),b&64&&O(E,1)):(E=mi(C),E.c(),O(E,1),E.m(e.parentNode,e)):E&&(ve(),q(E,1,1,()=>{E=null}),_e());const R={};b&2&&(R.filter=C[1]),l.$set(R),(!I||b&8)&&o!==(o=`${C[3]} - Files`)&&J(a,o),k===(k=w(C))&&S?S.p(C,b):(S.d(1),S=k(C),S&&(S.c(),S.m(_,null)));const P={};b&1&&(P.page=C[0]),b&4&&(P.totalPages=C[2]),T.$set(P)},i(C){I||(O(E),O(l.$$.fragment,C),O(T.$$.fragment,C),I=!0)},o(C){q(E),q(l.$$.fragment,C),q(T.$$.fragment,C),I=!1},d(C){E&&E.d(C),C&&A(e),C&&A(t),K(l),S.d(),K(T)}}}function cu(n,e,t){const s=Re("socket");let{page:l=1}=e,{filter:i=""}=e,r=0,o=0,a=[],f={},u=!1,d={};const p=()=>{let E=document.querySelector(".list-container")||{};return parseInt(E.offsetHeight/45)-1},m=async E=>{const w=await Ie.admin(["files",E,p(),i]);w.files&&(t(4,a=w.files),t(2,r=w.totalPages||0),t(3,o=w.totalItems||0),t(0,l=+E),be(`/files/${E}/${i||""}`))};He(async()=>{m(1),s.on("file-renamed",E=>{E.success&&(t(5,f.Name=E.Name,f),t(4,a),I())}),s.on("file-removed",E=>{E.success&&(m(l),I())})}),gt(()=>{delete s._callbacks["$file-renamed"],delete s._callbacks["$file-removed"]});const _=E=>{t(1,i=E.detail),m(1)},y=E=>{E=+E.detail,!(E<1||E>r)&&(t(0,l=E<1?1:E>r?r:E),m(l))},v=E=>{let w=E.target;if(w.tagName==="I"){t(5,f=a.find(S=>S.Id===w.closest("tr").id));let k=w.classList.toString();/fa-edit/gi.test(k)?(t(7,d={title:"Edit File",Del:!1,isFile:!0}),t(6,u=!0)):s.emit("remove-file",{Id:f.Id,Del:!0})}},T=E=>{if(d.Del){let w=E.target.querySelector("input").checked;s.emit("remove-file",{Id:f.Id,Del:w})}else{let w=E.target.querySelector("input").value;w?s.emit("rename-file",{Id:f.Id,Name:w}):t(7,d.error="Name Can't be empty",d)}},I=()=>{t(6,u=!1),t(5,f={})};return n.$$set=E=>{"page"in E&&t(0,l=E.page),"filter"in E&&t(1,i=E.filter)},[l,i,r,o,a,f,u,d,_,y,v,T,I]}class uu extends te{constructor(e){super(),ee(this,e,cu,fu,x,{page:0,filter:1})}}function du(n){let e,t,s,l,i,r,o,a,f,u,d;return e=new Nr({props:{navItems:n[0]}}),e.$on("click",n[1]),l=new Oe({props:{path:"/folders/:page/:filter",component:jc}}),r=new Oe({props:{path:"/content-manager/:tab",component:ru}}),a=new Oe({props:{path:"/files/:page/:filter",component:uu}}),u=new Oe({props:{path:"/",component:ac}}),{c(){Y(e.$$.fragment),t=N(),s=g("div"),Y(l.$$.fragment),i=N(),Y(r.$$.fragment),o=N(),Y(a.$$.fragment),f=N(),Y(u.$$.fragment),c(s,"class","content svelte-6nha0b")},m(p,m){W(e,p,m),L(p,t,m),L(p,s,m),W(l,s,null),h(s,i),W(r,s,null),h(s,o),W(a,s,null),h(s,f),W(u,s,null),d=!0},p:Z,i(p){d||(O(e.$$.fragment,p),O(l.$$.fragment,p),O(r.$$.fragment,p),O(a.$$.fragment,p),O(u.$$.fragment,p),d=!0)},o(p){q(e.$$.fragment,p),q(l.$$.fragment,p),q(r.$$.fragment,p),q(a.$$.fragment,p),q(u.$$.fragment,p),d=!1},d(p){K(e,p),p&&A(t),p&&A(s),K(l),K(r),K(a),K(u)}}}function hu(n){let e,t;return e=new cr({props:{$$slots:{default:[du]},$$scope:{ctx:n}}}),{c(){Y(e.$$.fragment)},m(s,l){W(e,s,l),t=!0},p(s,[l]){const i={};l&4&&(i.$$scope={dirty:l,ctx:s}),e.$set(i)},i(s){t||(O(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){K(e,s)}}}function pu(n){const e=[{title:"Users",path:"/",class:"users"},{title:"Files",path:"/files",class:"file"},{title:"Folders",path:"/folders",class:"folder"},{title:"Manager",path:"/content-manager/tab-1",class:"sitemap"}];document.title=process.env.AdminTitle||"Content Manager";function t(s){we.call(this,n,s)}return[e,t]}class mu extends te{constructor(e){super(),ee(this,e,pu,hu,x,{})}}const zt=nt([]),gu=async n=>{const e=await Ie.postFav("create-update",n);return e.Id&&zt.update(t=>[...t.filter(s=>s.Id!==n.Id),e].sort(Pa)),e},vu=async(n,e)=>{const t=await Ie.postFav("remove",{Id:n,Type:e});return t.removed&&zt.update(s=>s=s.filter(l=>l.Id!==n)),t},Zr=/(android)|(iphone)/i.test(navigator.userAgent),_u=Zr?15:0,bu=Zr?170:200,An={Manga:{type:"mangas",class:"book-open",formatter:(n,e)=>`${parseInt(n||0)+1}/${e}`},Video:{type:"videos",class:"play-circle",formatter:(n,e)=>`${pt(n)}/${pt(e)}`},Folder:{type:"folders",class:"folder-open",formatter(){return""}}},Ln=n=>{let e=document.body.offsetWidth;return parseInt((e-_u)/bu)*n||0},yu=(n=1,{order:e="nu",items:t},s,l,i,r)=>{let o=+t||Ln(3);l.includes("content")&&(l=`folder-content/${i}`),s=(s||"").replace("%"," ");let a="";return["mangas","videos"].includes(l)?a=`/api/files/${l}/${r}/${e}/${n}/${o}/${s}`:a=`/api/files/${l}/${e}/${n}/${o}/${s}`,a},Fn=(n,e,t)=>{const s=location.pathname;switch(n.dataset.type){case"Manga":case"Video":{let i=`${s.replace("content","viewer").split("/").slice(0,4).join("/")}/${n.id}`;localStorage.setItem("content",s),localStorage.setItem("fileId",n.id),be(i);break}default:{localStorage.setObject("folder",{folder:n.id,pathname:s});let l=location.pathname.split("/")[1];be(`/${t||l}/content/${n.id}/`)}}},wu=38,ku=40,Cu=37,Iu=39,Eu=13,Tu=36,Su=35;var Ge=0;const Nu=()=>{let n=document.querySelector(".file");return Math.floor(n.parentElement.offsetWidth/n.offsetWidth)},Ru=n=>[...document.querySelectorAll(".file")][n],Ss=n=>[...document.querySelectorAll(".file")].indexOf(n),rt=n=>{Ge=n;let e=Ru(n);if(e){let t=e.parentElement,s=t.parentElement,l=s.scrollTop,i=e.offsetTop;i-l+1<-1&&(l=i<60?0:i);let r=i+e.offsetHeight,o=l+s.offsetHeight;r-o+1>0&&(l=r+31>t.offsetHeight?t.offsetHeight-10:l+(r-o)),s.scroll({top:l,behavior:"smooth"});let a=document.querySelector(".file.active");a&&a.classList.remove("active"),e.classList.add("active"),e.focus(),window.localStorage.setItem("selected",n)}return e},$r=(n,e,t,s)=>{let l=document.querySelector(".file"),i=0;if(l){localStorage.setItem(s,l.Id);let r=!1,o=Nu(),a=document.querySelectorAll(".file").length;switch(Ge=Ss(l.parentElement.querySelector(".active")),n.keyCode){case Eu:{Fn(n.target);break}case Cu:{Ge>0?rt(Ge-1):t&&(i=Ln(3)-1,t({detail:e-1},i)),r=!0;break}case wu:{t&&n.ctrlKey?(i=Ln(3)-1,t({detail:e-1},i)):Ge-o>=0&&rt(Ge-o),r=!0;break}case Iu:{Ge<a-1?rt(Ge+1):t&&t({detail:parseInt(e)+1},0),r=!0;break}case ku:{t&&n.ctrlKey?t({detail:parseInt(e)+1},0):Ge+o<a&&rt(Ge+o),r=!0;break}case Tu:{rt(0),r=!0;break}case Su:{rt(a-1),r=!0;break}}r&&n.preventDefault()}};const Pu=n=>({}),vi=n=>({});function _i(n,e,t){const s=n.slice();return s[11]=e[t].Id,s[12]=e[t].Name,s[13]=e[t].Type,s[14]=e[t].Cover,s[15]=e[t].FileCount,s[16]=e[t].FilesType,s[18]=t,s}function bi(n){let e,t,s,l,i,r,o=n[15]+"",a,f,u,d,p,m,_,y,v,T=n[12]+"",I,E,w,k,S,C,b;return{c(){e=g("div"),t=g("div"),s=g("div"),l=g("span"),l.innerHTML='<i class="fas fa-folder svelte-1w8zwrb"></i>',i=N(),r=g("span"),a=z(o),f=N(),u=g("span"),u.innerHTML='<i class="fas fa-trash-alt svelte-1w8zwrb"></i>',d=N(),p=g("div"),m=g("img"),y=N(),v=g("div"),I=z(T),E=N(),c(l,"class","file-btn-left"),c(r,"class","file-progress"),c(u,"class","remove"),c(s,"class","file-btns"),Fe(m.src,_=n[14])||c(m,"src",_),c(m,"alt","Cover Not Found"),c(p,"class","file-cover"),c(v,"class","file-name"),c(t,"class","file-info"),c(e,"class","file"),c(e,"id",w=n[11]),c(e,"data-type",k=n[13]),c(e,"data-types",S=n[16]),c(e,"tabindex","0"),$(e,"current",n[18]===Lu)},m(R,P){L(R,e,P),h(e,t),h(t,s),h(s,l),h(s,i),h(s,r),h(r,a),h(s,f),h(s,u),h(t,d),h(t,p),h(p,m),h(t,y),h(t,v),h(v,I),h(e,E),C||(b=[D(l,"click",xe(n[3])),D(u,"click",n[6]),D(p,"dblclick",xe(n[3]))],C=!0)},p(R,P){P&2&&o!==(o=R[15]+"")&&J(a,o),P&2&&!Fe(m.src,_=R[14])&&c(m,"src",_),P&2&&T!==(T=R[12]+"")&&J(I,T),P&2&&w!==(w=R[11])&&c(e,"id",w),P&2&&k!==(k=R[13])&&c(e,"data-type",k),P&2&&S!==(S=R[16])&&c(e,"data-types",S)},d(R){R&&A(e),C=!1,ue(b)}}}function Au(n){let e,t,s,l,i,r,o,a,f,u,d,p,m=n[1].totalFiles+"",_,y,v,T,I=n[1].items,E=[];for(let S=0;S<I.length;S+=1)E[S]=bi(_i(n,I,S));const w=n[9].controls,k=ct(w,n,n[8],vi);return a=new Vn({props:{filter:n[0]}}),a.$on("filter",n[5]),u=new on({props:{page:n[1].page,totalPages:n[1].totalPages}}),u.$on("gotopage",n[2]),{c(){e=g("div"),t=g("div"),t.innerHTML=`<span class="svelte-1w8zwrb"><i class="fas fa-folder svelte-1w8zwrb"></i>
      Last View</span>`,s=N(),l=g("div");for(let S=0;S<E.length;S+=1)E[S].c();i=N(),r=g("div"),k&&k.c(),o=N(),Y(a.$$.fragment),f=N(),Y(u.$$.fragment),d=N(),p=g("span"),_=z(m),c(t,"class","title svelte-1w8zwrb"),c(l,"class","files-list"),c(e,"class","scroll-container"),c(p,"class","items"),c(r,"class","controls svelte-1w8zwrb")},m(S,C){L(S,e,C),h(e,t),h(e,s),h(e,l);for(let b=0;b<E.length;b+=1)E[b].m(l,null);L(S,i,C),L(S,r,C),k&&k.m(r,null),h(r,o),W(a,r,null),h(r,f),W(u,r,null),h(r,d),h(r,p),h(p,_),y=!0,v||(T=D(l,"keydown",n[4]),v=!0)},p(S,[C]){if(C&74){I=S[1].items;let P;for(P=0;P<I.length;P+=1){const B=_i(S,I,P);E[P]?E[P].p(B,C):(E[P]=bi(B),E[P].c(),E[P].m(l,null))}for(;P<E.length;P+=1)E[P].d(1);E.length=I.length}k&&k.p&&(!y||C&256)&&dt(k,w,S,S[8],y?ut(w,S[8],C,Pu):ht(S[8]),vi);const b={};C&1&&(b.filter=S[0]),a.$set(b);const R={};C&2&&(R.page=S[1].page),C&2&&(R.totalPages=S[1].totalPages),u.$set(R),(!y||C&2)&&m!==(m=S[1].totalFiles+"")&&J(_,m)},i(S){y||(O(k,S),O(a.$$.fragment,S),O(u.$$.fragment,S),y=!0)},o(S){q(k,S),q(a.$$.fragment,S),q(u.$$.fragment,S),y=!1},d(S){S&&A(e),Le(E,S),S&&A(i),S&&A(r),k&&k.d(S),K(a),K(u),v=!1,T()}}}let Lu=0;function Fu(n,e,t){let{$$slots:s={},$$scope:l}=e,{page:i=1}=e,{filter:r=""}=e,o={items:[],page:i||1,totalPages:0,totalFiles:0};const a=async(_,y="")=>{_=mt(_,1,o.totalPages);const v=await Ie.files(["recents",Ln(3),_,y]);v.valid&&t(1,o=v)},f=async({detail:_})=>be(`/${+_}/${r||""}`),u=({target:_})=>{let{Id:y,FilesType:v,CurrentFile:T}=o.items.find(I=>I.Id===_.closest(".file").id);localStorage.setItem("content",location.pathname),be(`/${v}/viewer/${y}/${T}`)},d=_=>$r(_,o.page,f),p=({detail:_})=>be(`/${1}/${_||""}`),m=async({currentTarget:_})=>{var T;const y=(T=_.closest(".file"))==null?void 0:T.id;(await Ie.post("files/recents/remove",{Id:y})).valid&&a(i,r)};return kt.set(!1),n.$$set=_=>{"page"in _&&t(7,i=_.page),"filter"in _&&t(0,r=_.filter),"$$scope"in _&&t(8,l=_.$$scope)},n.$$.update=()=>{n.$$.dirty&129&&a(i,r),n.$$.dirty&130&&(document.title=i?`Home - Page - ${o.page}`:"Home")},[r,o,f,u,d,p,m,i,l,s]}class Ou extends te{constructor(e){super(),ee(this,e,Fu,Au,x,{page:7,filter:0})}}function yi(n,e,t){const s=n.slice();return s[13]=e[t],s}function wi(n){let e,t;function s(r,o){return o&2&&(e=null),e==null&&(e=!!r[1].startsWith("favorites")),e?Bu:r[2]?Du:Mu}let l=s(n,-1),i=l(n);return{c(){i.c(),t=Pe()},m(r,o){i.m(r,o),L(r,t,o)},p(r,o){l===(l=s(r,o))&&i?i.p(r,o):(i.d(1),i=l(r),i&&(i.c(),i.m(t.parentNode,t)))},d(r){i.d(r),r&&A(t)}}}function Mu(n){let e;return{c(){e=g("i"),c(e,"class","far fa-star")},m(t,s){L(t,e,s),n[10](e)},p:Z,d(t){t&&A(e),n[10](null)}}}function Du(n){let e;return{c(){e=g("i"),c(e,"class","fas fa-star")},m(t,s){L(t,e,s)},p:Z,d(t){t&&A(e)}}}function Bu(n){let e;return{c(){e=g("i"),c(e,"class","fas fa-trash-alt text-danger")},m(t,s){L(t,e,s),n[9](e)},p:Z,d(t){t&&A(e),n[9](null)}}}function ki(n){let e,t=n[5],s=[];for(let l=0;l<t.length;l+=1)s[l]=Ci(yi(n,t,l));return{c(){e=g("ul");for(let l=0;l<s.length;l+=1)s[l].c();c(e,"class","svelte-5vo8z2")},m(l,i){L(l,e,i);for(let r=0;r<s.length;r+=1)s[r].m(e,null)},p(l,i){if(i&96){t=l[5];let r;for(r=0;r<t.length;r+=1){const o=yi(l,t,r);s[r]?s[r].p(o,i):(s[r]=Ci(o),s[r].c(),s[r].m(e,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=t.length}},d(l){l&&A(e),Le(s,l)}}}function Ci(n){let e,t=n[13].Name+"",s,l,i,r;return{c(){e=g("li"),s=z(t),c(e,"id",l=n[13].Id),c(e,"class","svelte-5vo8z2")},m(o,a){L(o,e,a),h(e,s),i||(r=D(e,"click",n[6]),i=!0)},p(o,a){a&32&&t!==(t=o[13].Name+"")&&J(s,t),a&32&&l!==(l=o[13].Id)&&c(e,"id",l)},d(o){o&&A(e),i=!1,r()}}}function qu(n){let e,t,s,l=n[0]==="Folder"&&wi(n),i=n[4]&&ki(n);return{c(){e=g("span"),t=g("span"),l&&l.c(),s=N(),i&&i.c(),c(t,"class","fav-icon"),c(e,"class","fav-control svelte-5vo8z2")},m(r,o){L(r,e,o),h(e,t),l&&l.m(t,null),h(e,s),i&&i.m(e,null)},p(r,[o]){r[0]==="Folder"?l?l.p(r,o):(l=wi(r),l.c(),l.m(t,null)):l&&(l.d(1),l=null),r[4]?i?i.p(r,o):(i=ki(r),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i:Z,o:Z,d(r){r&&A(e),l&&l.d(),i&&i.d()}}}function ju(n,e,t){let s;Ne(n,zt,v=>t(5,s=v));let{Type:l}=e,{type:i}=e,{isFav:r}=e,{favClicked:o}=e,{favId:a}=e;const f=Ve();let u,d=!1;const p=async v=>{let T=v.target.closest(".file").id,I=v.target.id;(await apiUtils.postFav("add-folder",{FolderId:T,FavoriteId:I})).success&&t(3,u.className="fas fa-star",u)},m=async v=>{(await apiUtils.postFav("remove-folder",{id:a,fid:v})).removed&&f("removeFile",v)};function _(v){Be[v?"unshift":"push"](()=>{u=v,t(3,u)})}function y(v){Be[v?"unshift":"push"](()=>{u=v,t(3,u)})}return n.$$set=v=>{"Type"in v&&t(0,l=v.Type),"type"in v&&t(1,i=v.type),"isFav"in v&&t(2,r=v.isFav),"favClicked"in v&&t(7,o=v.favClicked),"favId"in v&&t(8,a=v.favId)},n.$$.update=()=>{n.$$.dirty&136&&(u&&o===u?(t(4,d=u.classList.contains("far")),u.classList.contains("fa-trash-alt")&&m(u.closest(".file").id)):t(4,d=!1))},[l,i,r,u,d,s,p,o,a,_,y]}class Uu extends te{constructor(e){super(),ee(this,e,ju,qu,x,{Type:0,type:1,isFav:2,favClicked:7,favId:8})}}const xr=nt({}),Hu=n=>(xr.update(e=>n||{}),n);const Vu=n=>({}),Ii=n=>({});function Ei(n,e,t){const s=n.slice();return s[26]=e[t].Id,s[27]=e[t].Name,s[28]=e[t].Type,s[29]=e[t].Cover,s[30]=e[t].CurrentPos,s[31]=e[t].Duration,s[32]=e[t].isFav,s[33]=e[t].FileCount,s[34]=e[t].Status,s[36]=t,s}const zu=n=>({}),Ti=n=>({});function Wu(n){let e=An[n[28]].formatter(n[30],n[31])+"",t;return{c(){t=z(e)},m(s,l){L(s,t,l)},p(s,l){l[0]&16&&e!==(e=An[s[28]].formatter(s[30],s[31])+"")&&J(t,e)},d(s){s&&A(t)}}}function Ku(n){let e=n[33]+"",t;return{c(){t=z(e)},m(s,l){L(s,t,l)},p(s,l){l[0]&16&&e!==(e=s[33]+"")&&J(t,e)},d(s){s&&A(t)}}}function Si(n){let e,t=n[34]?"Completed":"OnGoing",s;return{c(){e=g("span"),s=z(t),c(e,"class","svelte-1y18fzj"),$(e,"completed",n[34])},m(l,i){L(l,e,i),h(e,s)},p(l,i){i[0]&16&&t!==(t=l[34]?"Completed":"OnGoing")&&J(s,t),i[0]&16&&$(e,"completed",l[34])},d(l){l&&A(e)}}}function Ni(n){let e,t,s,l,i,r,o,a,f,u,d,p,m,_,y,v,T=n[28].includes("Folder"),I,E,w=n[27]+"",k,S,C,b,R,P,B,F;function M(X,j){return j[0]&16&&(f=null),f==null&&(f=!!X[28].includes("Folder")),f?Ku:Wu}let U=M(n,[-1,-1]),V=U(n);d=new Uu({props:{isFav:n[32],type:n[3],Type:n[28],favClicked:n[5],favId:n[1]}}),d.$on("removeFile",n[11]);let H=T&&Si(n);return{c(){e=g("div"),t=g("div"),s=g("div"),l=g("span"),i=g("i"),o=N(),a=g("span"),V.c(),u=N(),Y(d.$$.fragment),p=N(),m=g("div"),_=g("img"),v=N(),H&&H.c(),I=N(),E=g("div"),k=z(w),S=N(),c(i,"class",r=me("fas fa-"+An[n[28]].class)+" svelte-1y18fzj"),c(l,"class","file-btn-left svelte-1y18fzj"),c(a,"class","file-progress"),c(s,"class","file-btns"),Fe(_.src,y=n[29])||c(_,"src",y),c(_,"alt","No Cover Found"),c(m,"class","file-cover svelte-1y18fzj"),c(E,"class","file-name"),c(t,"class","file-info"),c(e,"class","file"),c(e,"id",C=n[26]),c(e,"data-type",b=n[28]),c(e,"tabindex","0")},m(X,j){L(X,e,j),h(e,t),h(t,s),h(s,l),h(l,i),h(s,o),h(s,a),V.m(a,null),h(s,u),W(d,s,null),h(t,p),h(t,m),h(m,_),h(m,v),H&&H.m(m,null),h(t,I),h(t,E),h(E,k),h(e,S),P=!0,B||(F=[D(l,"click",xe(n[9])),D(m,"dblclick",xe(n[9]))],B=!0)},p(X,j){(!P||j[0]&16&&r!==(r=me("fas fa-"+An[X[28]].class)+" svelte-1y18fzj"))&&c(i,"class",r),U===(U=M(X,j))&&V?V.p(X,j):(V.d(1),V=U(X),V&&(V.c(),V.m(a,null)));const Q={};j[0]&16&&(Q.isFav=X[32]),j[0]&8&&(Q.type=X[3]),j[0]&16&&(Q.Type=X[28]),j[0]&32&&(Q.favClicked=X[5]),j[0]&2&&(Q.favId=X[1]),d.$set(Q),(!P||j[0]&16&&!Fe(_.src,y=X[29]))&&c(_,"src",y),j[0]&16&&(T=X[28].includes("Folder")),T?H?H.p(X,j):(H=Si(X),H.c(),H.m(m,null)):H&&(H.d(1),H=null),(!P||j[0]&16)&&w!==(w=X[27]+"")&&J(k,w),(!P||j[0]&16&&C!==(C=X[26]))&&c(e,"id",C),(!P||j[0]&16&&b!==(b=X[28]))&&c(e,"data-type",b)},i(X){P||(O(d.$$.fragment,X),R||Te(()=>{R=Ms(e,wt,{}),R.start()}),P=!0)},o(X){q(d.$$.fragment,X),P=!1},d(X){X&&A(e),V.d(),K(d),H&&H.d(),B=!1,ue(F)}}}function Yu(n){let e,t,s,l,i,r,o,a,f,u,d,p=n[4].totalFiles+"",m,_,y,v;const T=n[19].header,I=ct(T,n,n[18],Ti);let E=n[4].files,w=[];for(let b=0;b<E.length;b+=1)w[b]=Ni(Ei(n,E,b));const k=b=>q(w[b],1,1,()=>{w[b]=null}),S=n[19].controls,C=ct(S,n,n[18],Ii);return o=new Vn({props:{filter:n[2]}}),o.$on("filter",n[7]),f=new on({props:{page:parseInt(n[0]||1),totalPages:n[4].totalPages}}),f.$on("gotopage",n[6]),{c(){e=g("div"),I&&I.c(),t=N(),s=g("div");for(let b=0;b<w.length;b+=1)w[b].c();l=N(),i=g("div"),C&&C.c(),r=N(),Y(o.$$.fragment),a=N(),Y(f.$$.fragment),u=N(),d=g("span"),m=z(p),c(s,"class","files-list"),c(e,"class","scroll-container svelte-1y18fzj"),$(e,"r-content",n[12]),c(d,"class","items"),c(i,"class","controls")},m(b,R){L(b,e,R),I&&I.m(e,null),h(e,t),h(e,s);for(let P=0;P<w.length;P+=1)w[P].m(s,null);L(b,l,R),L(b,i,R),C&&C.m(i,null),h(i,r),W(o,i,null),h(i,a),W(f,i,null),h(i,u),h(i,d),h(d,m),_=!0,y||(v=[D(s,"keydown",n[8]),D(s,"click",n[10])],y=!0)},p(b,R){if(I&&I.p&&(!_||R[0]&262144)&&dt(I,T,b,b[18],_?ut(T,b[18],R,zu):ht(b[18]),Ti),R[0]&2618){E=b[4].files;let F;for(F=0;F<E.length;F+=1){const M=Ei(b,E,F);w[F]?(w[F].p(M,R),O(w[F],1)):(w[F]=Ni(M),w[F].c(),O(w[F],1),w[F].m(s,null))}for(ve(),F=E.length;F<w.length;F+=1)k(F);_e()}C&&C.p&&(!_||R[0]&262144)&&dt(C,S,b,b[18],_?ut(S,b[18],R,Vu):ht(b[18]),Ii);const P={};R[0]&4&&(P.filter=b[2]),o.$set(P);const B={};R[0]&1&&(B.page=parseInt(b[0]||1)),R[0]&16&&(B.totalPages=b[4].totalPages),f.$set(B),(!_||R[0]&16)&&p!==(p=b[4].totalFiles+"")&&J(m,p)},i(b){if(!_){O(I,b);for(let R=0;R<E.length;R+=1)O(w[R]);O(C,b),O(o.$$.fragment,b),O(f.$$.fragment,b),_=!0}},o(b){q(I,b),w=w.filter(Boolean);for(let R=0;R<w.length;R+=1)q(w[R]);q(C,b),q(o.$$.fragment,b),q(f.$$.fragment,b),_=!1},d(b){b&&A(e),I&&I.d(b),Le(w,b),b&&A(l),b&&A(i),C&&C.d(b),K(o),K(f),y=!1,ue(v)}}}function Xu(n,e,t){let s,l;Ne(n,Bn,M=>t(17,s=M)),Ne(n,xr,M=>t(21,l=M));let{$$slots:i={},$$scope:r}=e,{id:o=""}=e,{page:a=1}=e,{filter:f=""}=e,{type:u=""}=e,{title:d=""}=e,{setLastRead:p}=e,{setFolderInfo:m}=e,{handleClick:_}=e,y=+localStorage.getItem(d)||0;const v=Re("socket");let I={files:[],totalPages:0,totalFiles:0},E=null;const w=async(M=1,U="",V="",H,X)=>{const{items:j,sort:Q}=H[d];let re=yu(M,{items:j,order:Q||"nu"},U,X||u,V);const ce=await xf(re);ce.valid?(t(4,I=ce),ce.files[0]&&m&&p&&(m(ce.folder),p(ce.folder.currentFile)),y=I.files.findIndex(oe=>oe.Id===ce.currentFile)||0):console.log(ce.error)},k=async({detail:M},U)=>{let V=+M,{totalPages:H}=I;V=mt(V,1,H),be(`/${u}/${V}/${f||""}`),y=U},S=({detail:M})=>be(`/${u}/${1}/${M||""}`),C=M=>$r(M,a,k,d),b=({target:M})=>{const U=M.closest(".file");localStorage.setItem(d,U.id),Fn(M.closest(".file"))},R=M=>{_&&_(M);let{target:U}=M;U.classList.contains("far")?t(5,E=U):t(5,E=!1);const V=U.closest(".file");V&&(localStorage.setItem(d,V.id),y=Ss(V),rt(y))},P=({detail:M})=>{t(4,I.files=I.files.filter(U=>U.Id!==M),I),I.files.length?t(4,I):(t(0,a-=1),w(a,f||"",s))};sr(()=>{let M=0,U=localStorage.getItem(d),V=document.getElementById(U);V&&(M=Ss(V)),rt(M)});const B=M=>{M.Id===o&&l.Id===M.user&&w(a,f,o,s,u)};He(()=>(v.on("reload",B),()=>{v.off("reload",B)}));let F=location.pathname.includes("content");return n.$$set=M=>{"id"in M&&t(1,o=M.id),"page"in M&&t(0,a=M.page),"filter"in M&&t(2,f=M.filter),"type"in M&&t(3,u=M.type),"title"in M&&t(13,d=M.title),"setLastRead"in M&&t(14,p=M.setLastRead),"setFolderInfo"in M&&t(15,m=M.setFolderInfo),"handleClick"in M&&t(16,_=M.handleClick),"$$scope"in M&&t(18,r=M.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&8193&&(document.title=`${d} Page ${a||""}`),n.$$.dirty[0]&131087&&w(a,f,o,s,u)},[a,o,f,u,I,E,k,S,C,b,R,P,F,d,p,m,_,s,r,i]}class zn extends te{constructor(e){super(),ee(this,e,Xu,Yu,x,{id:1,page:0,filter:2,type:3,title:13,setLastRead:14,setFolderInfo:15,handleClick:16},null,[-1,-1])}}function Ju(n){let e,t;return e=new zn({props:{title:"Mangas",type:`mangas/${n[0]}`,filter:n[2],page:n[1]}}),{c(){Y(e.$$.fragment)},m(s,l){W(e,s,l),t=!0},p(s,[l]){const i={};l&1&&(i.type=`mangas/${s[0]}`),l&4&&(i.filter=s[2]),l&2&&(i.page=s[1]),e.$set(i)},i(s){t||(O(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){K(e,s)}}}function Gu(n,e,t){let{dir:s=""}=e,{page:l=1}=e,{filter:i=""}=e;return n.$$set=r=>{"dir"in r&&t(0,s=r.dir),"page"in r&&t(1,l=r.page),"filter"in r&&t(2,i=r.filter)},[s,l,i]}class Qu extends te{constructor(e){super(),ee(this,e,Gu,Ju,x,{dir:0,page:1,filter:2})}}function Zu(n){let e,t;return e=new zn({props:{title:"Videos",type:`videos/${n[2]||"0"}`,filter:n[1],page:n[0]}}),{c(){Y(e.$$.fragment)},m(s,l){W(e,s,l),t=!0},p(s,[l]){const i={};l&4&&(i.type=`videos/${s[2]||"0"}`),l&2&&(i.filter=s[1]),l&1&&(i.page=s[0]),e.$set(i)},i(s){t||(O(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){K(e,s)}}}function $u(n,e,t){let{page:s=1}=e,{filter:l=""}=e,{dir:i=""}=e;return n.$$set=r=>{"page"in r&&t(0,s=r.page),"filter"in r&&t(1,l=r.filter),"dir"in r&&t(2,i=r.dir)},[s,l,i]}class xu extends te{constructor(e){super(),ee(this,e,$u,Zu,x,{page:0,filter:1,dir:2})}}function Ri(n,e,t){const s=n.slice();return s[10]=e[t],s}function Pi(n){let e,t,s=n[10].Name+"",l,i,r,o,a,f,u,d,p,m,_,y;return{c(){e=g("tr"),t=g("td"),l=z(s),r=N(),o=g("td"),a=g("span"),a.innerHTML='<i class="fas fa-edit svelte-1ihp595"></i>',f=N(),u=g("span"),u.innerHTML='<i class="fas fa-trash-alt svelte-1ihp595"></i>',d=N(),c(t,"data-title",i=n[10].Name),c(t,"class","svelte-1ihp595"),c(o,"class","svelte-1ihp595"),c(e,"id",p=n[10].Id),c(e,"class",m=me(n[10].Id===n[0]?"active":"")+" svelte-1ihp595")},m(v,T){L(v,e,T),h(e,t),h(t,l),h(e,r),h(e,o),h(o,a),h(o,f),h(o,u),h(e,d),_||(y=[D(t,"click",n[8]),D(a,"click",n[6]),D(u,"click",n[7])],_=!0)},p(v,T){T&8&&s!==(s=v[10].Name+"")&&J(l,s),T&8&&i!==(i=v[10].Name)&&c(t,"data-title",i),T&8&&p!==(p=v[10].Id)&&c(e,"id",p),T&9&&m!==(m=me(v[10].Id===v[0]?"active":"")+" svelte-1ihp595")&&c(e,"class",m)},d(v){v&&A(e),_=!1,ue(y)}}}function ed(n){let e,t,s,l,i,r,o,a,f,u,d,p,m,_,y,v,T,I,E,w=(n[2]||"")+"",k,S,C,b,R,P,B,F,M,U=n[3],V=[];for(let H=0;H<U.length;H+=1)V[H]=Pi(Ri(n,U,H));return{c(){e=g("div"),t=g("label"),t.innerHTML='<i class="fas fa-heart svelte-1ihp595"></i>',s=N(),l=g("input"),i=N(),r=g("div"),o=g("div"),a=g("div"),f=g("div"),u=g("label"),u.innerHTML='<i class="fas fa-save svelte-1ihp595"></i>',d=N(),p=g("div"),m=g("input"),_=N(),y=g("span"),y.innerHTML='<i class="fas fa-times-circle svelte-1ihp595"></i>',v=N(),T=g("div"),I=N(),E=g("div"),k=z(w),S=N(),C=g("div"),b=g("table"),R=g("thead"),R.innerHTML=`<tr class="svelte-1ihp595"><th class="svelte-1ihp595">Name</th> 
            <th class="svelte-1ihp595">Action</th></tr>`,P=N(),B=g("tbody");for(let H=0;H<V.length;H+=1)V[H].c();c(t,"for","show-favs"),c(l,"type","checkbox"),c(l,"name","show-favorites"),c(l,"id","show-favs"),c(l,"class","svelte-1ihp595"),c(u,"for","fav-name"),c(u,"id","addfav"),c(u,"class","input-group-text"),c(m,"name","fav-name"),c(m,"type","text"),c(m,"class","form-control svelte-1ihp595"),c(m,"placeholder","New Favorite"),c(y,"class","svelte-1ihp595"),c(p,"class","i-control svelte-1ihp595"),c(f,"class","input-group-prepend"),c(a,"id","fav-controls"),c(T,"class","text-danger"),c(o,"class","modal-title svelte-1ihp595"),c(E,"class","errors svelte-1ihp595"),c(B,"class","svelte-1ihp595"),c(b,"class","table table-bordered bg-light table-hover svelte-1ihp595"),c(C,"class","modal-body"),c(r,"id","fav-manager"),c(r,"class","card text-light svelte-1ihp595"),c(e,"class","first-controls svelte-1ihp595")},m(H,X){L(H,e,X),h(e,t),h(e,s),h(e,l),h(e,i),h(e,r),h(r,o),h(o,a),h(a,f),h(f,u),h(f,d),h(f,p),h(p,m),pe(m,n[1].Name),h(p,_),h(p,y),h(o,v),h(o,T),h(r,I),h(r,E),h(E,k),h(r,S),h(r,C),h(C,b),h(b,R),h(b,P),h(b,B);for(let j=0;j<V.length;j+=1)V[j].m(B,null);F||(M=[D(u,"click",n[4]),D(m,"input",n[9]),D(y,"click",n[5])],F=!0)},p(H,[X]){if(X&2&&m.value!==H[1].Name&&pe(m,H[1].Name),X&4&&w!==(w=(H[2]||"")+"")&&J(k,w),X&457){U=H[3];let j;for(j=0;j<U.length;j+=1){const Q=Ri(H,U,j);V[j]?V[j].p(Q,X):(V[j]=Pi(Q),V[j].c(),V[j].m(B,null))}for(;j<V.length;j+=1)V[j].d(1);V.length=U.length}},i:Z,o:Z,d(H){H&&A(e),Le(V,H),F=!1,ue(M)}}}function td(n,e,t){let s;Ne(n,zt,m=>t(3,s=m));let{id:l=""}=e,i={},r;const o=()=>{i.Type=="",gu(i).then(m=>{m.Id!==l&&be(`/favorites/${m.Id}`)}),t(2,r="")},a=()=>{t(1,i={Name:"",Type:"Manga"}),t(2,r="")},f=m=>{t(1,i=s.find(_=>_.Id===m.target.closest("tr").id)),t(2,r="")},u=m=>{let _=m.target.closest("tr"),y=_.querySelector("td:nth-child(2)").textContent;vu(_.id,y).then(v=>{v.removed?be(`/favorites/${s[0].Id}`):t(2,r=v.msg)})},d=m=>{be(`/favorites/${m.target.closest("tr").id}`),t(2,r="")};function p(){i.Name=this.value,t(1,i),t(0,l)}return n.$$set=m=>{"id"in m&&t(0,l=m.id)},n.$$.update=()=>{n.$$.dirty&1&&t(1,i={Name:"",Type:"Manga"})},[l,i,r,s,o,a,f,u,d,p]}class nd extends te{constructor(e){super(),ee(this,e,td,ed,x,{id:0})}}function sd(n){let e,t;return e=new nd({props:{id:n[2],slot:"controls"}}),{c(){Y(e.$$.fragment)},m(s,l){W(e,s,l),t=!0},p(s,l){const i={};l&4&&(i.id=s[2]),e.$set(i)},i(s){t||(O(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){K(e,s)}}}function ld(n){let e,t;return e=new zn({props:{title:"Favorites",type:n[3],filter:n[1],page:n[0],favId:n[4],$$slots:{controls:[sd]},$$scope:{ctx:n}}}),{c(){Y(e.$$.fragment)},m(s,l){W(e,s,l),t=!0},p(s,[l]){const i={};l&8&&(i.type=s[3]),l&2&&(i.filter=s[1]),l&1&&(i.page=s[0]),l&68&&(i.$$scope={dirty:l,ctx:s}),e.$set(i)},i(s){t||(O(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){K(e,s)}}}function id(n,e,t){let s;Ne(n,zt,f=>t(5,s=f));let{page:l=1}=e,{filter:i=""}=e,{id:r}=e,o=r||s[0].Id,a=`favorites/${o}`;return n.$$set=f=>{"page"in f&&t(0,l=f.page),"filter"in f&&t(1,i=f.filter),"id"in f&&t(2,r=f.id)},t(3,a=`favorites/${o}`),[l,i,r,a,o]}class rd extends te{constructor(e){super(),ee(this,e,id,ld,x,{page:0,filter:1,id:2})}}function Ai(n,e,t){const s=n.slice();return s[10]=e[t].value,s[1]=e[t].label,s}function Li(n){let e,t,s,l,i,r,o,a,f,u,d,p,m,_,y,v=n[3],T=[];for(let I=0;I<v.length;I+=1)T[I]=Fi(Ai(n,v,I));return{c(){e=g("div"),t=g("div"),s=g("label"),l=z(n[1]),i=N(),r=g("select");for(let I=0;I<T.length;I+=1)T[I].c();o=N(),a=g("div"),f=g("label"),f.textContent="Items:",u=N(),d=g("input"),p=N(),m=g("span"),c(s,"for","orderby"),c(s,"class","svelte-hv7i5v"),c(r,"id","orderby"),c(r,"name","select-sort"),c(r,"class","fa svelte-hv7i5v"),n[2].Content.sort===void 0&&Te(()=>n[7].call(r)),c(t,"class","sortby svelte-hv7i5v"),c(f,"for","items"),c(f,"class","svelte-hv7i5v"),c(d,"id","items"),c(d,"name","items"),c(d,"type","number"),c(d,"min","0"),c(d,"max","500"),c(d,"class","svelte-hv7i5v"),c(m,"class","fas fa-save svelte-hv7i5v"),c(e,"class","config-items svelte-hv7i5v")},m(I,E){L(I,e,E),h(e,t),h(t,s),h(s,l),h(t,i),h(t,r);for(let w=0;w<T.length;w+=1)T[w].m(r,null);Ue(r,n[2].Content.sort),h(e,o),h(e,a),h(a,f),h(a,u),h(a,d),pe(d,n[2].Content.items),h(e,p),h(e,m),_||(y=[D(r,"change",n[7]),D(d,"input",n[8]),D(m,"click",n[5])],_=!0)},p(I,E){if(E&2&&J(l,I[1]),E&8){v=I[3];let w;for(w=0;w<v.length;w+=1){const k=Ai(I,v,w);T[w]?T[w].p(k,E):(T[w]=Fi(k),T[w].c(),T[w].m(r,null))}for(;w<T.length;w+=1)T[w].d(1);T.length=v.length}E&12&&Ue(r,I[2].Content.sort),E&12&&jt(d.value)!==I[2].Content.items&&pe(d,I[2].Content.items)},d(I){I&&A(e),Le(T,I),_=!1,ue(y)}}}function Fi(n){let e,t=n[1]+"",s;return{c(){e=g("option"),s=z(t),e.__value=n[10],e.value=e.__value,c(e,"class","svelte-hv7i5v")},m(l,i){L(l,e,i),h(e,s)},p:Z,d(l){l&&A(e)}}}function od(n){let e,t,s,l,i,r=n[0]&&Li(n);return{c(){e=g("span"),t=N(),r&&r.c(),s=Pe(),c(e,"class","config-list fas fa-cog svelte-hv7i5v")},m(o,a){L(o,e,a),L(o,t,a),r&&r.m(o,a),L(o,s,a),l||(i=D(e,"click",n[4]),l=!0)},p(o,[a]){o[0]?r?r.p(o,a):(r=Li(o),r.c(),r.m(s.parentNode,s)):r&&(r.d(1),r=null)},i:Z,o:Z,d(o){o&&A(e),o&&A(t),r&&r.d(o),o&&A(s),l=!1,i()}}}function ad(n,e,t){let s;Ne(n,Bn,m=>t(9,s=m));let{label:l}=e,{toggleConfig:i}=e,{showConfig:r}=e;const o=[{value:"nu",label:"\u2B07 Name"},{value:"nd",label:"\u2B06 Name"},{value:"dd",label:"\u2B06 Date"},{value:"du",label:"\u2B07 Date"}],a={...s},f=()=>{i(r)},u=()=>{Tr(a)};function d(){a.Content.sort=Ot(this),t(2,a),t(3,o)}function p(){a.Content.items=jt(this.value),t(2,a),t(3,o)}return n.$$set=m=>{"label"in m&&t(1,l=m.label),"toggleConfig"in m&&t(6,i=m.toggleConfig),"showConfig"in m&&t(0,r=m.showConfig)},[r,l,a,o,f,u,i,d,p]}class fd extends te{constructor(e){super(),ee(this,e,ad,od,x,{label:1,toggleConfig:6,showConfig:0})}}function Oi(n,e,t){const s=n.slice();return s[25]=e[t],s}function Mi(n){let e,t=n[25]+"",s,l,i;return{c(){e=g("span"),s=z(t),c(e,"class","svelte-11j9vp6")},m(r,o){L(r,e,o),h(e,s),l||(i=D(e,"click",qt(n[12])),l=!0)},p(r,o){o&128&&t!==(t=r[25]+"")&&J(s,t)},d(r){r&&A(e),l=!1,i()}}}function Di(n){let e,t,s;return{c(){e=g("button"),e.textContent="Continue",c(e,"class","btn btn-secondary svelte-11j9vp6")},m(l,i){L(l,e,i),t||(s=D(e,"click",n[10]),t=!0)},p:Z,d(l){l&&A(e),t=!1,s()}}}function cd(n){let e,t,s;return{c(){e=g("div"),e.innerHTML='<i class="fas fa-arrow-circle-up svelte-11j9vp6"></i>',c(e,"class","first-controls svelte-11j9vp6"),c(e,"slot","controls")},m(l,i){L(l,e,i),t||(s=D(e,"click",n[11]),t=!0)},p:Z,d(l){l&&A(e),t=!1,s()}}}function ud(n){var vt,Et,ze,Je,Tt;let e,t,s,l,i=(vt=n[7])!=null&&vt.Status?"Completed":"On Going",r,o,a,f,u,d,p,m,_=((Et=n[7])==null?void 0:Et.Name)+"",y,v,T,I,E,w,k,S,C,b,R=((ze=n[7])==null?void 0:ze.Description)+"",P,B,F,M,U,V,H,X,j,Q,re,ce,oe,de,ie,G,ae,le,he,Ce,It,tt,qe=((Tt=(Je=n[7])==null?void 0:Je.Genres)==null?void 0:Tt.split(", "))||[],Se=[];for(let ne=0;ne<qe.length;ne+=1)Se[ne]=Mi(Oi(n,qe,ne));let ye=n[6]&&Di(n);return ae=new fd({props:{label:"Sort By:",showConfig:n[5],toggleConfig:n[18]}}),he=new zn({props:{title:"Content",type:n[8],filter:n[1],page:n[0],id:n[2],setFolderInfo:n[16],setLastRead:n[15],handleClick:n[18],$$slots:{controls:[cd]},$$scope:{ctx:n}}}),{c(){var ne,se;e=g("div"),t=g("div"),s=g("div"),l=g("span"),r=z(i),o=N(),a=g("img"),u=N(),d=g("div"),p=g("span"),m=g("span"),y=z(_),v=N(),T=g("div"),I=g("span"),I.textContent="Genres:",E=N();for(let ge=0;ge<Se.length;ge+=1)Se[ge].c();w=N(),k=g("div"),S=g("span"),C=g("span"),C.textContent="Description:",b=N(),P=z(R),B=N(),F=g("div"),ye&&ye.c(),M=N(),U=g("button"),U.textContent="First",V=N(),H=g("button"),H.textContent="Last",X=N(),j=g("button"),j.textContent="Reset All",Q=N(),re=g("button"),re.textContent="Update",ce=N(),oe=g("fieldset"),de=g("legend"),ie=g("span"),G=z("Files List - "),Y(ae.$$.fragment),le=N(),Y(he.$$.fragment),c(l,"class","svelte-11j9vp6"),$(l,"completed",(ne=n[7])==null?void 0:ne.Status),Fe(a.src,f=(se=n[7])==null?void 0:se.Cover)||c(a,"src",f),c(a,"alt","Cover Not Found"),c(a,"class","svelte-11j9vp6"),c(s,"id","img-info"),c(s,"class","svelte-11j9vp6"),c(m,"class","svelte-11j9vp6"),c(p,"id","manga-name"),c(p,"class","svelte-11j9vp6"),c(I,"class","gen-tag svelte-11j9vp6"),c(T,"class","genres-list svelte-11j9vp6"),c(C,"class","gen-tag svelte-11j9vp6"),c(S,"class","desc-text svelte-11j9vp6"),c(k,"class","m-desc svelte-11j9vp6"),c(k,"title","Click To Show More"),$(k,"show-more",n[3]),c(U,"id","first"),c(U,"class","btn btn-secondary svelte-11j9vp6"),c(H,"id","last"),c(H,"class","btn btn-secondary svelte-11j9vp6"),c(j,"class","btn btn-secondary svelte-11j9vp6"),c(re,"class","btn btn-secondary svelte-11j9vp6"),c(F,"id","btn-bar"),c(F,"class","svelte-11j9vp6"),c(d,"id","name-gen-tag"),c(d,"class","svelte-11j9vp6"),c(t,"id","info-content"),c(t,"class","svelte-11j9vp6"),c(e,"id","info"),c(e,"class","svelte-11j9vp6"),c(ie,"class","svelte-11j9vp6"),c(de,"class","svelte-11j9vp6"),c(oe,"class","svelte-11j9vp6")},m(ne,se){L(ne,e,se),h(e,t),h(t,s),h(s,l),h(l,r),h(s,o),h(s,a),h(t,u),h(t,d),h(d,p),h(p,m),h(m,y),h(d,v),h(d,T),h(T,I),h(T,E);for(let ge=0;ge<Se.length;ge+=1)Se[ge].m(T,null);h(d,w),h(d,k),h(k,S),h(S,C),h(S,b),h(S,P),n[19](S),h(d,B),h(d,F),ye&&ye.m(F,null),h(F,M),h(F,U),h(F,V),h(F,H),h(F,X),h(F,j),h(F,Q),h(F,re),L(ne,ce,se),L(ne,oe,se),h(oe,de),h(de,ie),h(ie,G),W(ae,ie,null),h(oe,le),W(he,oe,null),Ce=!0,It||(tt=[D(k,"click",n[17]),D(U,"click",n[9]),D(H,"click",n[9]),D(j,"click",n[13]),D(re,"click",n[14])],It=!0)},p(ne,[se]){var Qs,Zs,$s,xs,el,tl,nl;if((!Ce||se&128)&&i!==(i=(Qs=ne[7])!=null&&Qs.Status?"Completed":"On Going")&&J(r,i),(!Ce||se&128)&&$(l,"completed",(Zs=ne[7])==null?void 0:Zs.Status),(!Ce||se&128&&!Fe(a.src,f=($s=ne[7])==null?void 0:$s.Cover))&&c(a,"src",f),(!Ce||se&128)&&_!==(_=((xs=ne[7])==null?void 0:xs.Name)+"")&&J(y,_),se&4224){qe=((tl=(el=ne[7])==null?void 0:el.Genres)==null?void 0:tl.split(", "))||[];let je;for(je=0;je<qe.length;je+=1){const sl=Oi(ne,qe,je);Se[je]?Se[je].p(sl,se):(Se[je]=Mi(sl),Se[je].c(),Se[je].m(T,null))}for(;je<Se.length;je+=1)Se[je].d(1);Se.length=qe.length}(!Ce||se&128)&&R!==(R=((nl=ne[7])==null?void 0:nl.Description)+"")&&J(P,R),(!Ce||se&8)&&$(k,"show-more",ne[3]),ne[6]?ye?ye.p(ne,se):(ye=Di(ne),ye.c(),ye.m(F,M)):ye&&(ye.d(1),ye=null);const ge={};se&32&&(ge.showConfig=ne[5]),ae.$set(ge);const Wt={};se&2&&(Wt.filter=ne[1]),se&1&&(Wt.page=ne[0]),se&4&&(Wt.id=ne[2]),se&268435456&&(Wt.$$scope={dirty:se,ctx:ne}),he.$set(Wt)},i(ne){Ce||(O(ae.$$.fragment,ne),O(he.$$.fragment,ne),Ce=!0)},o(ne){q(ae.$$.fragment,ne),q(he.$$.fragment,ne),Ce=!1},d(ne){ne&&A(e),Le(Se,ne),n[19](null),ye&&ye.d(),ne&&A(ce),ne&&A(oe),K(ae),K(he),It=!1,ue(tt)}}}function dd(n,e,t){let{page:s=1}=e,{filter:l=""}=e,{id:i=""}=e,r=!1,o,a=!1;const f=document.querySelector("#menu");let u="",d={Genres:""};const p=Re("socket");let m=window.location.pathname.replace(/(^\/+|\/+$)/g,"").split("/"),_=`${m[0]}/${m[1]}/${i}`,{pathname:y,folder:v}=localStorage.getObject("folder");localStorage.setItem("Manga",v);const T=async({target:{id:F}})=>{const M=await Ie.files(["first-last",F,d.Id]);Fn({id:M.Id,dataset:{type:M.Type}})},I=async()=>{const F=await Ie.files(["file-data",u]);Fn({id:u,dataset:{type:F.Type}})},E=()=>{be(y,{replace:!0,state:""})},w=({currentTarget:F})=>{const M=F.textContent,U=y.split("/").slice(1,3);be(`/${U[0]}/${U[1]}/1/${M}`)},k=async()=>{p.emit("reset-recent",{Id:d==null?void 0:d.Id})},S=()=>{p.emit("scan-dir",{Id:d==null?void 0:d.Id,isFolder:!0})},C=F=>t(6,u=F),b=F=>t(7,d=F),R=()=>{r&&t(4,o.scrollTop=0,o),t(3,r=!r)},P=F=>t(5,a=!F);gt(()=>f.style.display="flex"),f.style.display="none";function B(F){Be[F?"unshift":"push"](()=>{o=F,t(4,o)})}return n.$$set=F=>{"page"in F&&t(0,s=F.page),"filter"in F&&t(1,l=F.filter),"id"in F&&t(2,i=F.id)},[s,l,i,r,o,a,u,d,_,T,I,E,w,k,S,C,b,R,P,B]}class us extends te{constructor(e){super(),ee(this,e,dd,ud,x,{page:0,filter:1,id:2})}}function Bi(n,e,t){const s=n.slice();return s[21]=e[t].Id,s[22]=e[t].Name,s[23]=e[t].Cover,s[24]=e[t].CurrentPos,s[25]=e[t].Duration,s[26]=e[t].Type,s}function qi(n){let e,t,s,l,i,r,o,a=(n[26].includes("Manga")?`${n[24]+1}/${n[25]}`:pt(n[25]))+"",f,u,d,p=n[22]+"",m,_,y,v,T,I;return{c(){e=g("li"),t=g("span"),s=g("img"),r=N(),o=g("span"),f=z(a),u=N(),d=g("span"),m=z(p),_=N(),c(s,"data-src",l=n[23]),Fe(s.src,i="")||c(s,"src",i),c(s,"alt",""),c(s,"class","svelte-lv0e1h"),c(o,"class","duration svelte-lv0e1h"),c(t,"class","cover svelte-lv0e1h"),c(d,"class","l-name svelte-lv0e1h"),c(e,"id",y=n[21]),c(e,"class",v=me(n[21]===n[1]?"active":"")+" svelte-lv0e1h")},m(E,w){L(E,e,w),h(e,t),h(t,s),h(t,r),h(t,o),h(o,f),h(e,u),h(e,d),h(d,m),h(e,_),T||(I=D(e,"click",n[12]),T=!0)},p(E,w){w&192&&l!==(l=E[23])&&c(s,"data-src",l),w&192&&a!==(a=(E[26].includes("Manga")?`${E[24]+1}/${E[25]}`:pt(E[25]))+"")&&J(f,a),w&192&&p!==(p=E[22]+"")&&J(m,p),w&192&&y!==(y=E[21])&&c(e,"id",y),w&194&&v!==(v=me(E[21]===E[1]?"active":"")+" svelte-lv0e1h")&&c(e,"class",v)},d(E){E&&A(e),T=!1,I()}}}function ji(n){let e,t,s;return t=new on({props:{page:parseInt(n[5]||1),totalPages:n[4],hideFL:!0}}),t.$on("gotopage",n[9]),{c(){e=g("div"),Y(t.$$.fragment),c(e,"class","b-control svelte-lv0e1h")},m(l,i){L(l,e,i),W(t,e,null),s=!0},p(l,i){const r={};i&32&&(r.page=parseInt(l[5]||1)),i&16&&(r.totalPages=l[4]),t.$set(r)},i(l){s||(O(t.$$.fragment,l),s=!0)},o(l){q(t.$$.fragment,l),s=!1},d(l){l&&A(e),K(t)}}}function hd(n){let e,t,s,l,i,r,o,a,f,u,d,p,m,_,y,v,T,I,E,w,k=n[6].slice(n[7],n[7]+en),S=[];for(let b=0;b<k.length;b+=1)S[b]=qi(Bi(n,k,b));let C=n[4]>1&&ji(n);return{c(){e=g("label"),t=g("span"),t.innerHTML='<i class="fas fa-list svelte-lv0e1h"></i>',l=N(),i=g("div"),r=N(),o=g("input"),a=N(),f=g("div"),u=g("div"),d=g("input"),p=N(),m=g("span"),m.innerHTML='<i class="fas fa-times-circle svelte-lv0e1h"></i>',_=N(),y=g("div"),v=g("ul");for(let b=0;b<S.length;b+=1)S[b].c();T=N(),C&&C.c(),c(t,"class","p-sort svelte-lv0e1h"),c(e,"class",s=me("show-list"+(n[3]?"":" move"))+" svelte-lv0e1h"),c(e,"for","p-hide"),st(e,"bottom","35px"),c(e,"title","play-list"),c(i,"id","p-bg"),c(i,"tabindex","-1"),c(i,"class","svelte-lv0e1h"),$(i,"hidelist",!n[3]),c(o,"name","show-hide-play-list"),c(o,"type","checkbox"),c(o,"id","p-hide"),c(o,"class","svelte-lv0e1h"),c(d,"name","clear-filters"),c(d,"type","text"),c(d,"placeholder","Filter"),c(d,"class","form-control svelte-lv0e1h"),c(m,"class","clear-filter svelte-lv0e1h"),c(u,"id","v-filter"),c(u,"class","svelte-lv0e1h"),c(v,"class","svelte-lv0e1h"),c(y,"id","p-list"),c(y,"class","svelte-lv0e1h"),c(f,"id","play-list"),c(f,"class","svelte-lv0e1h"),$(f,"move",!n[8])},m(b,R){L(b,e,R),h(e,t),L(b,l,R),L(b,i,R),L(b,r,R),L(b,o,R),o.checked=n[3],L(b,a,R),L(b,f,R),h(f,u),h(u,d),pe(d,n[0].filter),h(u,p),h(u,m),h(f,_),h(f,y),h(y,v);for(let P=0;P<S.length;P+=1)S[P].m(v,null);n[16](y),h(f,T),C&&C.m(f,null),I=!0,E||(w=[D(i,"click",xe(qt(n[13]))),D(o,"change",n[14]),D(d,"input",n[15]),D(m,"click",n[10])],E=!0)},p(b,[R]){if((!I||R&8&&s!==(s=me("show-list"+(b[3]?"":" move"))+" svelte-lv0e1h"))&&c(e,"class",s),(!I||R&8)&&$(i,"hidelist",!b[3]),R&8&&(o.checked=b[3]),R&1&&d.value!==b[0].filter&&pe(d,b[0].filter),R&194){k=b[6].slice(b[7],b[7]+en);let P;for(P=0;P<k.length;P+=1){const B=Bi(b,k,P);S[P]?S[P].p(B,R):(S[P]=qi(B),S[P].c(),S[P].m(v,null))}for(;P<S.length;P+=1)S[P].d(1);S.length=k.length}b[4]>1?C?(C.p(b,R),R&16&&O(C,1)):(C=ji(b),C.c(),O(C,1),C.m(f,null)):C&&(ve(),q(C,1,1,()=>{C=null}),_e()),(!I||R&256)&&$(f,"move",!b[8])},i(b){I||(O(C),I=!0)},o(b){q(C),I=!1},d(b){b&&A(e),b&&A(l),b&&A(i),b&&A(r),b&&A(o),b&&A(a),b&&A(f),Le(S,b),n[16](null),C&&C.d(),E=!1,ue(w)}}}const en=100;function pd(n,e,t){let s;Ne(n,kt,b=>t(8,s=b));const l=Ve();let{files:i=[]}=e,{fileId:r}=e,{filters:o={filter:""}}=e,a,f,u=!0,d=0,p=1,m=0,_=[];const y=()=>{let b=_.findIndex(P=>P.Id===r),R=1;for(;R*en<b&&R<d;)R++;return R},v=()=>{if(a&&a.disconnect(),f){let b=document.querySelectorAll("#play-list li img");a=new IntersectionObserver(R=>{for(let P of R){let B=P.target;P.isIntersecting?B.src=B.dataset.src:B.src=""}},{root:f,rootMargin:"1000px",threshold:0}),b.forEach(R=>{a.observe(R)})}},T=b=>{b=parseInt(b.detail),!(b<1||b>d||isNaN(b))&&(t(5,p=b<1?1:b>d?d:b),v())},I=()=>{t(0,o.filter="",o),l("clearfilter")};function E(b){we.call(this,n,b)}const w=()=>{t(3,u=!0),console.log("toggle")};function k(){u=this.checked,t(3,u)}function S(){o.filter=this.value,t(0,o)}function C(b){Be[b?"unshift":"push"](()=>{f=b,t(2,f)})}return n.$$set=b=>{"files"in b&&t(11,i=b.files),"fileId"in b&&t(1,r=b.fileId),"filters"in b&&t(0,o=b.filters)},n.$$.update=()=>{if(n.$$.dirty&12&&!u&&f){let b=document.querySelector("#play-list .active");b&&(f.scroll({top:b.offsetTop-250}),v(),setTimeout(()=>{f.scroll({top:b.offsetTop-250})},300))}if(n.$$.dirty&2049&&(o.filter?t(6,_=i.filter(b=>b.Name.contains(o.filter))):t(6,_=i)),n.$$.dirty&2128&&i.length>100&&d===0&&(t(4,d=Math.ceil(_.length/en)),t(5,p=y())),n.$$.dirty&96){let b=(p-1)*en;b<_.length?t(7,m=b):t(7,m=0)}},[o,r,f,u,d,p,_,m,s,T,I,i,E,w,k,S,C]}class md extends te{constructor(e){super(),ee(this,e,pd,hd,x,{files:11,fileId:1,filters:0})}}const wn=n=>{var e;return(e=document.querySelectorAll(".img-current img")[n])==null?void 0:e.scrollIntoView()},gd=function(n,e,t,s=1,l){const i=Math.max(0,e);let r=i,o=[];for(;r!=i+t*s&&!(r>l-1||r<0);)n[r]||o.push(r),r+=s;return o};var ft,bt;let Xe,Ft;const vd=(n,e,t)=>(Xe=e.querySelectorAll("img"),ft||(ft=new IntersectionObserver(s=>{if(s.length<Xe.length)for(let l of s){let i=l.target;if(l.isIntersecting){n(parseInt(i.id)),Ft=i.id;let r=Xe[Ft];r&&!r.src.includes("data:img")&&t(Ft-3,8,1)}}},{root:e}),Xe.forEach(s=>{ft.observe(s)})),ft);let On=!1;const _d=()=>{On=!0},bd=()=>{const n=Ft;Xe[n]&&!Xe[n].src?(loadImages(n-1,6),setTimeout(()=>{wn(n),setTimeout(()=>{clearTimeout(Zt),On=!1},100)},500)):On=!1};let Zt,ds=!1;const yd=(n,e)=>{e.onmouseup=bd,e.onmousedown=_d,bt||(bt=new IntersectionObserver(t=>{if(!On&&t.length<Xe.length){let s,l;for(let i of t)if(i.isIntersecting){s=parseInt(i.target.id),l=s<Ft?-1:1;const r=Xe[l+s];r&&!r.src.includes("data:img")&&(ds=!0)}ds&&(ds=!1,Zt&&clearTimeout(Zt),Zt=setTimeout(()=>{n(s,8,l),clearTimeout(Zt)},50))}},{root:e,rootMargin:window.innerHeight*2+"px",threshold:0})),Xe.forEach(t=>{bt.observe(t)})},Pt=n=>{n&&(n.onmousedown=null,n.onmouseup=null),ft==null||ft.disconnect(),bt==null||bt.disconnect(),Xe=[],ft=null,bt=null,Xe=null,Ft=null};let eo,Ui,Ke={},Gs=!1,Ns=!1,tn={dis:0,dir:0},nn={dis:0,dir:0},Qe={nextPage:"",prevPage:"",nextFile:"",prevFile:""};const Hi=n=>{Gs=!0,eo=n.timeStamp;let{pageX:e,pageY:t}=n.touches&&n.touches[0]||n;Ke={x:e,y:t}},wd=n=>{if(Gs){let{pageX:e,pageY:t}=n.touches[0];nn.dir=e-Ke.x,tn.dir=t-Ke.y,tn.dis=Math.abs(tn.dir),nn.dis=Math.abs(nn.dir),Ns=!0}},Vi=n=>{Gs=!1;let{file:{CurrentPos:e,Duration:t},webtoon:s,nextFile:l,nextPage:i,prevFile:r,prevPage:o,jumpTo:a,fullScreen:f}=Qe;if(Ns)nn.dis>100?nn.dir>0?o():i():tn.dis>180&&(tn.dir>0?s&&e===0&&r():s&&e===t-1&&l());else if(Ui=n.timeStamp,Ui-eo>70){let d=window.innerWidth,p=window.innerHeight;Ke.y<p*.33?Ke.x<d*.33?a(0):Ke.x<d*.66?Yr():a(t):Ke.y<p*.8?Ke.x<d*.33?i():Ke.x<d*.66?f():i():Ke.x<d*.33?r():Ke.x<d*.66?Ma():l()}Ns=!1};function kd(n){let e,t,s,l,i,r,o,a,f,u,d,p,m,_,y,v,T,I,E,w;return{c(){e=g("label"),e.innerHTML='<i class="fas fa-cog svelte-1xomtui"></i>',t=N(),s=g("input"),l=N(),i=g("div"),r=g("div"),o=g("div"),o.innerHTML='<label for="img-fill" class="input-group-text svelte-1xomtui">Ajust Image:</label>',a=N(),f=g("select"),u=g("option"),u.textContent="fill",d=g("option"),d.textContent="cover",p=g("option"),p.textContent="contain",m=N(),_=g("div"),y=g("div"),y.innerHTML='<label for="img-width" class="input-group-text svelte-1xomtui">Width</label>',v=N(),T=g("input"),c(e,"for","show"),c(e,"class","svelte-1xomtui"),c(s,"type","checkbox"),c(s,"name","show-config"),c(s,"id","show"),c(s,"class","svelte-1xomtui"),c(o,"class","input-group-prepend svelte-1xomtui"),u.__value="fill",u.value=u.__value,c(u,"class","svelte-1xomtui"),d.__value="cover",d.value=d.__value,c(d,"class","svelte-1xomtui"),p.__value="contain",p.value=p.__value,c(p,"class","svelte-1xomtui"),c(f,"id","img-fill"),c(f,"name","image-fill"),c(f,"class","form-control svelte-1xomtui"),n[1].imgAbjust===void 0&&Te(()=>n[12].call(f)),c(r,"class","input-group svelte-1xomtui"),c(y,"class","input-group-prepend svelte-1xomtui"),c(T,"id","img-width"),c(T,"name","img-width"),c(T,"type","number"),c(T,"min","30"),c(T,"max","100"),c(T,"class","form-control svelte-1xomtui"),c(T,"placeholder",I=n[1].width+"%"),c(_,"class","input-group svelte-1xomtui"),c(i,"id","content"),c(i,"class","svelte-1xomtui"),$(i,"show",n[2])},m(k,S){L(k,e,S),L(k,t,S),L(k,s,S),s.checked=n[2],L(k,l,S),L(k,i,S),h(i,r),h(r,o),h(r,a),h(r,f),h(f,u),h(f,d),h(f,p),Ue(f,n[1].imgAbjust),h(i,m),h(i,_),h(_,y),h(_,v),h(_,T),pe(T,n[3]),E||(w=[D(s,"change",n[11]),D(f,"change",n[12]),D(T,"blur",n[4]),D(T,"focus",n[5]),D(T,"change",n[6]),D(T,"keydown",xe(n[10])),D(T,"input",n[13]),D(i,"click",xe(qt(n[9])))],E=!0)},p(k,[S]){S&4&&(s.checked=k[2]),S&2&&Ue(f,k[1].imgAbjust),S&2&&I!==(I=k[1].width+"%")&&c(T,"placeholder",I),S&8&&jt(T.value)!==k[3]&&pe(T,k[3]),S&4&&$(i,"show",k[2])},i:Z,o:Z,d(k){k&&A(e),k&&A(t),k&&A(s),k&&A(l),k&&A(i),E=!1,ue(w)}}}function Cd(n,e,t){let s,l=Z,i=()=>(l(),l=Rs(o,E=>t(8,s=E)),o);n.$$.on_destroy.push(()=>l());let{onConfig:r}=e,{ToggleMenu:o}=e;i();let a=localStorage.getObject("mangaConfig")||{width:65,imgAbjust:"fill"},f=!1,u="";const d=()=>{t(3,u="")},p=()=>{t(3,u=a.width)};let m=({target:{value:E}})=>{t(3,u=mt(E,30,100)),t(1,a.width=u,a)};function _(E){we.call(this,n,E)}function y(E){we.call(this,n,E)}function v(){f=this.checked,t(2,f),t(8,s)}function T(){a.imgAbjust=Ot(this),t(1,a)}function I(){u=jt(this.value),t(3,u)}return n.$$set=E=>{"onConfig"in E&&t(7,r=E.onConfig),"ToggleMenu"in E&&i(t(0,o=E.ToggleMenu))},n.$$.update=()=>{n.$$.dirty&256&&s&&t(2,f=!1),n.$$.dirty&130&&r(a),n.$$.dirty&2&&localStorage.setObject("mangaConfig",a)},[o,a,f,u,d,p,m,r,s,_,y,v,T,I]}class Id extends te{constructor(e){super(),ee(this,e,Cd,kd,x,{onConfig:7,ToggleMenu:0})}}function zi(n,e,t){const s=n.slice();return s[39]=e[t],s[41]=t,s}function Ed(n){let e,t=Array(n[0].Duration).fill(),s=[];for(let l=0;l<t.length;l+=1)s[l]=Wi(zi(n,t,l));return{c(){for(let l=0;l<s.length;l+=1)s[l].c();e=Pe()},m(l,i){for(let r=0;r<s.length;r+=1)s[r].m(l,i);L(l,e,i)},p(l,i){if(i[0]&81){t=Array(l[0].Duration).fill();let r;for(r=0;r<t.length;r+=1){const o=zi(l,t,r);s[r]?s[r].p(o,i):(s[r]=Wi(o),s[r].c(),s[r].m(e.parentNode,e))}for(;r<s.length;r+=1)s[r].d(1);s.length=t.length}},d(l){Le(s,l),l&&A(e)}}}function Td(n){let e,t;return{c(){e=g("img"),st(e,"object-fit",n[4].imgAbjust),Fe(e.src,t=n[6][n[0].CurrentPos]&&"data:img/jpeg;base64, "+n[6][n[0].CurrentPos])||c(e,"src",t),c(e,"alt","Loading..."),c(e,"class","svelte-1b5wmu"),$(e,"empty-img",!n[6][n[0].CurrentPos])},m(s,l){L(s,e,l)},p(s,l){l[0]&16&&st(e,"object-fit",s[4].imgAbjust),l[0]&65&&!Fe(e.src,t=s[6][s[0].CurrentPos]&&"data:img/jpeg;base64, "+s[6][s[0].CurrentPos])&&c(e,"src",t),l[0]&65&&$(e,"empty-img",!s[6][s[0].CurrentPos])},d(s){s&&A(e)}}}function Wi(n){let e,t;return{c(){e=g("img"),c(e,"id",n[41]),st(e,"object-fit",n[4].imgAbjust),Fe(e.src,t=n[6][n[41]]?"data:img/jpeg;base64, "+n[6][n[41]]:"")||c(e,"src",t),c(e,"alt","Loading... Please Wait"),c(e,"class","svelte-1b5wmu"),$(e,"empty-img",!n[6][n[41]])},m(s,l){L(s,e,l)},p(s,l){l[0]&16&&st(e,"object-fit",s[4].imgAbjust),l[0]&64&&!Fe(e.src,t=s[6][s[41]]?"data:img/jpeg;base64, "+s[6][s[41]]:"")&&c(e,"src",t),l[0]&64&&$(e,"empty-img",!s[6][s[41]])},d(s){s&&A(e)}}}function Sd(n){let e,t,s,l,i,r,o,a,f,u,d,p,m,_,y,v,T,I=n[1]?"List":"Pages",E,w,k,S,C,b,R,P,B,F,M,U,V,H,X,j,Q,re,ce;function oe(G,ae){return G[1]?Ed:Td}let de=oe(n),ie=de(n);return H=new Id({props:{onConfig:n[16],ToggleMenu:kt}}),{c(){e=g("div"),t=g("span"),s=g("i"),l=N(),i=z(n[5]),r=N(),o=g("div"),a=g("div"),ie.c(),u=N(),d=g("div"),p=g("span"),p.innerHTML='<i class="far fa-times-circle popup-msg svelte-1b5wmu" data-title="Close"></i>',m=N(),_=g("span"),y=g("input"),v=N(),T=g("label"),E=z(I),w=N(),k=g("i"),S=N(),C=g("span"),C.innerHTML='<i class="fa fa-arrow-circle-left svelte-1b5wmu"></i>',b=N(),R=g("span"),P=g("form"),B=g("input"),F=N(),M=g("span"),M.innerHTML='<i class="fa fa-arrow-circle-right svelte-1b5wmu"></i>',U=N(),V=g("span"),Y(H.$$.fragment),X=N(),j=g("span"),j.innerHTML='<i class="fas fa-expand-arrows-alt popup-msg svelte-1b5wmu" data-title="Full Screen"></i>',c(s,"class","fas fa-sticky-note svelte-1b5wmu"),c(t,"class","fullscreen-progress svelte-1b5wmu"),c(a,"class","img-current svelte-1b5wmu"),c(a,"style",f=`width: ${Is?100:n[4].width}%;`),c(a,"tabindex","0"),$(a,"webtoon-img",n[1]),c(o,"class","viewer svelte-1b5wmu"),$(o,"isFullscreen",n[8]),c(p,"id","hide-player"),c(p,"class","svelte-1b5wmu"),c(y,"type","checkbox"),c(y,"name","webtoon"),c(y,"id","webtoon"),c(y,"class","svelte-1b5wmu"),c(k,"class","fas fa-eye svelte-1b5wmu"),c(T,"for","webtoon"),c(T,"class","svelte-1b5wmu"),c(_,"class","web-toon svelte-1b5wmu"),c(C,"class","prev-page svelte-1b5wmu"),c(B,"name","page-selector"),c(B,"type","number"),B.value="",c(B,"placeholder",n[5]),c(B,"class","svelte-1b5wmu"),c(P,"action",""),c(R,"class","current-page svelte-1b5wmu"),c(M,"class","next-page svelte-1b5wmu"),c(V,"class","config svelte-1b5wmu"),c(j,"class","btn-fullscr svelte-1b5wmu"),c(d,"class","controls svelte-1b5wmu"),c(e,"id","manga-viewer"),c(e,"tabindex","0"),c(e,"class","svelte-1b5wmu"),$(e,"hide",n[9])},m(G,ae){L(G,e,ae),h(e,t),h(t,s),h(t,l),h(t,i),h(e,r),h(e,o),h(o,a),ie.m(a,null),n[21](a),h(e,u),h(e,d),h(d,p),h(d,m),h(d,_),h(_,y),y.checked=n[1],h(_,v),h(_,T),h(T,E),h(T,w),h(T,k),h(d,S),h(d,C),h(d,b),h(d,R),h(R,P),h(P,B),n[23](B),h(d,F),h(d,M),h(d,U),h(d,V),W(H,V,null),h(d,X),h(d,j),Q=!0,re||(ce=[D(a,"touchstart",Hi,{passive:!0}),D(a,"touchend",Vi,{passive:!0}),D(a,"mousedown",Hi),D(a,"mouseup",Vi),D(a,"touchmove",wd,{passive:!0}),D(p,"click",n[15]),D(y,"change",n[22]),D(C,"click",n[10]),D(B,"focus",n[12]),D(B,"blur",n[13]),D(B,"keydown",xe(n[20])),D(P,"submit",qt(n[14])),D(M,"click",n[11]),D(j,"click",function(){lt(n[3].action)&&n[3].action.apply(this,arguments)})],re=!0)},p(G,ae){n=G,(!Q||ae[0]&32)&&J(i,n[5]),de===(de=oe(n))&&ie?ie.p(n,ae):(ie.d(1),ie=de(n),ie&&(ie.c(),ie.m(a,null))),(!Q||ae[0]&16&&f!==(f=`width: ${Is?100:n[4].width}%;`))&&c(a,"style",f),(!Q||ae[0]&2)&&$(a,"webtoon-img",n[1]),(!Q||ae[0]&256)&&$(o,"isFullscreen",n[8]),ae[0]&2&&(y.checked=n[1]),(!Q||ae[0]&2)&&I!==(I=n[1]?"List":"Pages")&&J(E,I),(!Q||ae[0]&32)&&c(B,"placeholder",n[5]),(!Q||ae[0]&512)&&$(e,"hide",n[9])},i(G){Q||(O(H.$$.fragment,G),Q=!0)},o(G){q(H.$$.fragment,G),Q=!1},d(G){G&&A(e),ie.d(),n[21](null),n[23](null),K(H),re=!1,ue(ce)}}}function Nd(n,e,t){let s;Ne(n,kt,G=>t(9,s=G));let{file:l}=e,{KeyMap:i}=e,{viewer:r}=e;const{NextFile:o,PrevFile:a,Fullscreen:f,SkipForward:u,SkipBack:d}=i,p=Re("socket"),m=Ve();let _=localStorage.getItem("webtoon")==="true",y=localStorage.getObject("mangaConfig")||{width:65,imgAbjust:"fill"},v=`${l.CurrentPos+1}/${l.Duration}`,T=[l.Duration],I,E,w=!1,k={isLoading:!1,jumping:!1,lastId:l==null?void 0:l.Id};const S=(G,ae,le=1)=>{if(!k.loading&&!isNaN(G)&&!isNaN(ae)){const he=gd(T,G,ae,le||1,l.Duration);he.length?(t(19,k.loading=!0,k),p.emit("loadzip-image",{Id:l.Id,indices:he})):k.jumping&&H()}},C=(G,ae)=>{let le=l.CurrentPos+G;le>-1&&le<l.Duration?(_?wn(le):!k.loading&&!T[le+6*G]&&S(le,11,G),t(0,l.CurrentPos=le,l)):(t(19,k.jumping=!0,k),Pt(I),ae())},b=()=>C(-1,a.action),R=()=>C(1,o.action),P=G=>{G=mt(G,1,l.Duration),t(0,l.CurrentPos=G-1,l),_&&(t(19,k.jumping=!0,k),Pt(I)),S(G-5,10)},B=()=>{t(7,E.value=l.CurrentPos+1,E),E.focus()},F=()=>t(7,E.value="",E),M=()=>{P(+E.value),F()},U=()=>m("returnBack"),V=G=>{t(0,l.CurrentPos=G,l)};let H=(G=0)=>{let ae=setTimeout(()=>{wn(l.CurrentPos),vd(V,I,S),yd(S,I,l.CurrentPos),clearTimeout(ae),t(19,k.jumping=!1,k)},G)};f.action=()=>{_?(Pt(I),t(8,w=Es(r)),H(100)):t(8,w=Es(r))};const X=G=>t(4,y=G),j=G=>{G.id===l.Id?G.last?(t(19,k.loading=!1,k),k.jumping&&_&&H(100)):t(6,T[G.page]=G.img,T):t(19,k.loading=!1,k)},Q=()=>S(l.CurrentPos-2,8),re=()=>t(19,k.loading=!1,k);p.on("connect",Q),p.on("image-loaded",j),p.on("disconnect",re),u.action=R,d.action=b,Qe.prevPage=b,Qe.nextPage=R,Qe.jumpTo=P,Qe.fullScreen=f.action,Qe.nextFile=o.action,Qe.prevFile=a.action,Qe.file=l,sr(()=>{l.Id!==k.lastfId&&(t(19,k.lastfId=l.Id,k),wn(l.CurrentPos))}),gt(()=>{Pt(I),p.off("image-loaded",j),p.off("disconnect",re),p.off("connect",Q)});function ce(G){we.call(this,n,G)}function oe(G){Be[G?"unshift":"push"](()=>{I=G,t(2,I)})}function de(){_=this.checked,t(1,_)}function ie(G){Be[G?"unshift":"push"](()=>{E=G,t(7,E)})}return n.$$set=G=>{"file"in G&&t(0,l=G.file),"KeyMap"in G&&t(17,i=G.KeyMap),"viewer"in G&&t(18,r=G.viewer)},n.$$.update=()=>{n.$$.dirty[0]&1&&t(5,v=`${parseInt(l.CurrentPos)+1}/${l.Duration}`),n.$$.dirty[0]&6&&(Qe.webtoon=_,_?H(100):Pt(I)),n.$$.dirty[0]&524293&&l.Id!==k.lastfId&&(t(19,k.jumping=!0,k),t(19,k.loading=!1,k),t(6,T=[]),Pt(I),S(l.CurrentPos-2,8),Qe.file=l),n.$$.dirty[0]&2&&localStorage.setItem("webtoon",_)},[l,_,I,f,y,v,T,E,w,s,b,R,B,F,M,U,X,i,r,k,ce,oe,de,ie]}class Rd extends te{constructor(e){super(),ee(this,e,Nd,Sd,x,{file:0,KeyMap:17,viewer:18},null,[-1,-1])}}const Pd=n=>({value:n&8}),Ki=n=>({value:n[3].value});function Yi(n){let e,t,s,l;const i=n[14].default,r=ct(i,n,n[13],Ki);return{c(){var o;e=g("span"),t=g("span"),r&&r.c(),c(t,"class","rc-preview-content svelte-hkabeq"),c(e,"class","rc-preview svelte-hkabeq"),c(e,"data-title","00:00"),c(e,"style",s=`left: calc(${n[3].pos}% - ${(((o=n[2])==null?void 0:o.offsetWidth)||0)/2}px)`)},m(o,a){L(o,e,a),h(e,t),r&&r.m(t,null),n[15](e),l=!0},p(o,a){var f;r&&r.p&&(!l||a&8200)&&dt(r,i,o,o[13],l?ut(i,o[13],a,Pd):ht(o[13]),Ki),(!l||a&12&&s!==(s=`left: calc(${o[3].pos}% - ${(((f=o[2])==null?void 0:f.offsetWidth)||0)/2}px)`))&&c(e,"style",s)},i(o){l||(O(r,o),l=!0)},o(o){q(r,o),l=!1},d(o){o&&A(e),r&&r.d(o),n[15](null)}}}function Ad(n){let e,t,s,l,i,r,o,a,f,u,d,p=n[0]&&Yi(n);return{c(){e=g("div"),t=g("div"),s=g("div"),i=N(),r=g("span"),a=N(),p&&p.c(),c(s,"class","rc-progress svelte-hkabeq"),c(s,"style",l=`border-radius: ${Math.round(n[4])===100?"0.3rem":"0.3rem 0px 0px 0.3rem"}; width: ${n[4]>.3?n[4]:0}%`),c(r,"class","rc-thumb svelte-hkabeq"),c(r,"style",o=`left: calc(${n[4]}% - 11px)`),c(t,"id",n[5]),c(t,"class","rc-track svelte-hkabeq"),c(e,"class","rc-slider svelte-hkabeq")},m(m,_){L(m,e,_),h(e,t),h(t,s),h(t,i),h(t,r),h(t,a),p&&p.m(t,null),n[16](t),f=!0,u||(d=[D(r,"mousedown",n[8]),D(t,"mousedown",n[6]),D(t,"touchstart",n[6]),D(t,"mousemove",n[7])],u=!0)},p(m,[_]){(!f||_&16&&l!==(l=`border-radius: ${Math.round(m[4])===100?"0.3rem":"0.3rem 0px 0px 0.3rem"}; width: ${m[4]>.3?m[4]:0}%`))&&c(s,"style",l),(!f||_&16&&o!==(o=`left: calc(${m[4]}% - 11px)`))&&c(r,"style",o),m[0]?p?(p.p(m,_),_&1&&O(p,1)):(p=Yi(m),p.c(),O(p,1),p.m(t,null)):p&&(ve(),q(p,1,1,()=>{p=null}),_e())},i(m){f||(O(p),f=!0)},o(m){q(p),f=!1},d(m){m&&A(e),p&&p.d(),n[16](null),u=!1,ue(d)}}}function Ld(n,e,t){let{$$slots:s={},$$scope:l}=e,{value:i}=e,{preview:r=!1}=e,{min:o=0}=e,{max:a=100}=e,{onChange:f}=e,u="rc-"+new Date().getTime(),d,p,m=0,_=Xt(i,o,a,0,100),y={is:!1};const v=b=>b.getBoundingClientRect().left,T=b=>{y={is:!0,id:u};let R,P=b.touches[0];b.type==="touchstart"?(R=P.pageX-v(P.target),document.on("touchmove",I)):(R=b.offsetX,document.on("mousemove",I)),isNaN(R)||k(R)},I=b=>{let R=b.touches[0];if(R.target.id||b.target.id,y.is&&b.target.id===u){let P;b.type==="touchmove"?P=R.pageX-v(R.target):P=b.offsetX,P>0&&P<d.offsetWidth&&k(P)}},E=b=>{if(r){var R=Math.floor(b.pageX-v(d)),P=Xt(R-1,0,d.offsetWidth-2,0,100).toFixed(0);let B=Xt(R-1,0,d.offsetWidth-2,o,a).toFixed(2);P=mt(P,0,100);let F=mt(B,0,a);t(3,m={pos:P,value:F})}};document.onmouseup=b=>{y=!1,document.off("mousemove",I),document.off("touchmove",I)};const w=b=>{y={is:!0,id:u},b.type==="touchstart"?document.on("touchmove",I):document.on("mousemove",I),b.stopPropagation()},k=b=>{let R=Number(Xt(b-1,0,d.offsetWidth-2,o,a).toFixed(2));R=R<0?0:R>a?a:R,f(R)};gt(()=>{document.off("mousemove",I),document.off("touchmove",I)});function S(b){Be[b?"unshift":"push"](()=>{p=b,t(2,p)})}function C(b){Be[b?"unshift":"push"](()=>{d=b,t(1,d)})}return n.$$set=b=>{"value"in b&&t(9,i=b.value),"preview"in b&&t(0,r=b.preview),"min"in b&&t(10,o=b.min),"max"in b&&t(11,a=b.max),"onChange"in b&&t(12,f=b.onChange),"$$scope"in b&&t(13,l=b.$$scope)},n.$$.update=()=>{n.$$.dirty&3584&&t(4,_=Xt(i,o,a,0,100))},[r,d,p,m,_,u,T,E,w,i,o,a,f,l,s,S,C]}class Fd extends te{constructor(e){super(),ee(this,e,Ld,Ad,x,{value:9,preview:0,min:10,max:11,onChange:12})}}const to={startX:0,endPosX:0,startY:0,endY:0,time:0};var hs=!1,_t=0,Jt={...to};let Xi=0;const Od=n=>{n&&(n.onmousedown=n.ontouchstart=e=>{if(hs=!0,Xi=e.timeStamp,e.type!=="mousedown"){let{pageX:t,pageY:s}=e.touches[0];Jt={time:Xi,startX:t,startY:s}}else e.which===1&&(n.paused?n.play():n.pause())},n.ontouchmove=e=>{if(hs){let{pageX:t,pageY:s}=e.touches[0],{startX:l,startY:i}=Jt,r=t-l,o=s-i;if(_t===0&&(r>10||r<-10)?_t=1:_t===0&&(o>10||o<-10)&&(_t=2),_t===1&&!n.seeking){if(r>20||r<-20){let{duration:a,currentTime:f}=n,u=f+(r>0?5:-5);n.currentTime=u<0?0:u>a?a:u,Jt={time:e.timeStamp,startX:t,startY:s}}}else if(_t===2&&(o>2||o<-2)){let a=n.volume+(o<0?.03:-.03);n.volume=a<0?0:a>1?1:a,Jt={time:e.timeStamp,startX:t,startY:s}}}},n.onmouseup=n.ontouchend=e=>{hs=!1,Jt={initialData:to},_t=0})};function Ji(n){let e,t,s,l,i,r,o=!0,a,f,u,d,p,m,_,y,v,T,I,E,w,k,S,C,b,R,P,B,F,M,U,V,H,X,j,Q,re,ce,oe,de,ie,G,ae;return _=new Fd({props:{min:0,max:n[0].Duration,value:n[0].CurrentPos,onChange:n[10],preview:!0,$$slots:{default:[Md,({value:le})=>({31:le}),({value:le})=>[0,le?1:0]]},$$scope:{ctx:n}}}),{c(){e=g("div"),t=g("div"),s=g("video"),l=g("track"),a=N(),f=g("div"),u=g("div"),d=g("span"),p=z(n[3]),m=N(),Y(_.$$.fragment),y=N(),v=g("div"),T=g("span"),T.innerHTML='<i class="far fa-times-circle svelte-1s0uws9"></i>',I=N(),E=g("span"),E.innerHTML='<i class="far fa-arrow-alt-circle-left svelte-1s0uws9"></i>',w=N(),k=g("label"),S=g("input"),C=N(),b=g("i"),P=N(),B=g("span"),B.innerHTML='<i class="far fa-arrow-alt-circle-right svelte-1s0uws9"></i>',F=N(),M=g("span"),M.innerHTML='<i class="fas fa-expand-arrows-alt svelte-1s0uws9"></i>',U=N(),V=g("span"),H=g("input"),j=N(),Q=g("label"),re=g("input"),oe=N(),de=g("i"),c(l,"kind","captions"),c(s,"class","player svelte-1s0uws9"),Fe(s.src,i=`/api/viewer/video/${n[0].Id}`)||c(s,"src",i),c(s,"preload","metadata"),s.controls=!1,s.autoplay=!0,c(s,"poster",r=n[0].Cover),s.loop=!1,c(d,"id","v-progress"),c(d,"class","svelte-1s0uws9"),c(u,"class","v-seeker svelte-1s0uws9"),c(T,"class","svelte-1s0uws9"),c(E,"class","prev-page svelte-1s0uws9"),c(S,"name","play-button"),c(S,"type","checkbox"),c(S,"id","v-play"),c(S,"class","svelte-1s0uws9"),c(b,"class",R=me(`far fa-${n[2].pause?"play":"pause"}-circle`)+" svelte-1s0uws9"),c(k,"for","v-play"),c(k,"class","svelte-1s0uws9"),c(B,"class","next-page svelte-1s0uws9"),c(M,"class","svelte-1s0uws9"),c(H,"name","vol-range"),c(H,"type","range"),c(H,"min",0),c(H,"max",1),c(H,"step",.05),H.value=X=n[2].volume,c(H,"class","svelte-1s0uws9"),c(re,"name","mute-volumen"),c(re,"id","v-mute"),c(re,"type","checkbox"),c(re,"class","vol-ctrl svelte-1s0uws9"),re.checked=ce=n[2].volume===0,c(de,"class","fas fa-volume-up popup-msg svelte-1s0uws9"),c(de,"data-title","Mute"),c(Q,"for","v-mute"),c(Q,"class","svelte-1s0uws9"),c(V,"class","v-vol svelte-1s0uws9"),c(v,"class","player-btns svelte-1s0uws9"),c(f,"class","player-controls svelte-1s0uws9"),c(t,"class","player-content svelte-1s0uws9"),c(e,"class","player-container svelte-1s0uws9"),c(e,"tabindex","0"),$(e,"isFullScreen",n[4])},m(le,he){L(le,e,he),h(e,t),h(t,s),h(s,l),n[24](s),isNaN(n[2].volume)||(s.volume=n[2].volume),h(t,a),h(t,f),h(f,u),h(u,d),h(d,p),h(u,m),W(_,u,null),h(f,y),h(f,v),h(v,T),h(v,I),h(v,E),h(v,w),h(v,k),h(k,S),h(k,C),h(k,b),h(v,P),h(v,B),h(v,F),h(v,M),h(v,U),h(v,V),h(V,H),h(V,j),h(V,Q),h(Q,re),h(Q,oe),h(Q,de),n[27](f),ie=!0,G||(ae=[D(s,"play",n[25]),D(s,"pause",n[25]),D(s,"volumechange",n[26]),D(s,"contextmenu",qt(n[23])),D(s,"loadedmetadata",n[8]),D(s,"timeupdate",n[16]),D(s,"click",n[18]),D(T,"click",n[9]),D(E,"click",n[7].action),D(S,"change",n[17]),D(B,"click",n[6].action),D(M,"click",n[12]),D(H,"input",n[13]),D(re,"change",n[11]),D(f,"mousedown",xe(n[22])),D(e,"mousemove",n[14]),D(e,"keydown",n[19]),D(e,"wheel",n[15])],G=!0)},p(le,he){(!ie||he[0]&1&&!Fe(s.src,i=`/api/viewer/video/${le[0].Id}`))&&c(s,"src",i),(!ie||he[0]&1&&r!==(r=le[0].Cover))&&c(s,"poster",r),he[0]&4&&o!==(o=le[2].pause)&&s[o?"pause":"play"](),he[0]&4&&!isNaN(le[2].volume)&&(s.volume=le[2].volume),(!ie||he[0]&8)&&J(p,le[3]);const Ce={};he[0]&1&&(Ce.max=le[0].Duration),he[0]&1&&(Ce.value=le[0].CurrentPos),he[1]&3&&(Ce.$$scope={dirty:he,ctx:le}),_.$set(Ce),(!ie||he[0]&4&&R!==(R=me(`far fa-${le[2].pause?"play":"pause"}-circle`)+" svelte-1s0uws9"))&&c(b,"class",R),(!ie||he[0]&4&&X!==(X=le[2].volume))&&(H.value=X),(!ie||he[0]&4&&ce!==(ce=le[2].volume===0))&&(re.checked=ce),(!ie||he[0]&16)&&$(e,"isFullScreen",le[4])},i(le){ie||(O(_.$$.fragment,le),ie=!0)},o(le){q(_.$$.fragment,le),ie=!1},d(le){le&&A(e),n[24](null),K(_),n[27](null),G=!1,ue(ae)}}}function Md(n){let e=pt(n[31]+2)+"",t;return{c(){t=z(e)},m(s,l){L(s,t,l)},p(s,l){l[1]&1&&e!==(e=pt(s[31]+2)+"")&&J(t,e)},d(s){s&&A(t)}}}function Dd(n){let e,t,s=n[0].Id&&Ji(n);return{c(){s&&s.c(),e=Pe()},m(l,i){s&&s.m(l,i),L(l,e,i),t=!0},p(l,i){l[0].Id?s?(s.p(l,i),i[0]&1&&O(s,1)):(s=Ji(l),s.c(),O(s,1),s.m(e.parentNode,e)):s&&(ve(),q(s,1,1,()=>{s=null}),_e())},i(l){t||(O(s),t=!0)},o(l){q(s),t=!1},d(l){s&&s.d(l),l&&A(e)}}}function Bd(n,e,t){let{KeyMap:s}=e,{file:l}=e,{viewer:i}=e;const{NextFile:r,PrevFile:o}=s,a=Ve();let f={time:!1,volume:.5,pause:!1,muted:!1},u={},d,p=!1,m;const _=j=>{t(1,u.currentTime=l.CurrentPos,u)},y=()=>{a("returnBack")},v=j=>{t(1,u.currentTime=j,u)},T=({target:j})=>{t(1,u.muted=j.checked,u)},I=()=>{Es(i)},E=({target:{value:j}})=>{t(2,f.volume=j,f)},w=()=>t(4,p=document.fullscreenElement!==null);He(()=>(Od(u),window.addEventListener("fullscreenchange",w),()=>window.removeEventListener("fullscreenchange",w)));let k;const S=()=>{p&&window.innerWidth>1e3&&(t(5,m.style.bottom=0,m),clearTimeout(k),k=setTimeout(()=>{t(5,m.style.bottom=-m.offsetHeight+"px",m)},5e3))},C=({deltaY:j})=>{let{volume:Q}=f;Q+=j<0?.05:-.05,t(2,f.volume=Q<0?0:Q>1?1:Q,f)},b=()=>{t(0,l.CurrentPos=u.currentTime,l)},R=({target:{checked:j}})=>j?u.pause():u.play(),P=()=>{p&&(m.style.bottom=="0px"?(t(5,m.style.bottom=-m.offsetHeight+"px",m),u.play()):(t(5,m.style.bottom=0,m),u.pause()))},B=({keyCode:j,ctrlKey:Q})=>{switch(j){case 13:{I();break}case 39:{t(1,u.currentTime+=Q?10:5,u);break}case 37:{t(1,u.currentTime-=Q?10:5,u);break}case 38:{let re=u.volume+.05;t(1,u.volume=re>1?1:re,u);break}case 40:{let re=u.volume-.05;t(1,u.volume=re<0?0:re,u);break}case 32:{u.paused?u.play():u.pause();break}}};function F(j){we.call(this,n,j)}function M(j){we.call(this,n,j)}function U(j){Be[j?"unshift":"push"](()=>{u=j,t(1,u)})}function V(){f.pause=this.paused,t(2,f)}function H(){f.volume=this.volume,t(2,f)}function X(j){Be[j?"unshift":"push"](()=>{m=j,t(5,m)})}return n.$$set=j=>{"KeyMap"in j&&t(20,s=j.KeyMap),"file"in j&&t(0,l=j.file),"viewer"in j&&t(21,i=j.viewer)},n.$$.update=()=>{n.$$.dirty[0]&3&&u&&t(3,d=pt(l.CurrentPos)+"/"+pt(l.Duration))},[l,u,f,d,p,m,r,o,_,y,v,T,I,E,S,C,b,R,P,B,s,i,F,M,U,V,H,X]}class qd extends te{constructor(e){super(),ee(this,e,Bd,Dd,x,{KeyMap:20,file:0,viewer:21},null,[-1,-1])}}function jd(n){let e,t;return e=new qd({props:{file:n[2],KeyMap:Lt,viewer:n[3]}}),e.$on("returnBack",n[10]),{c(){Y(e.$$.fragment)},m(s,l){W(e,s,l),t=!0},p(s,l){const i={};l&4&&(i.file=s[2]),l&8&&(i.viewer=s[3]),e.$set(i)},i(s){t||(O(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){K(e,s)}}}function Ud(n){let e,t;return e=new Rd({props:{viewer:n[3],file:n[2],KeyMap:Lt}}),e.$on("changefile",n[9]),e.$on("returnBack",n[10]),{c(){Y(e.$$.fragment)},m(s,l){W(e,s,l),t=!0},p(s,l){const i={};l&8&&(i.viewer=s[3]),l&4&&(i.file=s[2]),e.$set(i)},i(s){t||(O(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){K(e,s)}}}function Hd(n){let e,t,s,l=`${n[5]} - ${n[2].Name}`,i,r,o,a,f,u,d=`${n[4]+1} / ${n[1].length}`,p,m,_,y,v,T,I,E,w,k,S,C,b;v=new md({props:{fileId:n[0],files:n[1],filters:n[7]}}),v.$on("click",n[8]),v.$on("clearfilter",n[11]);const R=[Ud,jd],P=[];function B(F,M){return M&4&&(I=null),M&4&&(E=null),I==null&&(I=!!uc(F[2])),I?0:(E==null&&(E=!!yn(F[2])),E?1:-1)}return~(w=B(n,-1))&&(k=P[w]=R[w](n)),{c(){e=g("div"),t=g("div"),s=g("span"),i=z(l),r=N(),o=g("span"),a=g("span"),f=g("i"),u=N(),p=z(d),m=N(),_=g("div"),y=N(),Y(v.$$.fragment),T=N(),k&&k.c(),c(s,"class","svelte-1sgrnag"),c(t,"class","f-name svelte-1sgrnag"),$(t,"nomenu",n[6]),c(f,"class","fas fa-file svelte-1sgrnag"),c(a,"id","files-prog"),c(a,"class","svelte-1sgrnag"),c(_,"id","clock"),c(_,"class","svelte-1sgrnag"),c(o,"class","info svelte-1sgrnag"),$(o,"top",yn(n[2])),c(e,"class","viewer svelte-1sgrnag")},m(F,M){L(F,e,M),h(e,t),h(t,s),h(s,i),h(e,r),h(e,o),h(o,a),h(a,f),h(a,u),h(a,p),h(o,m),h(o,_),h(e,y),W(v,e,null),h(e,T),~w&&P[w].m(e,null),n[14](e),S=!0,C||(b=D(e,"keydown",hc),C=!0)},p(F,[M]){(!S||M&36)&&l!==(l=`${F[5]} - ${F[2].Name}`)&&J(i,l),(!S||M&64)&&$(t,"nomenu",F[6]),(!S||M&18)&&d!==(d=`${F[4]+1} / ${F[1].length}`)&&J(p,d),(!S||M&4)&&$(o,"top",yn(F[2]));const U={};M&1&&(U.fileId=F[0]),M&2&&(U.files=F[1]),v.$set(U);let V=w;w=B(F,M),w===V?~w&&P[w].p(F,M):(k&&(ve(),q(P[V],1,1,()=>{P[V]=null}),_e()),~w?(k=P[w],k?k.p(F,M):(k=P[w]=R[w](F),k.c()),O(k,1),k.m(e,null)):k=null)},i(F){S||(O(v.$$.fragment,F),O(k),S=!0)},o(F){q(v.$$.fragment,F),q(k),S=!1},d(F){F&&A(e),K(v),~w&&P[w].d(),n[14](null),C=!1,b()}}}function Vd(n,e,t){let s;Ne(n,kt,R=>t(6,s=R));let{folderId:l}=e,{fileId:i}=e,r=i;const o=location.pathname.replace(/(^\/+|\/+$)/g,"").split("/").slice(0,3).join("/"),a=Re("socket"),{NextFile:f,PrevFile:u}=Lt;let d=[],p=[],m={Name:"",Type:"",Cover:""},_,y=1,v={filter:""},T="";const I=()=>{let{Id:R,CurrentPos:P}=m;a.emit("file-update-pos",{Id:R,CurrentPos:P})},E=({target:{id:R}})=>{I(),v.filter?t(1,p=d.filter(P=>P.Name.contains(v.filter))):t(1,p=d),be(`/${o}/${R}`)},w=(R=0)=>{if(p.length){let P=p.findIndex(B=>B.Id===i)+R;P>-1&&P<p.length&&(t(4,y=P),I(),be(`/${o}/${p[y].Id}`))}},k=()=>{I();const R=localStorage.getItem("content");localStorage.setItem("fileId",m.Id),be(R)};f.action=()=>w(1),f.isctrl=!0,u.action=()=>w(-1),u.isctrl=!0,He(async()=>{var P,B;let R=await Ie.post("viewer/folder",{id:l});R.fail||(t(5,T=R.Name),t(1,p=d=R.files.sort(dc)),window.title=((B=(P=p[0])==null?void 0:P.Cover)==null?void 0:B.split("/")[2])||"")});const S=()=>{t(1,p=d)};let C;window.addEventListener("fullscreenchange",R=>{if(document.fullscreenElement){const P=document.getElementById("clock");P&&(P.innerText=new Date().toLocaleTimeString("en-US"),C=setInterval(()=>{P.innerText=new Date().toLocaleTimeString("en-US")},1e3))}else clearInterval(C),clock.innerText="";Is&&yn(m)&&document.fullscreenElement?window.screen.orientation.lock("landscape"):window.screen.orientation.unlock()});function b(R){Be[R?"unshift":"push"](()=>{_=R,t(3,_)})}return n.$$set=R=>{"folderId"in R&&t(12,l=R.folderId),"fileId"in R&&t(0,i=R.fileId)},n.$$.update=()=>{n.$$.dirty&3&&p.length>0&&(t(2,m=p.find(R=>R.Id===i)||p[0]),t(4,y=p.findIndex(R=>R.Id===i))),n.$$.dirty&12293&&m.Id!=r&&(t(13,r=m.Id),Yr(),a==null||a.emit("recent-folder",{CurrentFile:i,FolderId:l}))},[i,p,m,_,y,T,s,v,E,w,k,S,l,r,b]}class ps extends te{constructor(e){super(),ee(this,e,Vd,Hd,x,{folderId:12,fileId:0})}}function Gi(n,e,t){const s=n.slice();return s[6]=e[t].Id,s[7]=e[t].Name,s}function Qi(n){let e,t=n[7]+"",s,l,i,r,o,a;return{c(){e=g("li"),s=z(t),l=N(),c(e,"class","list-item svelte-1jhvnzx"),c(e,"id",i=n[6]),c(e,"title",r=n[0].title),$(e,"selected",n[6]===n[3])},m(f,u){L(f,e,u),h(e,s),h(e,l),o||(a=D(e,"click",function(){lt(n[1])&&n[1].apply(this,arguments)}),o=!0)},p(f,u){n=f,u&4&&t!==(t=n[7]+"")&&J(s,t),u&4&&i!==(i=n[6])&&c(e,"id",i),u&1&&r!==(r=n[0].title)&&c(e,"title",r),u&12&&$(e,"selected",n[6]===n[3])},d(f){f&&A(e),o=!1,a()}}}function zd(n){let e,t,s,l,i=n[0].title+"",r,o,a,f=n[2],u=[];for(let d=0;d<f.length;d+=1)u[d]=Qi(Gi(n,f,d));return{c(){e=g("i"),s=N(),l=g("span"),r=z(i),o=N(),a=g("ul");for(let d=0;d<u.length;d+=1)u[d].c();c(e,"class",t=me("fas fa-"+n[0].class)+" svelte-1jhvnzx"),c(l,"class","nav-title"),c(a,"class","down-list svelte-1jhvnzx")},m(d,p){L(d,e,p),L(d,s,p),L(d,l,p),h(l,r),L(d,o,p),L(d,a,p);for(let m=0;m<u.length;m+=1)u[m].m(a,null)},p(d,p){if(p&1&&t!==(t=me("fas fa-"+d[0].class)+" svelte-1jhvnzx")&&c(e,"class",t),p&1&&i!==(i=d[0].title+"")&&J(r,i),p&15){f=d[2];let m;for(m=0;m<f.length;m+=1){const _=Gi(d,f,m);u[m]?u[m].p(_,p):(u[m]=Qi(_),u[m].c(),u[m].m(a,null))}for(;m<u.length;m+=1)u[m].d(1);u.length=f.length}},d(d){d&&A(e),d&&A(s),d&&A(l),d&&A(o),d&&A(a),Le(u,d)}}}function Wd(n){let e,t,s;return t=new ur({props:{to:`${n[0].path}/${n[3]}`,getProps:Sr,$$slots:{default:[zd]},$$scope:{ctx:n}}}),{c(){e=g("li"),Y(t.$$.fragment),c(e,"class","nav-item svelte-1jhvnzx")},m(l,i){L(l,e,i),W(t,e,null),s=!0},p(l,[i]){const r={};i&9&&(r.to=`${l[0].path}/${l[3]}`),i&1039&&(r.$$scope={dirty:i,ctx:l}),t.$set(r)},i(l){s||(O(t.$$.fragment,l),s=!0)},o(l){q(t.$$.fragment,l),s=!1},d(l){l&&A(e),K(t)}}}function Kd(n,e,t){let{dirs:s}=e,{item:l}=e,{selected:i}=e,{selectDir:r}=e,o=[],a;return n.$$set=f=>{"dirs"in f&&t(4,s=f.dirs),"item"in f&&t(0,l=f.item),"selected"in f&&t(5,i=f.selected),"selectDir"in f&&t(1,r=f.selectDir)},n.$$.update=()=>{n.$$.dirty&49&&s&&(t(2,o=s[l.title]),t(3,a=i[l.title]))},[l,r,o,a,s,i]}class Yd extends te{constructor(e){super(),ee(this,e,Kd,Wd,x,{dirs:4,item:0,selected:5,selectDir:1})}}function Xd(n){let e,t;return e=new Yd({props:{dirs:n[0],selectDir:n[3],selected:n[1],item:n[6]}}),{c(){Y(e.$$.fragment)},m(s,l){W(e,s,l),t=!0},p(s,l){const i={};l&1&&(i.dirs=s[0]),l&2&&(i.selected=s[1]),l&64&&(i.item=s[6]),e.$set(i)},i(s){t||(O(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){K(e,s)}}}function Jd(n){let e,t,s,l,i,r,o,a,f,u,d,p,m,_,y,v,T,I,E,w,k,S;return e=new Nr({props:{navItems:n[2],filters:["Mangas","Videos"],$$slots:{default:[Xd,({item:C})=>({6:C}),({item:C})=>C?64:0]},$$scope:{ctx:n}}}),e.$on("click",n[4]),s=new Oe({props:{path:"/videos/content/:id/:page/:filter",component:us}}),i=new Oe({props:{path:"/videos/viewer/:folderId/:fileId",component:ps}}),o=new Oe({props:{path:"/videos/:dir/:page/:filter",component:xu}}),f=new Oe({props:{path:"/mangas/content/:id/:page/:filter",component:us}}),d=new Oe({props:{path:"/mangas/viewer/:folderId/:fileId",component:ps}}),m=new Oe({props:{path:"/mangas/:dir/:page/:filter",component:Qu}}),y=new Oe({props:{path:"/favorites/content/:id/:page/:filter",component:us}}),T=new Oe({props:{path:"/favorites/viewer/:folderId/:fileId",component:ps}}),E=new Oe({props:{path:"/favorites/:id/:page/:filter",component:rd}}),k=new Oe({props:{path:"/:page/:filter",component:Ou}}),{c(){Y(e.$$.fragment),t=N(),Y(s.$$.fragment),l=N(),Y(i.$$.fragment),r=N(),Y(o.$$.fragment),a=N(),Y(f.$$.fragment),u=N(),Y(d.$$.fragment),p=N(),Y(m.$$.fragment),_=N(),Y(y.$$.fragment),v=N(),Y(T.$$.fragment),I=N(),Y(E.$$.fragment),w=N(),Y(k.$$.fragment)},m(C,b){W(e,C,b),L(C,t,b),W(s,C,b),L(C,l,b),W(i,C,b),L(C,r,b),W(o,C,b),L(C,a,b),W(f,C,b),L(C,u,b),W(d,C,b),L(C,p,b),W(m,C,b),L(C,_,b),W(y,C,b),L(C,v,b),W(T,C,b),L(C,I,b),W(E,C,b),L(C,w,b),W(k,C,b),S=!0},p(C,b){const R={};b&195&&(R.$$scope={dirty:b,ctx:C}),e.$set(R)},i(C){S||(O(e.$$.fragment,C),O(s.$$.fragment,C),O(i.$$.fragment,C),O(o.$$.fragment,C),O(f.$$.fragment,C),O(d.$$.fragment,C),O(m.$$.fragment,C),O(y.$$.fragment,C),O(T.$$.fragment,C),O(E.$$.fragment,C),O(k.$$.fragment,C),S=!0)},o(C){q(e.$$.fragment,C),q(s.$$.fragment,C),q(i.$$.fragment,C),q(o.$$.fragment,C),q(f.$$.fragment,C),q(d.$$.fragment,C),q(m.$$.fragment,C),q(y.$$.fragment,C),q(T.$$.fragment,C),q(E.$$.fragment,C),q(k.$$.fragment,C),S=!1},d(C){K(e,C),C&&A(t),K(s,C),C&&A(l),K(i,C),C&&A(r),K(o,C),C&&A(a),K(f,C),C&&A(u),K(d,C),C&&A(p),K(m,C),C&&A(_),K(y,C),C&&A(v),K(T,C),C&&A(I),K(E,C),C&&A(w),K(k,C)}}}function Gd(n){let e,t;return e=new cr({props:{$$slots:{default:[Jd]},$$scope:{ctx:n}}}),{c(){Y(e.$$.fragment)},m(s,l){W(e,s,l),t=!0},p(s,[l]){const i={};l&131&&(i.$$scope={dirty:l,ctx:s}),e.$set(i)},i(s){t||(O(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){K(e,s)}}}function Qd(n,e,t){const s=(f,u)=>{var d,p,m;return((d=f.Name)==null?void 0:d.includes("Completed"))||((p=u.Name)==null?void 0:p.includes("Completed"))?-1:(m=f.Name)==null?void 0:m.localeCompare(u==null?void 0:u.Name)},l=[{title:"Home",path:"/",class:"home"},{title:"Videos",path:"/videos",class:"film"},{title:"Mangas",path:"/mangas",class:"book"},{title:"Favorites",path:"/favorites",class:"heart"}];let i;zt.set(Re("User").favorites);let r={Mangas:"",Videos:""};const o=({target:{id:f,title:u}})=>t(1,r[u]=f,r);He(async()=>{var u,d;const f=await Ie.files(["dirs/"]);f.Mangas.sort(s),f.Videos.sort(s),t(1,r.Mangas=((u=f.Mangas[0])==null?void 0:u.Id)||"",r),t(1,r.Videos=((d=f.Videos[0])==null?void 0:d.Id)||"",r),t(0,i=f)}),document.title="Home";function a(f){we.call(this,n,f)}return[i,r,l,o,a]}class Zd extends te{constructor(e){super(),ee(this,e,Qd,Gd,x,{})}}function $d(n){let e,t,s,l,i,r,o,a,f,u,d=n[1].name+"",p,m,_,y,v,T,I,E,w=n[1].password+"",k,S,C,b,R;return{c(){e=g("div"),t=g("form"),s=g("h3"),s.textContent="Login",l=N(),i=g("div"),r=g("div"),r.innerHTML='<label for="name" class="input-group-text svelte-18j40gp"><i class="fas fa-user svelte-18j40gp"></i></label>',o=N(),a=g("input"),f=N(),u=g("div"),p=z(d),m=N(),_=g("div"),y=g("div"),y.innerHTML='<label for="password" class="input-group-text svelte-18j40gp"><i class="fas fa-key svelte-18j40gp"></i></label>',v=N(),T=g("input"),I=N(),E=g("div"),k=z(w),S=N(),C=g("div"),C.innerHTML='<button class="btn" tabindex="0">Submit</button>',c(s,"class","mb-4 svelte-18j40gp"),c(r,"class","input-group-prepend"),c(a,"id","name"),c(a,"type","text"),c(a,"class","form-control"),c(a,"name","username"),c(a,"placeholder","Name"),c(a,"tabindex","0"),c(i,"class","input-group"),c(u,"id","name-errors"),c(u,"class","error text-left text-danger svelte-18j40gp"),c(y,"class","input-group-prepend"),c(T,"id","password"),c(T,"type","password"),c(T,"class","form-control"),c(T,"name","Password"),c(T,"placeholder","Password"),c(T,"autocomplete","on"),c(T,"tabindex","0"),c(_,"class","input-group"),c(E,"id","pasword-errors"),c(E,"class","error text-left text-danger svelte-18j40gp"),c(C,"class","form-footer"),c(t,"method","post"),c(t,"class","card bg-dark p-3 svelte-18j40gp"),c(e,"id","login-container"),c(e,"class","svelte-18j40gp")},m(P,B){L(P,e,B),h(e,t),h(t,s),h(t,l),h(t,i),h(i,r),h(i,o),h(i,a),pe(a,n[0].username),h(t,f),h(t,u),h(u,p),h(t,m),h(t,_),h(_,y),h(_,v),h(_,T),pe(T,n[0].password),h(t,I),h(t,E),h(E,k),h(t,S),h(t,C),b||(R=[D(a,"input",n[3]),D(T,"input",n[4]),D(t,"submit",n[2])],b=!0)},p(P,[B]){B&1&&a.value!==P[0].username&&pe(a,P[0].username),B&2&&d!==(d=P[1].name+"")&&J(p,d),B&1&&T.value!==P[0].password&&pe(T,P[0].password),B&2&&w!==(w=P[1].password+"")&&J(k,w)},i:Z,o:Z,d(P){P&&A(e),b=!1,ue(R)}}}function xd(n,e,t){const s=Ve();let l={username:"",password:""},i={name:"",password:""};const r=async f=>{f.preventDefault();try{const u=await Ys("users/login",l);u.isAutenticated?s("login",{...u}):l.username?t(1,i.name="User can't be empty",i):t(1,i.password="Password can't be empty",i)}catch(u){u.toString().includes("Network Error")?t(1,i.password="server offline",i):t(1,i.password="Server Error",i)}};document.title="Media Server";function o(){l.username=this.value,t(0,l)}function a(){l.password=this.value,t(0,l)}return[l,i,r,o,a]}class eh extends te{constructor(e){super(),ee(this,e,xd,$d,x,{})}}function th(n){let e,t;return e=new eh({}),e.$on("login",n[3]),{c(){Y(e.$$.fragment)},m(s,l){W(e,s,l),t=!0},p:Z,i(s){t||(O(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){K(e,s)}}}function nh(n){let e,t,s,l,i;const r=[ih,lh],o=[];function a(f,u){return u&1&&(e=null),e==null&&(e=!!f[0].role.includes("Admin")),e?0:1}return t=a(n,-1),s=o[t]=r[t](n),{c(){s.c(),l=Pe()},m(f,u){o[t].m(f,u),L(f,l,u),i=!0},p(f,u){let d=t;t=a(f,u),t===d?o[t].p(f,u):(ve(),q(o[d],1,1,()=>{o[d]=null}),_e(),s=o[t],s?s.p(f,u):(s=o[t]=r[t](f),s.c()),O(s,1),s.m(l.parentNode,l))},i(f){i||(O(s),i=!0)},o(f){q(s),i=!1},d(f){o[t].d(f),f&&A(l)}}}function sh(n){let e;return{c(){e=g("div"),e.textContent="Loading"},m(t,s){L(t,e,s)},p:Z,i:Z,o:Z,d(t){t&&A(e)}}}function lh(n){let e,t;return e=new Zd({}),e.$on("click",n[2]),{c(){Y(e.$$.fragment)},m(s,l){W(e,s,l),t=!0},p:Z,i(s){t||(O(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){K(e,s)}}}function ih(n){let e,t;return e=new mu({}),e.$on("click",n[2]),{c(){Y(e.$$.fragment)},m(s,l){W(e,s,l),t=!0},p:Z,i(s){t||(O(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){K(e,s)}}}function rh(n){let e,t,s,l;const i=[sh,nh,th],r=[];function o(a,f){return a[1]?0:a[0].username?1:2}return t=o(n),s=r[t]=i[t](n),{c(){e=g("div"),s.c(),c(e,"id","root")},m(a,f){L(a,e,f),r[t].m(e,null),l=!0},p(a,[f]){let u=t;t=o(a),t===u?r[t].p(a,f):(ve(),q(r[u],1,1,()=>{r[u]=null}),_e(),s=r[t],s?s.p(a,f):(s=r[t]=i[t](a),s.c()),O(s,1),s.m(e,null))},i(a){l||(O(s),l=!0)},o(a){q(s),l=!1},d(a){a&&A(e),r[t].d()}}}function oh(){return["fullscreen","standalone","minimal-ui"].some(n=>window.matchMedia("(display-mode: "+n+")").matches)}function ah(n,e,t){let s,l={username:""},i=!0;He(async()=>{let a=await Ie.get(["users"]);a.isAutenticated&&t(0,l=a),t(1,i=!1)});const r=async()=>{try{Ie.get(["users","logout"]),be("/login",{replace:!0,state:""}),t(0,l={username:""}),s==null||s.close(),oh()&&history.go(-(history.length-2))}catch(a){console.log(a)}},o=a=>{t(0,l=a.detail),be("/",{replace:!0,state:""})};return n.$$.update=()=>{n.$$.dirty&17&&l.isAutenticated&&(t(4,s=vn("/")),xt("socket",s),xt("User",l),Hu(l),s.io.on("error",a=>{console.log(a)}),s.off("logout",()=>r()),s.on("logout",()=>r()),xt("logout",r))},[l,i,r,o,s]}class fh extends te{constructor(e){super(),ee(this,e,ah,rh,x,{})}}Storage.prototype.setObject=function(n,e){this.setItem(n,JSON.stringify(e))};Storage.prototype.getObject=function(n){let e=this.getItem(n);if(e==="undefined")return{};try{e=JSON.parse(e)}catch(t){console.log(t)}return e};String.prototype.contains=function(n){return this.toLocaleLowerCase().includes(n.toLocaleLowerCase())};window.on=(n,e,t)=>{window.addEventListener(n,e,t)};window.off=(n,e)=>{window.removeEventListener(n,e)};window.addEventListener("load",()=>{if("serviceWorker"in navigator)try{navigator.serviceWorker.register("/service-worker.js")}catch(n){console.log(n)}});new fh({target:document.body});
