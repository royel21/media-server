var app=function(){"use strict";function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function s(e){return e()}function r(){return Object.create(null)}function i(e){e.forEach(s)}function o(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let l;function c(e,t){return l||(l=document.createElement("a")),l.href=t,e===l.href}function u(t,...n){if(null==t)return e;const s=t.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}function d(e,t,n){e.$$.on_destroy.push(u(t,n))}function f(e,t,n,s){if(e){const r=p(e,t,n,s);return e[0](r)}}function p(e,t,s,r){return e[1]&&r?n(s.ctx.slice(),e[1](r(t))):s.ctx}function h(e,t,n,s){if(e[2]&&s){const r=e[2](s(n));if(void 0===t.dirty)return r;if("object"==typeof r){const e=[],n=Math.max(t.dirty.length,r.length);for(let s=0;s<n;s+=1)e[s]=t.dirty[s]|r[s];return e}return t.dirty|r}return t.dirty}function m(e,t,n,s,r,i){if(r){const o=p(t,n,s,i);e.p(o,r)}}function g(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function v(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function y(e){return null==e?"":e}const $="undefined"!=typeof window;let b=$?()=>window.performance.now():()=>Date.now(),w=$?e=>requestAnimationFrame(e):e;const k=new Set;function x(e){k.forEach((t=>{t.c(e)||(k.delete(t),t.f())})),0!==k.size&&w(x)}function _(e){let t;return 0===k.size&&w(x),{promise:new Promise((n=>{k.add(t={c:e,f:n})})),abort(){k.delete(t)}}}function I(e,t){e.appendChild(t)}function T(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function C(e){const t=A("style");return function(e,t){I(e.head||e,t)}(T(e),t),t.sheet}function E(e,t,n){e.insertBefore(t,n||null)}function N(e){e.parentNode.removeChild(e)}function S(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function A(e){return document.createElement(e)}function L(e){return document.createTextNode(e)}function R(){return L(" ")}function O(){return L("")}function P(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function j(e){return function(t){return t.preventDefault(),e.call(this,t)}}function M(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function q(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function F(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const s in t)null==t[s]?e.removeAttribute(s):"style"===s?e.style.cssText=t[s]:"__value"===s?e.value=e[s]=t[s]:n[s]&&n[s].set?e[s]=t[s]:q(e,s,t[s])}function B(e){return""===e?null:+e}function D(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function H(e,t){e.value=null==t?"":t}function U(e,t,n,s){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,s?"important":"")}function z(e,t){for(let n=0;n<e.options.length;n+=1){const s=e.options[n];if(s.__value===t)return void(s.selected=!0)}e.selectedIndex=-1}function V(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function W(e,t,n){e.classList[n?"add":"remove"](t)}function K(e,t,{bubbles:n=!1,cancelable:s=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n,s,t),r}const Y=new Map;let X,J=0;function Q(e,t,n,s,r,i,o,a=0){const l=16.666/s;let c="{\n";for(let e=0;e<=1;e+=l){const s=t+(n-t)*i(e);c+=100*e+`%{${o(s,1-s)}}\n`}const u=c+`100% {${o(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${a}`,f=T(e),{stylesheet:p,rules:h}=Y.get(f)||function(e,t){const n={stylesheet:C(t),rules:{}};return Y.set(e,n),n}(f,e);h[d]||(h[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${d} ${s}ms linear ${r}ms 1 both`,J+=1,d}function G(e,t){const n=(e.style.animation||"").split(", "),s=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),r=n.length-s.length;r&&(e.style.animation=s.join(", "),J-=r,J||w((()=>{J||(Y.forEach((e=>{const{stylesheet:t}=e;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.rules={}})),Y.clear())})))}function Z(e){X=e}function ee(){if(!X)throw new Error("Function called outside component initialization");return X}function te(e){ee().$$.on_mount.push(e)}function ne(e){ee().$$.on_destroy.push(e)}function se(){const e=ee();return(t,n,{cancelable:s=!1}={})=>{const r=e.$$.callbacks[t];if(r){const i=K(t,n,{cancelable:s});return r.slice().forEach((t=>{t.call(e,i)})),!i.defaultPrevented}return!0}}function re(e,t){return ee().$$.context.set(e,t),t}function ie(e){return ee().$$.context.get(e)}function oe(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const ae=[],le=[],ce=[],ue=[],de=Promise.resolve();let fe=!1;function pe(e){ce.push(e)}const he=new Set;let me,ge=0;function ve(){const e=X;do{for(;ge<ae.length;){const e=ae[ge];ge++,Z(e),ye(e.$$)}for(Z(null),ae.length=0,ge=0;le.length;)le.pop()();for(let e=0;e<ce.length;e+=1){const t=ce[e];he.has(t)||(he.add(t),t())}ce.length=0}while(ae.length);for(;ue.length;)ue.pop()();fe=!1,he.clear(),Z(e)}function ye(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(pe)}}function $e(){return me||(me=Promise.resolve(),me.then((()=>{me=null}))),me}function be(e,t,n){e.dispatchEvent(K(`${t?"intro":"outro"}${n}`))}const we=new Set;let ke;function xe(){ke={r:0,c:[],p:ke}}function _e(){ke.r||i(ke.c),ke=ke.p}function Ie(e,t){e&&e.i&&(we.delete(e),e.i(t))}function Te(e,t,n,s){if(e&&e.o){if(we.has(e))return;we.add(e),ke.c.push((()=>{we.delete(e),s&&(n&&e.d(1),s())})),e.o(t)}else s&&s()}const Ce={duration:0};function Ee(n,s,r){let i,a,l=s(n,r),c=!1,u=0;function d(){i&&G(n,i)}function f(){const{delay:s=0,duration:r=300,easing:o=t,tick:f=e,css:p}=l||Ce;p&&(i=Q(n,0,1,r,s,o,p,u++)),f(0,1);const h=b()+s,m=h+r;a&&a.abort(),c=!0,pe((()=>be(n,!0,"start"))),a=_((e=>{if(c){if(e>=m)return f(1,0),be(n,!0,"end"),d(),c=!1;if(e>=h){const t=o((e-h)/r);f(t,1-t)}}return c}))}let p=!1;return{start(){p||(p=!0,G(n),o(l)?(l=l(),$e().then(f)):f())},invalidate(){p=!1},end(){c&&(d(),c=!1)}}}function Ne(n,s,r){let a,l=s(n,r),c=!0;const u=ke;function d(){const{delay:s=0,duration:r=300,easing:o=t,tick:d=e,css:f}=l||Ce;f&&(a=Q(n,1,0,r,s,o,f));const p=b()+s,h=p+r;pe((()=>be(n,!1,"start"))),_((e=>{if(c){if(e>=h)return d(0,1),be(n,!1,"end"),--u.r||i(u.c),!1;if(e>=p){const t=o((e-p)/r);d(1-t,t)}}return c}))}return u.r+=1,o(l)?$e().then((()=>{l=l(),d()})):d(),{end(e){e&&l.tick&&l.tick(1,0),c&&(a&&G(n,a),c=!1)}}}function Se(n,s,r,a){let l=s(n,r),c=a?0:1,u=null,d=null,f=null;function p(){f&&G(n,f)}function h(e,t){const n=e.b-c;return t*=Math.abs(n),{a:c,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function m(s){const{delay:r=0,duration:o=300,easing:a=t,tick:m=e,css:g}=l||Ce,v={start:b()+r,b:s};s||(v.group=ke,ke.r+=1),u||d?d=v:(g&&(p(),f=Q(n,c,s,o,r,a,g)),s&&m(0,1),u=h(v,o),pe((()=>be(n,s,"start"))),_((e=>{if(d&&e>d.start&&(u=h(d,o),d=null,be(n,u.b,"start"),g&&(p(),f=Q(n,c,u.b,u.duration,0,a,l.css))),u)if(e>=u.end)m(c=u.b,1-c),be(n,u.b,"end"),d||(u.b?p():--u.group.r||i(u.group.c)),u=null;else if(e>=u.start){const t=e-u.start;c=u.a+u.d*a(t/u.duration),m(c,1-c)}return!(!u&&!d)})))}return{run(e){o(l)?$e().then((()=>{l=l(),m(e)})):m(e)},end(){p(),u=d=null}}}function Ae(e,t){const n={},s={},r={$$scope:1};let i=e.length;for(;i--;){const o=e[i],a=t[i];if(a){for(const e in o)e in a||(s[e]=1);for(const e in a)r[e]||(n[e]=a[e],r[e]=1);e[i]=a}else for(const e in o)r[e]=1}for(const e in s)e in n||(n[e]=void 0);return n}function Le(e){return"object"==typeof e&&null!==e?e:{}}function Re(e){e&&e.c()}function Oe(e,t,n,r){const{fragment:a,on_mount:l,on_destroy:c,after_update:u}=e.$$;a&&a.m(t,n),r||pe((()=>{const t=l.map(s).filter(o);c?c.push(...t):i(t),e.$$.on_mount=[]})),u.forEach(pe)}function Pe(e,t){const n=e.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function je(e,t){-1===e.$$.dirty[0]&&(ae.push(e),fe||(fe=!0,de.then(ve)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Me(t,n,s,o,a,l,c,u=[-1]){const d=X;Z(t);const f=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:a,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:r(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};c&&c(f.root);let p=!1;if(f.ctx=s?s(t,n.props||{},((e,n,...s)=>{const r=s.length?s[0]:n;return f.ctx&&a(f.ctx[e],f.ctx[e]=r)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](r),p&&je(t,e)),n})):[],f.update(),p=!0,i(f.before_update),f.fragment=!!o&&o(f.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);f.fragment&&f.fragment.l(e),e.forEach(N)}else f.fragment&&f.fragment.c();n.intro&&Ie(t.$$.fragment),Oe(t,n.target,n.anchor,n.customElement),ve()}Z(d)}class qe{$destroy(){Pe(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Fe=[];function Be(t,n=e){let s;const r=new Set;function i(e){if(a(t,e)&&(t=e,s)){const e=!Fe.length;for(const e of r)e[1](),Fe.push(e,t);if(e){for(let e=0;e<Fe.length;e+=2)Fe[e][0](Fe[e+1]);Fe.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(o,a=e){const l=[o,a];return r.add(l),1===r.size&&(s=n(i)||e),o(t),()=>{r.delete(l),0===r.size&&(s(),s=null)}}}}function De(t,n,s){const r=!Array.isArray(t),a=r?[t]:t,l=n.length<2;return function(e,t){return{subscribe:Be(e,t).subscribe}}(s,(t=>{let s=!1;const c=[];let d=0,f=e;const p=()=>{if(d)return;f();const s=n(r?c[0]:c,t);l?t(s):f=o(s)?s:e},h=a.map(((e,t)=>u(e,(e=>{c[t]=e,d&=~(1<<t),s&&p()}),(()=>{d|=1<<t}))));return s=!0,p(),function(){i(h),f()}}))}const He={},Ue={};function ze(e){return{...e.location,state:e.history.state,key:e.history.state&&e.history.state.key||"initial"}}const Ve=function(e,t){const n=[];let s=ze(e);return{get location(){return s},listen(t){n.push(t);const r=()=>{s=ze(e),t({location:s,action:"POP"})};return e.addEventListener("popstate",r),()=>{e.removeEventListener("popstate",r);const s=n.indexOf(t);n.splice(s,1)}},navigate(t,{state:r,replace:i=!1}={}){r={...r,key:Date.now()+""};try{i?e.history.replaceState(r,null,t):e.history.pushState(r,null,t)}catch(n){e.location[i?"replace":"assign"](t)}s=ze(e),n.forEach((e=>e({location:s,action:"PUSH"})))}}}(Boolean("undefined"!=typeof window&&window.document&&window.document.createElement)?window:function(e="/"){let t=0;const n=[{pathname:e,search:""}],s=[];return{get location(){return n[t]},addEventListener(e,t){},removeEventListener(e,t){},history:{get entries(){return n},get index(){return t},get state(){return s[t]},pushState(e,r,i){const[o,a=""]=i.split("?");t++,n.push({pathname:o,search:a}),s.push(e)},replaceState(e,r,i){const[o,a=""]=i.split("?");n[t]={pathname:o,search:a},s[t]=e}}}}()),{navigate:We}=Ve,Ke=/^:(.+)/;function Ye(e,t){return e.substr(0,t.length)===t}function Xe(e){return"*"===e[0]}function Je(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function Qe(e){return e.replace(/(^\/+|\/+$)/g,"")}function Ge(e,t){return{route:e,score:e.default?0:Je(e.path).reduce(((e,t)=>(e+=4,!function(e){return""===e}(t)?!function(e){return Ke.test(e)}(t)?Xe(t)?e-=5:e+=3:e+=2:e+=1,e)),0),index:t}}function Ze(e,t){let n,s;const[r]=t.split("?"),i=Je(r),o=""===i[0],a=function(e){return e.map(Ge).sort(((e,t)=>e.score<t.score?1:e.score>t.score?-1:e.index-t.index))}(e);for(let e=0,r=a.length;e<r;e++){const r=a[e].route;let l=!1;if(r.default){s={route:r,params:{},uri:t};continue}const c=Je(r.path),u={},d=Math.max(i.length,c.length);let f=0;for(;f<d;f++){const e=c[f],t=i[f];if(void 0!==e&&Xe(e)){u["*"===e?"*":e.slice(1)]=i.slice(f).map(decodeURIComponent).join("/");break}if(!e.includes(":")&&e!==t){l=!0;break}let n=Ke.exec(e);if(n&&!o){const e=decodeURIComponent(t);u[n[1]]="undefined"===e?void 0:e}else if(e!==t){l=!0;break}}if(!l){n={route:r,params:u,uri:"/"+i.slice(0,f).join("/")};break}}return n||s||null}function et(e,t){return e+(t?`?${t}`:"")}function tt(e,t){return`${Qe("/"===t?e:`${Qe(e)}/${Qe(t)}`)}/`}function nt(e){let t;const n=e[9].default,s=f(n,e,e[8],null);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,[r]){s&&s.p&&(!t||256&r)&&m(s,n,e,e[8],t?h(n,e[8],r,null):g(e[8]),null)},i(e){t||(Ie(s,e),t=!0)},o(e){Te(s,e),t=!1},d(e){s&&s.d(e)}}}function st(e,t,n){let s,r,i,{$$slots:o={},$$scope:a}=t,{basepath:l="/"}=t,{url:c=null}=t;const u=ie(He),f=ie(Ue),p=Be([]);d(e,p,(e=>n(6,r=e)));const h=Be(null);let m=!1;const g=u||Be(c?{pathname:c}:Ve.location);d(e,g,(e=>n(5,s=e)));const v=f?f.routerBase:Be({path:l,uri:l});d(e,v,(e=>n(7,i=e)));const y=De([v,h],(([e,t])=>{if(null===t)return e;const{path:n}=e,{route:s,uri:r}=t;return{path:s.default?n:s.path.replace(/\*.*$/,""),uri:r}}));return u||(te((()=>Ve.listen((e=>{g.set(e.location)})))),re(He,g)),re(Ue,{activeRoute:h,base:v,routerBase:y,registerRoute:function(e){const{path:t}=i;let{path:n}=e;if(e._path=n,e.path=tt(t,n),"undefined"==typeof window){if(m)return;const t=function(e,t){return Ze([e],t)}(e,s.pathname);t&&(h.set(t),m=!0)}else p.update((t=>(t.push(e),t)))},unregisterRoute:function(e){p.update((t=>{const n=t.indexOf(e);return t.splice(n,1),t}))}}),e.$$set=e=>{"basepath"in e&&n(3,l=e.basepath),"url"in e&&n(4,c=e.url),"$$scope"in e&&n(8,a=e.$$scope)},e.$$.update=()=>{if(128&e.$$.dirty){const{path:e}=i;p.update((t=>(t.forEach((t=>t.path=tt(e,t._path))),t)))}if(96&e.$$.dirty){const e=Ze(r,s.pathname);h.set(e)}},[p,g,v,l,c,s,r,i,a,o]}class rt extends qe{constructor(e){super(),Me(this,e,st,nt,a,{basepath:3,url:4})}}const it=e=>({params:4&e,location:16&e}),ot=e=>({params:e[2],location:e[4]});function at(e){let t,n,s,r;const i=[ct,lt],o=[];function a(e,t){return null!==e[0]?0:1}return t=a(e),n=o[t]=i[t](e),{c(){n.c(),s=O()},m(e,n){o[t].m(e,n),E(e,s,n),r=!0},p(e,r){let l=t;t=a(e),t===l?o[t].p(e,r):(xe(),Te(o[l],1,1,(()=>{o[l]=null})),_e(),n=o[t],n?n.p(e,r):(n=o[t]=i[t](e),n.c()),Ie(n,1),n.m(s.parentNode,s))},i(e){r||(Ie(n),r=!0)},o(e){Te(n),r=!1},d(e){o[t].d(e),e&&N(s)}}}function lt(e){let t;const n=e[10].default,s=f(n,e,e[9],ot);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,r){s&&s.p&&(!t||532&r)&&m(s,n,e,e[9],t?h(n,e[9],r,it):g(e[9]),ot)},i(e){t||(Ie(s,e),t=!0)},o(e){Te(s,e),t=!1},d(e){s&&s.d(e)}}}function ct(e){let t,s,r;const i=[e[2],e[3]];var o=e[0];function a(e){let t={};for(let e=0;e<i.length;e+=1)t=n(t,i[e]);return{props:t}}return o&&(t=new o(a())),{c(){t&&Re(t.$$.fragment),s=O()},m(e,n){t&&Oe(t,e,n),E(e,s,n),r=!0},p(e,n){const r=12&n?Ae(i,[4&n&&Le(e[2]),8&n&&Le(e[3])]):{};if(o!==(o=e[0])){if(t){xe();const e=t;Te(e.$$.fragment,1,0,(()=>{Pe(e,1)})),_e()}o?(t=new o(a()),Re(t.$$.fragment),Ie(t.$$.fragment,1),Oe(t,s.parentNode,s)):t=null}else o&&t.$set(r)},i(e){r||(t&&Ie(t.$$.fragment,e),r=!0)},o(e){t&&Te(t.$$.fragment,e),r=!1},d(e){e&&N(s),t&&Pe(t,e)}}}function ut(e){let t,n,s=null!==e[1]&&e[1].route===e[7]&&at(e);return{c(){s&&s.c(),t=O()},m(e,r){s&&s.m(e,r),E(e,t,r),n=!0},p(e,[n]){null!==e[1]&&e[1].route===e[7]?s?(s.p(e,n),2&n&&Ie(s,1)):(s=at(e),s.c(),Ie(s,1),s.m(t.parentNode,t)):s&&(xe(),Te(s,1,1,(()=>{s=null})),_e())},i(e){n||(Ie(s),n=!0)},o(e){Te(s),n=!1},d(e){s&&s.d(e),e&&N(t)}}}function dt(e,t,s){let r,i,{$$slots:o={},$$scope:a}=t,{path:l=""}=t,{component:c=null}=t;const{registerRoute:u,unregisterRoute:f,activeRoute:p}=ie(Ue);d(e,p,(e=>s(1,r=e)));const h=ie(He);d(e,h,(e=>s(4,i=e)));const m={path:l,default:""===l};let g={},y={};return u(m),"undefined"!=typeof window&&ne((()=>{f(m)})),e.$$set=e=>{s(13,t=n(n({},t),v(e))),"path"in e&&s(8,l=e.path),"component"in e&&s(0,c=e.component),"$$scope"in e&&s(9,a=e.$$scope)},e.$$.update=()=>{2&e.$$.dirty&&r&&r.route===m&&s(2,g=r.params);{const{path:e,component:n,...r}=t;s(3,y=r)}},t=v(t),[c,r,g,y,i,p,h,m,l,a,o]}class ft extends qe{constructor(e){super(),Me(this,e,dt,ut,a,{path:8,component:0})}}function pt(e){let t,s,r,i;const o=e[15].default,a=f(o,e,e[14],null);let l=[{href:e[0]},{"aria-current":e[2]},e[1]],c={};for(let e=0;e<l.length;e+=1)c=n(c,l[e]);return{c(){t=A("a"),a&&a.c(),F(t,c)},m(n,o){E(n,t,o),a&&a.m(t,null),s=!0,r||(i=P(t,"click",e[5]),r=!0)},p(e,[n]){a&&a.p&&(!s||16384&n)&&m(a,o,e,e[14],s?h(o,e[14],n,null):g(e[14]),null),F(t,c=Ae(l,[(!s||1&n)&&{href:e[0]},(!s||4&n)&&{"aria-current":e[2]},2&n&&e[1]]))},i(e){s||(Ie(a,e),s=!0)},o(e){Te(a,e),s=!1},d(e){e&&N(t),a&&a.d(e),r=!1,i()}}}function ht(e,t,n){let s,r,i,{$$slots:o={},$$scope:a}=t,{to:l="#"}=t,{replace:c=!1}=t,{state:u={}}=t,{getProps:f=(()=>({}))}=t;const{base:p}=ie(Ue);d(e,p,(e=>n(13,i=e)));const h=ie(He);d(e,h,(e=>n(12,r=e)));const m=se();let g,v,y,$;return e.$$set=e=>{"to"in e&&n(6,l=e.to),"replace"in e&&n(7,c=e.replace),"state"in e&&n(8,u=e.state),"getProps"in e&&n(9,f=e.getProps),"$$scope"in e&&n(14,a=e.$$scope)},e.$$.update=()=>{8256&e.$$.dirty&&n(0,g="/"===l?i.uri:function(e,t){if(Ye(e,"/"))return e;const[n,s]=e.split("?"),[r]=t.split("?"),i=Je(n),o=Je(r);if(""===i[0])return et(r,s);if(!Ye(i[0],"."))return et(("/"===r?"":"/")+o.concat(i).join("/"),s);const a=o.concat(i),l=[];return a.forEach((e=>{".."===e?l.pop():"."!==e&&l.push(e)})),et("/"+l.join("/"),s)}(l,i.uri)),4097&e.$$.dirty&&n(10,v=Ye(r.pathname,g)),4097&e.$$.dirty&&n(11,y=g===r.pathname),2048&e.$$.dirty&&n(2,s=y?"page":void 0),7681&e.$$.dirty&&n(1,$=f({location:r,href:g,isPartiallyCurrent:v,isCurrent:y}))},[g,$,s,p,h,function(e){if(m("click",e),function(e){return!e.defaultPrevented&&0===e.button&&!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)){e.preventDefault();const t=r.pathname===g||c;We(g,{state:u,replace:t})}},l,c,u,f,v,y,r,i,a,o]}class mt extends qe{constructor(e){super(),Me(this,e,ht,pt,a,{to:6,replace:7,state:8,getProps:9})}}function gt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vt={exports:{}},yt={exports:{}},$t=function(e,t){return function(){for(var n=new Array(arguments.length),s=0;s<n.length;s++)n[s]=arguments[s];return e.apply(t,n)}},bt=$t,wt=Object.prototype.toString,kt=function(e){return function(t){var n=wt.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null));function xt(e){return e=e.toLowerCase(),function(t){return kt(t)===e}}function _t(e){return Array.isArray(e)}function It(e){return void 0===e}var Tt=xt("ArrayBuffer");function Ct(e){return null!==e&&"object"==typeof e}function Et(e){if("object"!==kt(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var Nt=xt("Date"),St=xt("File"),At=xt("Blob"),Lt=xt("FileList");function Rt(e){return"[object Function]"===wt.call(e)}var Ot=xt("URLSearchParams");function Pt(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),_t(e))for(var n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}var jt,Mt=(jt="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return jt&&e instanceof jt}),qt={isArray:_t,isArrayBuffer:Tt,isBuffer:function(e){return null!==e&&!It(e)&&null!==e.constructor&&!It(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||wt.call(e)===t||Rt(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Tt(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:Ct,isPlainObject:Et,isUndefined:It,isDate:Nt,isFile:St,isBlob:At,isFunction:Rt,isStream:function(e){return Ct(e)&&Rt(e.pipe)},isURLSearchParams:Ot,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:Pt,merge:function e(){var t={};function n(n,s){Et(t[s])&&Et(n)?t[s]=e(t[s],n):Et(n)?t[s]=e({},n):_t(n)?t[s]=n.slice():t[s]=n}for(var s=0,r=arguments.length;s<r;s++)Pt(arguments[s],n);return t},extend:function(e,t,n){return Pt(t,(function(t,s){e[s]=n&&"function"==typeof t?bt(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,s){e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var s,r,i,o={};t=t||{};do{for(r=(s=Object.getOwnPropertyNames(e)).length;r-- >0;)o[i=s[r]]||(t[i]=e[i],o[i]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:kt,kindOfTest:xt,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var s=e.indexOf(t,n);return-1!==s&&s===n},toArray:function(e){if(!e)return null;var t=e.length;if(It(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:Mt,isFileList:Lt},Ft=qt;function Bt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Dt=function(e,t,n){if(!t)return e;var s;if(n)s=n(t);else if(Ft.isURLSearchParams(t))s=t.toString();else{var r=[];Ft.forEach(t,(function(e,t){null!=e&&(Ft.isArray(e)?t+="[]":e=[e],Ft.forEach(e,(function(e){Ft.isDate(e)?e=e.toISOString():Ft.isObject(e)&&(e=JSON.stringify(e)),r.push(Bt(t)+"="+Bt(e))})))})),s=r.join("&")}if(s){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e},Ht=qt;function Ut(){this.handlers=[]}Ut.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},Ut.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},Ut.prototype.forEach=function(e){Ht.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var zt,Vt,Wt=Ut,Kt=qt;function Yt(){if(Vt)return zt;Vt=1;var e=qt;function t(e,t,n,s,r){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r)}e.inherits(t,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var n=t.prototype,s={};return["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){s[e]={value:e}})),Object.defineProperties(t,s),Object.defineProperty(n,"isAxiosError",{value:!0}),t.from=function(s,r,i,o,a,l){var c=Object.create(n);return e.toFlatObject(s,c,(function(e){return e!==Error.prototype})),t.call(c,s.message,r,i,o,a),c.name=s.name,l&&Object.assign(c,l),c},zt=t}var Xt,Jt,Qt,Gt,Zt,en,tn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};function nn(){if(Jt)return Xt;Jt=1;var e=qt;return Xt=function(t,n){n=n||new FormData;var s=[];function r(t){return null===t?"":e.isDate(t)?t.toISOString():e.isArrayBuffer(t)||e.isTypedArray(t)?"function"==typeof Blob?new Blob([t]):Buffer.from(t):t}return function t(i,o){if(e.isPlainObject(i)||e.isArray(i)){if(-1!==s.indexOf(i))throw Error("Circular reference detected in "+o);s.push(i),e.forEach(i,(function(s,i){if(!e.isUndefined(s)){var a,l=o?o+"."+i:i;if(s&&!o&&"object"==typeof s)if(e.endsWith(i,"{}"))s=JSON.stringify(s);else if(e.endsWith(i,"[]")&&(a=e.toArray(s)))return void a.forEach((function(t){!e.isUndefined(t)&&n.append(l,r(t))}));t(s,l)}})),s.pop()}else n.append(o,r(i))}(t),n},Xt}function sn(){if(Gt)return Qt;Gt=1;var e=Yt();return Qt=function(t,n,s){var r=s.config.validateStatus;s.status&&r&&!r(s.status)?n(new e("Request failed with status code "+s.status,[e.ERR_BAD_REQUEST,e.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s)):t(s)},Qt}function rn(){if(en)return Zt;en=1;var e=qt;return Zt=e.isStandardBrowserEnv()?{write:function(t,n,s,r,i,o){var a=[];a.push(t+"="+encodeURIComponent(n)),e.isNumber(s)&&a.push("expires="+new Date(s).toGMTString()),e.isString(r)&&a.push("path="+r),e.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},Zt}var on,an,ln,cn,un,dn,fn,pn,hn,mn,gn,vn,yn=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},$n=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},bn=function(e,t){return e&&!yn(t)?$n(e,t):t};function wn(){if(an)return on;an=1;var e=qt,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return on=function(n){var s,r,i,o={};return n?(e.forEach(n.split("\n"),(function(n){if(i=n.indexOf(":"),s=e.trim(n.substr(0,i)).toLowerCase(),r=e.trim(n.substr(i+1)),s){if(o[s]&&t.indexOf(s)>=0)return;o[s]="set-cookie"===s?(o[s]?o[s]:[]).concat([r]):o[s]?o[s]+", "+r:r}})),o):o},on}function kn(){if(cn)return ln;cn=1;var e=qt;return ln=e.isStandardBrowserEnv()?function(){var t,n=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");function r(e){var t=e;return n&&(s.setAttribute("href",t),t=s.href),s.setAttribute("href",t),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:"/"===s.pathname.charAt(0)?s.pathname:"/"+s.pathname}}return t=r(window.location.href),function(n){var s=e.isString(n)?r(n):n;return s.protocol===t.protocol&&s.host===t.host}}():function(){return!0},ln}function xn(){if(dn)return un;dn=1;var e=Yt();function t(t){e.call(this,null==t?"canceled":t,e.ERR_CANCELED),this.name="CanceledError"}return qt.inherits(t,e,{__CANCEL__:!0}),un=t}function _n(){return pn||(pn=1,fn=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}),fn}function In(){if(mn)return hn;mn=1;var e=qt,t=sn(),n=rn(),s=Dt,r=bn,i=wn(),o=kn(),a=tn,l=Yt(),c=xn(),u=_n();return hn=function(d){return new Promise((function(f,p){var h,m=d.data,g=d.headers,v=d.responseType;function y(){d.cancelToken&&d.cancelToken.unsubscribe(h),d.signal&&d.signal.removeEventListener("abort",h)}e.isFormData(m)&&e.isStandardBrowserEnv()&&delete g["Content-Type"];var $=new XMLHttpRequest;if(d.auth){var b=d.auth.username||"",w=d.auth.password?unescape(encodeURIComponent(d.auth.password)):"";g.Authorization="Basic "+btoa(b+":"+w)}var k=r(d.baseURL,d.url);function x(){if($){var e="getAllResponseHeaders"in $?i($.getAllResponseHeaders()):null,n={data:v&&"text"!==v&&"json"!==v?$.response:$.responseText,status:$.status,statusText:$.statusText,headers:e,config:d,request:$};t((function(e){f(e),y()}),(function(e){p(e),y()}),n),$=null}}if($.open(d.method.toUpperCase(),s(k,d.params,d.paramsSerializer),!0),$.timeout=d.timeout,"onloadend"in $?$.onloadend=x:$.onreadystatechange=function(){$&&4===$.readyState&&(0!==$.status||$.responseURL&&0===$.responseURL.indexOf("file:"))&&setTimeout(x)},$.onabort=function(){$&&(p(new l("Request aborted",l.ECONNABORTED,d,$)),$=null)},$.onerror=function(){p(new l("Network Error",l.ERR_NETWORK,d,$,$)),$=null},$.ontimeout=function(){var e=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded",t=d.transitional||a;d.timeoutErrorMessage&&(e=d.timeoutErrorMessage),p(new l(e,t.clarifyTimeoutError?l.ETIMEDOUT:l.ECONNABORTED,d,$)),$=null},e.isStandardBrowserEnv()){var _=(d.withCredentials||o(k))&&d.xsrfCookieName?n.read(d.xsrfCookieName):void 0;_&&(g[d.xsrfHeaderName]=_)}"setRequestHeader"in $&&e.forEach(g,(function(e,t){void 0===m&&"content-type"===t.toLowerCase()?delete g[t]:$.setRequestHeader(t,e)})),e.isUndefined(d.withCredentials)||($.withCredentials=!!d.withCredentials),v&&"json"!==v&&($.responseType=d.responseType),"function"==typeof d.onDownloadProgress&&$.addEventListener("progress",d.onDownloadProgress),"function"==typeof d.onUploadProgress&&$.upload&&$.upload.addEventListener("progress",d.onUploadProgress),(d.cancelToken||d.signal)&&(h=function(e){$&&(p(!e||e&&e.type?new c:e),$.abort(),$=null)},d.cancelToken&&d.cancelToken.subscribe(h),d.signal&&(d.signal.aborted?h():d.signal.addEventListener("abort",h))),m||(m=null);var I=u(k);I&&-1===["http","https","file"].indexOf(I)?p(new l("Unsupported protocol "+I+":",l.ERR_BAD_REQUEST,d)):$.send(m)}))},hn}var Tn=qt,Cn=function(e,t){Kt.forEach(e,(function(n,s){s!==t&&s.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[s])}))},En=Yt(),Nn=tn,Sn=nn(),An={"Content-Type":"application/x-www-form-urlencoded"};function Ln(e,t){!Tn.isUndefined(e)&&Tn.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var Rn,On={transitional:Nn,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(Rn=In()),Rn),transformRequest:[function(e,t){if(Cn(t,"Accept"),Cn(t,"Content-Type"),Tn.isFormData(e)||Tn.isArrayBuffer(e)||Tn.isBuffer(e)||Tn.isStream(e)||Tn.isFile(e)||Tn.isBlob(e))return e;if(Tn.isArrayBufferView(e))return e.buffer;if(Tn.isURLSearchParams(e))return Ln(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,s=Tn.isObject(e),r=t&&t["Content-Type"];if((n=Tn.isFileList(e))||s&&"multipart/form-data"===r){var i=this.env&&this.env.FormData;return Sn(n?{"files[]":e}:e,i&&new i)}return s||"application/json"===r?(Ln(t,"application/json"),function(e,t,n){if(Tn.isString(e))try{return(t||JSON.parse)(e),Tn.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||On.transitional,n=t&&t.silentJSONParsing,s=t&&t.forcedJSONParsing,r=!n&&"json"===this.responseType;if(r||s&&Tn.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(r){if("SyntaxError"===e.name)throw En.from(e,En.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:vn?gn:(vn=1,gn=null)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Tn.forEach(["delete","get","head"],(function(e){On.headers[e]={}})),Tn.forEach(["post","put","patch"],(function(e){On.headers[e]=Tn.merge(An)}));var Pn,jn,Mn=On,qn=qt,Fn=Mn;function Bn(){return jn||(jn=1,Pn=function(e){return!(!e||!e.__CANCEL__)}),Pn}var Dn=qt,Hn=function(e,t,n){var s=this||Fn;return qn.forEach(n,(function(n){e=n.call(s,e,t)})),e},Un=Bn(),zn=Mn,Vn=xn();function Wn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Vn}var Kn,Yn,Xn=qt,Jn=function(e,t){t=t||{};var n={};function s(e,t){return Xn.isPlainObject(e)&&Xn.isPlainObject(t)?Xn.merge(e,t):Xn.isPlainObject(t)?Xn.merge({},t):Xn.isArray(t)?t.slice():t}function r(n){return Xn.isUndefined(t[n])?Xn.isUndefined(e[n])?void 0:s(void 0,e[n]):s(e[n],t[n])}function i(e){if(!Xn.isUndefined(t[e]))return s(void 0,t[e])}function o(n){return Xn.isUndefined(t[n])?Xn.isUndefined(e[n])?void 0:s(void 0,e[n]):s(void 0,t[n])}function a(n){return n in t?s(e[n],t[n]):n in e?s(void 0,e[n]):void 0}var l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a};return Xn.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=l[e]||r,s=t(e);Xn.isUndefined(s)&&t!==a||(n[e]=s)})),n};function Qn(){return Yn?Kn:(Yn=1,Kn={version:"0.27.2"})}var Gn=Qn().version,Zn=Yt(),es={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){es[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var ts={};es.transitional=function(e,t,n){function s(e,t){return"[Axios v"+Gn+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,i){if(!1===e)throw new Zn(s(r," has been removed"+(t?" in "+t:"")),Zn.ERR_DEPRECATED);return t&&!ts[r]&&(ts[r]=!0,console.warn(s(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,i)}};var ns,ss,rs,is,os,as,ls={assertOptions:function(e,t,n){if("object"!=typeof e)throw new Zn("options must be an object",Zn.ERR_BAD_OPTION_VALUE);for(var s=Object.keys(e),r=s.length;r-- >0;){var i=s[r],o=t[i];if(o){var a=e[i],l=void 0===a||o(a,i,e);if(!0!==l)throw new Zn("option "+i+" must be "+l,Zn.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Zn("Unknown option "+i,Zn.ERR_BAD_OPTION)}},validators:es},cs=qt,us=Dt,ds=Wt,fs=function(e){return Wn(e),e.headers=e.headers||{},e.data=Hn.call(e,e.data,e.headers,e.transformRequest),e.headers=Dn.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),Dn.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||zn.adapter)(e).then((function(t){return Wn(e),t.data=Hn.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return Un(t)||(Wn(e),t&&t.response&&(t.response.data=Hn.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},ps=Jn,hs=bn,ms=ls,gs=ms.validators;function vs(e){this.defaults=e,this.interceptors={request:new ds,response:new ds}}vs.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=ps(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&ms.assertOptions(n,{silentJSONParsing:gs.transitional(gs.boolean),forcedJSONParsing:gs.transitional(gs.boolean),clarifyTimeoutError:gs.transitional(gs.boolean)},!1);var s=[],r=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(r=r&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));var i,o=[];if(this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)})),!r){var a=[fs,void 0];for(Array.prototype.unshift.apply(a,s),a=a.concat(o),i=Promise.resolve(t);a.length;)i=i.then(a.shift(),a.shift());return i}for(var l=t;s.length;){var c=s.shift(),u=s.shift();try{l=c(l)}catch(e){u(e);break}}try{i=fs(l)}catch(e){return Promise.reject(e)}for(;o.length;)i=i.then(o.shift(),o.shift());return i},vs.prototype.getUri=function(e){e=ps(this.defaults,e);var t=hs(e.baseURL,e.url);return us(t,e.params,e.paramsSerializer)},cs.forEach(["delete","get","head","options"],(function(e){vs.prototype[e]=function(t,n){return this.request(ps(n||{},{method:e,url:t,data:(n||{}).data}))}})),cs.forEach(["post","put","patch"],(function(e){function t(t){return function(n,s,r){return this.request(ps(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:s}))}}vs.prototype[e]=t(),vs.prototype[e+"Form"]=t(!0)}));var ys=qt,$s=$t,bs=vs,ws=Jn;var ks=function e(t){var n=new bs(t),s=$s(bs.prototype.request,n);return ys.extend(s,bs.prototype,n),ys.extend(s,n),s.create=function(n){return e(ws(t,n))},s}(Mn);ks.Axios=bs,ks.CanceledError=xn(),ks.CancelToken=function(){if(ss)return ns;ss=1;var e=xn();function t(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var s=this;this.promise.then((function(e){if(s._listeners){var t,n=s._listeners.length;for(t=0;t<n;t++)s._listeners[t](e);s._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){s.subscribe(e),t=e})).then(e);return n.cancel=function(){s.unsubscribe(t)},n},t((function(t){s.reason||(s.reason=new e(t),n(s.reason))}))}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},t.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},t.source=function(){var e;return{token:new t((function(t){e=t})),cancel:e}},ns=t}(),ks.isCancel=Bn(),ks.VERSION=Qn().version,ks.toFormData=nn(),ks.AxiosError=Yt(),ks.Cancel=ks.CanceledError,ks.all=function(e){return Promise.all(e)},ks.spread=is?rs:(is=1,rs=function(e){return function(t){return e.apply(null,t)}}),ks.isAxiosError=function(){if(as)return os;as=1;var e=qt;return os=function(t){return e.isObject(t)&&!0===t.isAxiosError}}(),yt.exports=ks,yt.exports.default=ks,vt.exports=yt.exports;var xs=gt(vt.exports);const _s=Object.create(null);_s.open="0",_s.close="1",_s.ping="2",_s.pong="3",_s.message="4",_s.upgrade="5",_s.noop="6";const Is=Object.create(null);Object.keys(_s).forEach((e=>{Is[_s[e]]=e}));const Ts={type:"error",data:"parser error"},Cs="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Es="function"==typeof ArrayBuffer,Ns=({type:e,data:t},n,s)=>{return Cs&&t instanceof Blob?n?s(t):Ss(t,s):Es&&(t instanceof ArrayBuffer||(r=t,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer))?n?s(t):Ss(new Blob([t]),s):s(_s[e]+(t||""));var r},Ss=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+e)},n.readAsDataURL(e)},As="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ls="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let e=0;e<As.length;e++)Ls[As.charCodeAt(e)]=e;const Rs="function"==typeof ArrayBuffer,Os=(e,t)=>{if("string"!=typeof e)return{type:"message",data:js(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:Ps(e.substring(1),t)};return Is[n]?e.length>1?{type:Is[n],data:e.substring(1)}:{type:Is[n]}:Ts},Ps=(e,t)=>{if(Rs){const n=(e=>{let t,n,s,r,i,o=.75*e.length,a=e.length,l=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);const c=new ArrayBuffer(o),u=new Uint8Array(c);for(t=0;t<a;t+=4)n=Ls[e.charCodeAt(t)],s=Ls[e.charCodeAt(t+1)],r=Ls[e.charCodeAt(t+2)],i=Ls[e.charCodeAt(t+3)],u[l++]=n<<2|s>>4,u[l++]=(15&s)<<4|r>>2,u[l++]=(3&r)<<6|63&i;return c})(e);return js(n,t)}return{base64:!0,data:e}},js=(e,t)=>"blob"===t&&e instanceof ArrayBuffer?new Blob([e]):e,Ms=String.fromCharCode(30);function qs(e){if(e)return function(e){for(var t in qs.prototype)e[t]=qs.prototype[t];return e}(e)}qs.prototype.on=qs.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},qs.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},qs.prototype.off=qs.prototype.removeListener=qs.prototype.removeAllListeners=qs.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,s=this._callbacks["$"+e];if(!s)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<s.length;r++)if((n=s[r])===t||n.fn===t){s.splice(r,1);break}return 0===s.length&&delete this._callbacks["$"+e],this},qs.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(n){s=0;for(var r=(n=n.slice(0)).length;s<r;++s)n[s].apply(this,t)}return this},qs.prototype.emitReserved=qs.prototype.emit,qs.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},qs.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Fs="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function Bs(e,...t){return t.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}const Ds=setTimeout,Hs=clearTimeout;function Us(e,t){t.useNativeTimers?(e.setTimeoutFn=Ds.bind(Fs),e.clearTimeoutFn=Hs.bind(Fs)):(e.setTimeoutFn=setTimeout.bind(Fs),e.clearTimeoutFn=clearTimeout.bind(Fs))}class zs extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class Vs extends qs{constructor(e){super(),this.writable=!1,Us(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,t,n){return super.emitReserved("error",new zs(e,t,n)),this}open(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=Os(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}}const Ws="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Ks={};let Ys,Xs=0,Js=0;function Qs(e){let t="";do{t=Ws[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function Gs(){const e=Qs(+new Date);return e!==Ys?(Xs=0,Ys=e):e+"."+Qs(Xs++)}for(;Js<64;Js++)Ks[Ws[Js]]=Js;function Zs(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}let er=!1;try{er="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){}const tr=er;function nr(e){const t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||tr))return new XMLHttpRequest}catch(e){}if(!t)try{return new(Fs[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}function sr(){}const rr=null!=new nr({xdomain:!1}).responseType;class ir extends qs{constructor(e,t){super(),Us(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.create()}create(){const e=Bs(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const t=this.xhr=new nr(e);try{t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&t.setRequestHeader(e,this.opts.extraHeaders[e])}}catch(e){}if("POST"===this.method)try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),t.onreadystatechange=()=>{4===t.readyState&&(200===t.status||1223===t.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"==typeof t.status?t.status:0)}),0))},t.send(this.data)}catch(e){return void this.setTimeoutFn((()=>{this.onError(e)}),0)}"undefined"!=typeof document&&(this.index=ir.requestsCount++,ir.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=sr,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete ir.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(ir.requestsCount=0,ir.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",or);else if("function"==typeof addEventListener){addEventListener("onpagehide"in Fs?"pagehide":"unload",or,!1)}function or(){for(let e in ir.requests)ir.requests.hasOwnProperty(e)&&ir.requests[e].abort()}const ar="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),lr=Fs.WebSocket||Fs.MozWebSocket,cr="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();const ur={websocket:class extends Vs{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,n=cr?{}:Bs(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=cr?new lr(e,t,n):t?new lr(e,t):new lr(e)}catch(e){return this.emitReserved("error",e)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],s=t===e.length-1;Ns(n,this.supportsBinary,(e=>{try{this.ws.send(e)}catch(e){}s&&ar((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let n="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=Gs()),this.supportsBinary||(e.b64=1);const s=Zs(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(s.length?"?"+s:"")}check(){return!!lr}},polling:class extends Vs{constructor(e){if(super(e),this.polling=!1,"undefined"!=typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}const t=e&&e.forceBase64;this.supportsBinary=rr&&!t}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(Ms),s=[];for(let e=0;e<n.length;e++){const r=Os(n[e],t);if(s.push(r),"error"===r.type)break}return s})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,s=new Array(n);let r=0;e.forEach(((e,i)=>{Ns(e,!1,(e=>{s[i]=e,++r===n&&t(s.join(Ms))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let n="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=Gs()),this.supportsBinary||e.sid||(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port);const s=Zs(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(s.length?"?"+s:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new ir(this.uri(),e)}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}},dr=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,fr=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function pr(e){const t=e,n=e.indexOf("["),s=e.indexOf("]");-1!=n&&-1!=s&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));let r=dr.exec(e||""),i={},o=14;for(;o--;)i[fr[o]]=r[o]||"";return-1!=n&&-1!=s&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=function(e,t){const n=/\/{2,9}/g,s=t.replace(n,"/").split("/");"/"!=t.substr(0,1)&&0!==t.length||s.splice(0,1);"/"==t.substr(t.length-1,1)&&s.splice(s.length-1,1);return s}(0,i.path),i.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,s){t&&(n[t]=s)})),n}(0,i.query),i}class hr extends qs{constructor(e,t={}){super(),e&&"object"==typeof e&&(t=e,e=null),e?(e=pr(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=pr(t.host).host),Us(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},t),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let e=0,s=n.length;e<s;e++){let s=n[e].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",(()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())}),!1),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new ur[e](n)}open(){let e;if(this.opts.rememberUpgrade&&hr.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(e=>this.onClose("transport close",e)))}probe(e){let t=this.createTransport(e),n=!1;hr.priorWebsocketSuccess=!1;const s=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;hr.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function r(){n||(n=!0,c(),t.close(),t=null)}const i=e=>{const n=new Error("probe error: "+e);n.transport=t.name,r(),this.emitReserved("upgradeError",n)};function o(){i("transport closed")}function a(){i("socket closed")}function l(e){t&&e.name!==t.name&&r()}const c=()=>{t.removeListener("open",s),t.removeListener("error",i),t.removeListener("close",o),this.off("close",a),this.off("upgrading",l)};t.once("open",s),t.once("error",i),t.once("close",o),this.once("close",a),this.once("upgrading",l),t.open()}onOpen(){if(this.readyState="open",hr.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(e+="string"==typeof(t=s)?function(e){let t=0,n=0;for(let s=0,r=e.length;s<r;s++)t=e.charCodeAt(s),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(s++,n+=4);return n}(t):Math.ceil(1.33*(t.byteLength||t.size))),n>0&&e>this.maxPayload)return this.writeBuffer.slice(0,n);e+=2}var t;return this.writeBuffer}write(e,t,n){return this.sendPacket("message",e,t,n),this}send(e,t,n){return this.sendPacket("message",e,t,n),this}sendPacket(e,t,n,s){if("function"==typeof t&&(s=t,t=void 0),"function"==typeof n&&(s=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const r={type:e,data:t,options:n};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():e()})):this.upgrading?n():e()),this}onError(e){hr.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let n=0;const s=e.length;for(;n<s;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}hr.protocol=4;const mr="function"==typeof ArrayBuffer,gr=Object.prototype.toString,vr="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===gr.call(Blob),yr="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===gr.call(File);function $r(e){return mr&&(e instanceof ArrayBuffer||(e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||vr&&e instanceof Blob||yr&&e instanceof File}function br(e,t){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(br(e[t]))return!0;return!1}if($r(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return br(e.toJSON(),!0);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&br(e[t]))return!0;return!1}function wr(e){const t=[],n=e.data,s=e;return s.data=kr(n,t),s.attachments=t.length,{packet:s,buffers:t}}function kr(e,t){if(!e)return e;if($r(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let s=0;s<e.length;s++)n[s]=kr(e[s],t);return n}if("object"==typeof e&&!(e instanceof Date)){const n={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=kr(e[s],t));return n}return e}function xr(e,t){return e.data=_r(e.data,t),e.attachments=void 0,e}function _r(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"==typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=_r(e[n],t);else if("object"==typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=_r(e[n],t));return e}var Ir;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(Ir||(Ir={}));class Tr extends qs{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e),t.type===Ir.BINARY_EVENT||t.type===Ir.BINARY_ACK?(this.reconstructor=new Cr(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!$r(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===Ir[n.type])throw new Error("unknown packet type "+n.type);if(n.type===Ir.BINARY_EVENT||n.type===Ir.BINARY_ACK){const s=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const r=e.substring(s,t);if(r!=Number(r)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(r)}if("/"===e.charAt(t+1)){const s=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(s,t)}else n.nsp="/";const s=e.charAt(t+1);if(""!==s&&Number(s)==s){const s=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(s,t+1))}if(e.charAt(++t)){const s=this.tryParse(e.substr(t));if(!Tr.isPayloadValid(n.type,s))throw new Error("invalid payload");n.data=s}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(e){return!1}}static isPayloadValid(e,t){switch(e){case Ir.CONNECT:return"object"==typeof t;case Ir.DISCONNECT:return void 0===t;case Ir.CONNECT_ERROR:return"string"==typeof t||"object"==typeof t;case Ir.EVENT:case Ir.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case Ir.ACK:case Ir.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class Cr{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=xr(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var Er=Object.freeze({__proto__:null,protocol:5,get PacketType(){return Ir},Encoder:class{constructor(e){this.replacer=e}encode(e){return e.type!==Ir.EVENT&&e.type!==Ir.ACK||!br(e)?[this.encodeAsString(e)]:(e.type=e.type===Ir.EVENT?Ir.BINARY_EVENT:Ir.BINARY_ACK,this.encodeAsBinary(e))}encodeAsString(e){let t=""+e.type;return e.type!==Ir.BINARY_EVENT&&e.type!==Ir.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=wr(e),n=this.encodeAsString(t.packet),s=t.buffers;return s.unshift(n),s}},Decoder:Tr});function Nr(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Sr=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Ar extends qs{constructor(e,t,n){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Nr(e,"open",this.onopen.bind(this)),Nr(e,"packet",this.onpacket.bind(this)),Nr(e,"error",this.onerror.bind(this)),Nr(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(Sr.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');t.unshift(e);const n={type:Ir.EVENT,data:t,options:{}};if(n.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const e=this.ids++,s=t.pop();this._registerAckCallback(e,s),n.id=e}const s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(e,t){const n=this.flags.timeout;if(void 0===n)return void(this.acks[e]=t);const s=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),n);this.acks[e]=(...e)=>{this.io.clearTimeoutFn(s),t.apply(this,[null,...e])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this.packet({type:Ir.CONNECT,data:e})})):this.packet({type:Ir.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Ir.CONNECT:if(e.data&&e.data.sid){const t=e.data.sid;this.onconnect(t)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ir.EVENT:case Ir.BINARY_EVENT:this.onevent(e);break;case Ir.ACK:case Ir.BINARY_ACK:this.onack(e);break;case Ir.DISCONNECT:this.ondisconnect();break;case Ir.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e)}ack(e){const t=this;let n=!1;return function(...s){n||(n=!0,t.packet({type:Ir.ACK,id:e,data:s}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e){this.id=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ir.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function Lr(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Lr.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Lr.prototype.reset=function(){this.attempts=0},Lr.prototype.setMin=function(e){this.ms=e},Lr.prototype.setMax=function(e){this.max=e},Lr.prototype.setJitter=function(e){this.jitter=e};class Rr extends qs{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,Us(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=t.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new Lr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const s=t.parser||Er;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new hr(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=Nr(t,"open",(function(){n.onopen(),e&&e()})),r=Nr(t,"error",(t=>{n.cleanup(),n._readyState="closed",this.emitReserved("error",t),e?e(t):n.maybeReconnectOnOpen()}));if(!1!==this._timeout){const e=this._timeout;0===e&&s();const n=this.setTimeoutFn((()=>{s(),t.close(),t.emit("error",new Error("timeout"))}),e);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}return this.subs.push(s),this.subs.push(r),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Nr(e,"ping",this.onping.bind(this)),Nr(e,"data",this.ondata.bind(this)),Nr(e,"error",this.onerror.bind(this)),Nr(e,"close",this.onclose.bind(this)),Nr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){this.decoder.add(e)}ondecoded(e){this.emitReserved("packet",e)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n||(n=new Ar(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const e of t){if(this.nsps[e].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Or={};function Pr(e,t){"object"==typeof e&&(t=e,e=void 0);const n=function(e,t="",n){let s=e;n=n||"undefined"!=typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==n?n.protocol+"//"+e:"https://"+e),s=pr(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const r=-1!==s.host.indexOf(":")?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+r+":"+s.port+t,s.href=s.protocol+"://"+r+(n&&n.port===s.port?"":":"+s.port),s}(e,(t=t||{}).path||"/socket.io"),s=n.source,r=n.id,i=n.path,o=Or[r]&&i in Or[r].nsps;let a;return t.forceNew||t["force new connection"]||!1===t.multiplex||o?a=new Rr(s,t):(Or[r]||(Or[r]=new Rr(s,t)),a=Or[r]),n.query&&!t.query&&(t.query=n.queryKey),a.socket(n.path,t)}Object.assign(Pr,{Manager:Rr,Socket:Ar,io:Pr,connect:Pr});const jr=Be(function(e){let t=localStorage.getItem(e);if("undefined"===t)return{};try{t=JSON.parse(t)}catch(e){console.log(e)}return t}("config")||{order:{Content:"",Mangas:"",Videos:"'"},items:0}),Mr=async e=>(jr.update((t=>e)),function(e,t){localStorage.setItem(e,JSON.stringify(t))}("config",e),e);function qr(e){let t,n,s,r,o,a,l,c,u,d,f,p,h,m,g,v,y,$,b,w,k;return{c(){t=A("div"),n=A("div"),s=A("div"),s.innerHTML='<label for="orderby" class="input-group-text svelte-1kmdy4">Sort By:</label>',r=R(),o=A("select"),a=A("option"),a.textContent=" Name",l=A("option"),l.textContent=" Name",c=A("option"),c.textContent=" Date",u=A("option"),u.textContent=" Date",d=R(),f=A("div"),p=A("div"),p.innerHTML='<label for="items" class="input-group-text svelte-1kmdy4">File per Page:</label>',h=R(),m=A("input"),g=R(),v=A("span"),v.textContent="0 = auto, max 500",y=R(),$=A("div"),b=A("span"),b.textContent="Save",q(s,"class","input-group-prepend svelte-1kmdy4"),a.__value="nu",a.value=a.__value,q(a,"class","svelte-1kmdy4"),l.__value="nd",l.value=l.__value,q(l,"class","svelte-1kmdy4"),c.__value="du",c.value=c.__value,q(c,"class","svelte-1kmdy4"),u.__value="dd",u.value=u.__value,q(u,"class","svelte-1kmdy4"),q(o,"id","orderby"),q(o,"class","form-control fa svelte-1kmdy4"),void 0===e[1].order[document.title.split(" ")[0]]&&pe((()=>e[4].call(o))),q(n,"class","input-group svelte-1kmdy4"),q(p,"class","input-group-prepend svelte-1kmdy4"),q(m,"id","items"),q(m,"type","number"),q(m,"min","0"),q(m,"max","500"),q(m,"class","form-control svelte-1kmdy4"),q(v,"id","fpp-tips"),q(v,"class","svelte-1kmdy4"),q(f,"class","input-group svelte-1kmdy4"),q(b,"id","btn-save"),q(b,"class","btn svelte-1kmdy4"),q($,"class","bottom-controls svelte-1kmdy4"),q(t,"id","config-content"),q(t,"class","svelte-1kmdy4")},m(i,x){E(i,t,x),I(t,n),I(n,s),I(n,r),I(n,o),I(o,a),I(o,l),I(o,c),I(o,u),z(o,e[1].order[document.title.split(" ")[0]]),I(t,d),I(t,f),I(f,p),I(f,h),I(f,m),H(m,e[1].items),I(f,g),I(f,v),I(t,y),I(t,$),I($,b),w||(k=[P(o,"change",e[4]),P(m,"input",e[5]),P(b,"click",e[2])],w=!0)},p(e,t){2&t&&z(o,e[1].order[document.title.split(" ")[0]]),2&t&&B(m.value)!==e[1].items&&H(m,e[1].items)},d(e){e&&N(t),w=!1,i(k)}}}function Fr(t){let n,s,r,i,o,a,l,c,u,d,f,p,h,m,g,v,$=t[0].username+"",b=!t[0].role.includes("Administrator"),w=b&&qr(t);return{c(){n=A("label"),s=A("i"),r=R(),i=A("span"),o=L($),l=R(),c=A("input"),u=R(),d=A("div"),f=A("div"),p=A("span"),p.innerHTML='<i class="fas fa-sign-out-alt"></i> Log out',h=R(),w&&w.c(),q(s,"class","fas fa-user-cog"),q(i,"class","nav-title svelte-1kmdy4"),q(n,"id","user-label"),q(n,"class",a=y(t[0].role)+" svelte-1kmdy4"),q(n,"for","show-config"),q(c,"type","checkbox"),q(c,"name",""),q(c,"id","show-config"),q(c,"class","svelte-1kmdy4"),q(p,"class","svelte-1kmdy4"),q(f,"id","sep"),q(f,"class","svelte-1kmdy4"),q(d,"id","user-config"),q(d,"class",m=y(t[0].role.includes("User")?"user-config":"admin-config")+" svelte-1kmdy4")},m(e,a){E(e,n,a),I(n,s),I(n,r),I(n,i),I(i,o),E(e,l,a),E(e,c,a),E(e,u,a),E(e,d,a),I(d,f),I(f,p),I(d,h),w&&w.m(d,null),g||(v=P(p,"click",t[3]),g=!0)},p(e,[t]){1&t&&$!==($=e[0].username+"")&&D(o,$),1&t&&a!==(a=y(e[0].role)+" svelte-1kmdy4")&&q(n,"class",a),1&t&&(b=!e[0].role.includes("Administrator")),b?w?w.p(e,t):(w=qr(e),w.c(),w.m(d,null)):w&&(w.d(1),w=null),1&t&&m!==(m=y(e[0].role.includes("User")?"user-config":"admin-config")+" svelte-1kmdy4")&&q(d,"class",m)},i:e,o:e,d(e){e&&N(n),e&&N(l),e&&N(c),e&&N(u),e&&N(d),w&&w.d(),g=!1,v()}}}function Br(e,t,n){let s;d(e,jr,(e=>n(7,s=e)));let{User:r}=t;document.title.split(" ")[0];const i={...s};return new MutationObserver((([{target:e}])=>document.title.split(" ")[0])).observe(document.querySelector("title"),{childList:!0}),e.$$set=e=>{"User"in e&&n(0,r=e.User)},[r,i,()=>{Mr(i)},function(t){oe.call(this,e,t)},function(){i.order[document.title.split(" ")[0]]=V(this),n(1,i)},function(){i.items=B(this.value),n(1,i)}]}class Dr extends qe{constructor(e){super(),Me(this,e,Br,Fr,a,{User:0})}}const Hr=Be(!1);function Ur(e,t,n){const s=e.slice();return s[10]=t[n],s}function zr(e,t,n){const s=e.slice();return s[13]=t[n].Id,s[14]=t[n].Name,s}function Vr(e){let t,n,s,r;return n=new mt({props:{to:e[10].path,getProps:Zr,$$slots:{default:[Kr]},$$scope:{ctx:e}}}),{c(){t=A("li"),Re(n.$$.fragment),s=R(),q(t,"class","nav-item svelte-18k938q")},m(e,i){E(e,t,i),Oe(n,t,null),I(t,s),r=!0},p(e,t){const s={};1&t&&(s.to=e[10].path),131073&t&&(s.$$scope={dirty:t,ctx:e}),n.$set(s)},i(e){r||(Ie(n.$$.fragment,e),r=!0)},o(e){Te(n.$$.fragment,e),r=!1},d(e){e&&N(t),Pe(n)}}}function Wr(e){let t,n,s=e[1]&&Yr(e);return{c(){s&&s.c(),t=O()},m(e,r){s&&s.m(e,r),E(e,t,r),n=!0},p(e,n){e[1]?s?(s.p(e,n),2&n&&Ie(s,1)):(s=Yr(e),s.c(),Ie(s,1),s.m(t.parentNode,t)):s&&(xe(),Te(s,1,1,(()=>{s=null})),_e())},i(e){n||(Ie(s),n=!0)},o(e){Te(s),n=!1},d(e){s&&s.d(e),e&&N(t)}}}function Kr(e){let t,n,s,r,i,o=e[10].title+"";return{c(){t=A("i"),s=R(),r=A("span"),i=L(o),q(t,"class",n=y("fas fa-"+e[10].class)+" svelte-18k938q"),q(r,"class","nav-title svelte-18k938q")},m(e,n){E(e,t,n),E(e,s,n),E(e,r,n),I(r,i)},p(e,s){1&s&&n!==(n=y("fas fa-"+e[10].class)+" svelte-18k938q")&&q(t,"class",n),1&s&&o!==(o=e[10].title+"")&&D(i,o)},d(e){e&&N(t),e&&N(s),e&&N(r)}}}function Yr(e){let t,n,s,r;return n=new mt({props:{to:e[10].path+"/"+e[2][e[10].title],getProps:Zr,$$slots:{default:[Jr]},$$scope:{ctx:e}}}),{c(){t=A("li"),Re(n.$$.fragment),s=R(),q(t,"class","nav-item svelte-18k938q")},m(e,i){E(e,t,i),Oe(n,t,null),I(t,s),r=!0},p(e,t){const s={};5&t&&(s.to=e[10].path+"/"+e[2][e[10].title]),131079&t&&(s.$$scope={dirty:t,ctx:e}),n.$set(s)},i(e){r||(Ie(n.$$.fragment,e),r=!0)},o(e){Te(n.$$.fragment,e),r=!1},d(e){e&&N(t),Pe(n)}}}function Xr(e){let t,n,s,r,i,o,a,l=e[14]+"";return{c(){t=A("li"),n=L(l),s=R(),q(t,"class","list-item svelte-18k938q"),q(t,"id",r=e[13]),q(t,"title",i=e[10].title),W(t,"selected",e[13]===e[2][e[10].title])},m(r,i){E(r,t,i),I(t,n),I(t,s),o||(a=P(t,"click",e[5]),o=!0)},p(e,s){3&s&&l!==(l=e[14]+"")&&D(n,l),3&s&&r!==(r=e[13])&&q(t,"id",r),1&s&&i!==(i=e[10].title)&&q(t,"title",i),7&s&&W(t,"selected",e[13]===e[2][e[10].title])},d(e){e&&N(t),o=!1,a()}}}function Jr(e){let t,n,s,r,i,o,a,l,c=e[10].title+"";function u(...t){return e[6](e[10],...t)}let d=e[1][e[10].title].filter(u),f=[];for(let t=0;t<d.length;t+=1)f[t]=Xr(zr(e,d,t));return{c(){t=A("span"),n=A("i"),r=R(),i=A("span"),o=L(c),a=R(),l=A("ul");for(let e=0;e<f.length;e+=1)f[e].c();q(n,"class",s=y("fas fa-"+e[10].class)+" svelte-18k938q"),q(i,"class","nav-title svelte-18k938q"),q(l,"class","down-list svelte-18k938q"),q(t,"class","fa-icon svelte-18k938q")},m(e,s){E(e,t,s),I(t,n),I(t,r),I(t,i),I(i,o),I(t,a),I(t,l);for(let e=0;e<f.length;e+=1)f[e].m(l,null)},p(t,r){if(e=t,1&r&&s!==(s=y("fas fa-"+e[10].class)+" svelte-18k938q")&&q(n,"class",s),1&r&&c!==(c=e[10].title+"")&&D(o,c),39&r){let t;for(d=e[1][e[10].title].filter(u),t=0;t<d.length;t+=1){const n=zr(e,d,t);f[t]?f[t].p(n,r):(f[t]=Xr(n),f[t].c(),f[t].m(l,null))}for(;t<f.length;t+=1)f[t].d(1);f.length=d.length}},d(e){e&&N(t),S(f,e)}}}function Qr(e){let t,n,s,r,i;const o=[Wr,Vr],a=[];function l(e,n){return 1&n&&(t=null),null==t&&(t=!!["Mangas","Videos"].includes(e[10].title)),t?0:1}return n=l(e,-1),s=a[n]=o[n](e),{c(){s.c(),r=O()},m(e,t){a[n].m(e,t),E(e,r,t),i=!0},p(e,t){let i=n;n=l(e,t),n===i?a[n].p(e,t):(xe(),Te(a[i],1,1,(()=>{a[i]=null})),_e(),s=a[n],s?s.p(e,t):(s=a[n]=o[n](e),s.c()),Ie(s,1),s.m(r.parentNode,r))},i(e){i||(Ie(s),i=!0)},o(e){Te(s),i=!1},d(e){a[n].d(e),e&&N(r)}}}function Gr(e){let t,n,s,r,i,o,a,l=e[0],c=[];for(let t=0;t<l.length;t+=1)c[t]=Qr(Ur(e,l,t));const u=e=>Te(c[e],1,1,(()=>{c[e]=null}));return o=new Dr({props:{User:e[4]}}),o.$on("click",e[7]),{c(){t=A("nav"),n=A("ul");for(let e=0;e<c.length;e+=1)c[e].c();s=R(),r=A("ul"),i=A("li"),Re(o.$$.fragment),q(n,"class","navbar-nav svelte-18k938q"),q(i,"id","p-config"),q(i,"class","nav-item svelte-18k938q"),q(r,"class","navbar-nav svelte-18k938q"),q(t,"id","menu"),q(t,"class","navbar svelte-18k938q"),W(t,"hide",e[3])},m(e,l){E(e,t,l),I(t,n);for(let e=0;e<c.length;e+=1)c[e].m(n,null);I(t,s),I(t,r),I(r,i),Oe(o,i,null),a=!0},p(e,[s]){if(39&s){let t;for(l=e[0],t=0;t<l.length;t+=1){const r=Ur(e,l,t);c[t]?(c[t].p(r,s),Ie(c[t],1)):(c[t]=Qr(r),c[t].c(),Ie(c[t],1),c[t].m(n,null))}for(xe(),t=l.length;t<c.length;t+=1)u(t);_e()}8&s&&W(t,"hide",e[3])},i(e){if(!a){for(let e=0;e<l.length;e+=1)Ie(c[e]);Ie(o.$$.fragment,e),a=!0}},o(e){c=c.filter(Boolean);for(let e=0;e<c.length;e+=1)Te(c[e]);Te(o.$$.fragment,e),a=!1},d(e){e&&N(t),S(c,e),Pe(o)}}}function Zr({location:e,href:t,isPartiallyCurrent:n,isCurrent:s}){let r=!1;return"/"===t&&"/"===e.pathname&&(r=!0),"/"!==t&&n&&(r=!0),r?{class:"active"}:{}}function ei(e,t,n){let{navItems:s}=t;const r=(e,t)=>e.Name.localeCompare(t.Name),i=ie("User");let o,a={Mangas:"",Videos:""},l=!1,c=Hr.subscribe((e=>{n(3,l=e)}));ne(c);return e.$$set=e=>{"navItems"in e&&n(0,s=e.navItems)},e.$$.update=()=>{2&e.$$.dirty&&(o||xs.get("/api/files/dirs/").then((({data:e})=>{if(e instanceof Array){let t=(e||[]).filter((e=>"Mangas"===e.Type)).sort(r),s=(e||[]).filter((e=>"Videos"===e.Type)).sort(r);n(1,o={Mangas:t,Videos:s}),n(2,a={Mangas:t[0]?t[0].Id:"",Videos:s[0]?s[0].Id:""})}})))},[s,o,a,l,i,({target:{id:e,title:t}})=>{n(2,a[t]=e,a)},(e,t)=>t.Type===e.title,function(t){oe.call(this,e,t)}]}class ti extends qe{constructor(e){super(),Me(this,e,ei,Gr,a,{navItems:0})}}function ni(e){const t=e-1;return t*t*t+1}function si(e,{delay:n=0,duration:s=400,easing:r=t}={}){const i=+getComputedStyle(e).opacity;return{delay:n,duration:s,easing:r,css:e=>"opacity: "+e*i}}function ri(e,{delay:t=0,duration:n=400,easing:s=ni,x:r=0,y:i=0,opacity:o=0}={}){const a=getComputedStyle(e),l=+a.opacity,c="none"===a.transform?"":a.transform,u=l*(1-o);return{delay:t,duration:n,easing:s,css:(e,t)=>`\n\t\t\ttransform: ${c} translate(${(1-e)*r}px, ${(1-e)*i}px);\n\t\t\topacity: ${l-u*t}`}}function ii(e){let t,n,s,r,o,a,l,c,u,d,f,p,h,m,g,v,y,$,b,w,k,x,_,T,C,S,O,j,M,F,B,U,V,W,K,Y,X,J,Q,G,Z,ee,te,ne,se,re,ie,oe,ae,le,ce,ue,de,fe,he=e[0].Id?"Edit":"Create",me=e[0].Id?"Update":"Save";return{c(){t=A("div"),n=A("div"),s=A("div"),r=A("h3"),o=L(he),a=R(),l=A("div"),c=A("input"),u=R(),d=A("div"),f=A("div"),f.innerHTML='<label for="Name" class="input-group-text svelte-13h6j0"><i class="fas fa-user svelte-13h6j0"></i></label>',p=R(),h=A("input"),m=R(),g=A("div"),v=A("div"),v.innerHTML='<label for="Password" class="input-group-text svelte-13h6j0"><i class="fas fa-key svelte-13h6j0"></i></label>',y=R(),$=A("input"),b=R(),w=A("div"),k=A("div"),k.innerHTML='<label for="Role" class="input-group-text">Role</label>',x=R(),_=A("select"),T=A("option"),T.textContent="User",C=A("option"),C.textContent="Administrator",S=A("option"),S.textContent="Manager",O=R(),j=A("div"),M=A("div"),F=A("div"),F.innerHTML='<label for="State" class="input-group-text">Status</label>',B=R(),U=A("select"),V=A("option"),V.textContent="Active",W=A("option"),W.textContent="Inactive",K=R(),Y=A("div"),X=A("div"),X.innerHTML='<label for="Adult" class="input-group-text">Adult</label>',J=R(),Q=A("input"),G=R(),Z=A("label"),Z.innerHTML='<i class="fas fa-times svelte-13h6j0"></i>',ee=R(),te=A("div"),ne=L(e[1]),se=R(),re=A("div"),ie=A("button"),ie.textContent="Cancel",oe=R(),ae=A("button"),le=L(me),q(s,"class","modal-header"),q(c,"type","hidden"),q(c,"name","Id"),q(c,"class","svelte-13h6j0"),q(f,"class","input-group-prepend"),q(h,"class","form-control svelte-13h6j0"),q(h,"type","text"),q(h,"name","Name"),q(d,"class","input-group"),q(v,"class","input-group-prepend"),q($,"class","form-control svelte-13h6j0"),q($,"type","password"),q($,"autocomplete","new-password"),q(g,"class","input-group"),q(k,"class","input-group-prepend"),T.__value="User",T.value=T.__value,C.__value="Administrator",C.value=C.__value,S.__value="Manager",S.value=S.__value,q(_,"class","form-control"),q(_,"name","Role"),void 0===e[0].Role&&pe((()=>e[7].call(_))),q(w,"class","input-group"),q(F,"class","input-group-prepend"),V.__value="Active",V.value=V.__value,W.__value="Inactive",W.value=W.__value,q(U,"class","form-control"),q(U,"name","State"),void 0===e[0].Status&&pe((()=>e[8].call(U))),q(M,"class","first-ctrl input-group svelte-13h6j0"),q(X,"class","input-group-prepend"),q(Q,"id","Adult"),q(Q,"type","checkbox"),q(Q,"class","svelte-13h6j0"),q(Z,"for","Adult"),q(Z,"class","form-control checkadult svelte-13h6j0"),q(Y,"class","second-ctrl input-group svelte-13h6j0"),q(j,"class","input-grouping svelte-13h6j0"),q(te,"class","errors"),q(l,"class","modal-body"),q(ie,"class","btn"),q(ae,"class","btn"),q(re,"class","modal-footer"),q(n,"class","modal card svelte-13h6j0"),q(t,"class","modal-container")},m(i,N){E(i,t,N),I(t,n),I(n,s),I(s,r),I(r,o),I(n,a),I(n,l),I(l,c),H(c,e[0].Id),I(l,u),I(l,d),I(d,f),I(d,p),I(d,h),H(h,e[0].Name),I(l,m),I(l,g),I(g,v),I(g,y),I(g,$),H($,e[0].Password),I(l,b),I(l,w),I(w,k),I(w,x),I(w,_),I(_,T),I(_,C),I(_,S),z(_,e[0].Role),I(l,O),I(l,j),I(j,M),I(M,F),I(M,B),I(M,U),I(U,V),I(U,W),z(U,e[0].Status),I(j,K),I(j,Y),I(Y,X),I(Y,J),I(Y,Q),Q.checked=e[0].AdultPass,I(Y,G),I(Y,Z),I(l,ee),I(l,te),I(te,ne),I(n,se),I(n,re),I(re,ie),I(re,oe),I(re,ae),I(ae,le),ue=!0,de||(fe=[P(c,"input",e[4]),P(h,"input",e[5]),P($,"input",e[6]),P(_,"change",e[7]),P(U,"change",e[8]),P(Q,"change",e[9]),P(ie,"click",e[3]),P(ae,"click",e[2])],de=!0)},p(e,[t]){(!ue||1&t)&&he!==(he=e[0].Id?"Edit":"Create")&&D(o,he),1&t&&H(c,e[0].Id),1&t&&h.value!==e[0].Name&&H(h,e[0].Name),1&t&&$.value!==e[0].Password&&H($,e[0].Password),1&t&&z(_,e[0].Role),1&t&&z(U,e[0].Status),1&t&&(Q.checked=e[0].AdultPass),(!ue||2&t)&&D(ne,e[1]),(!ue||1&t)&&me!==(me=e[0].Id?"Update":"Save")&&D(le,me)},i(e){ue||(pe((()=>{ce||(ce=Se(n,si,{duration:200},!0)),ce.run(1)})),ue=!0)},o(e){ce||(ce=Se(n,si,{duration:200},!1)),ce.run(0),ue=!1},d(e){e&&N(t),e&&ce&&ce.end(),de=!1,i(fe)}}}function oi(e,t,n){let{foundUser:s={AdultPass:!1,Password:""}}=t;const r=se();let i="";return e.$$set=e=>{"foundUser"in e&&n(0,s=e.foundUser)},[s,i,e=>{if(!s.Name)return n(1,i="Name Can't be empty");xs.post("/api/admin/users/add-edit",s).then((({data:e})=>{e.fail?(n(1,i=e.msg),console.log(e)):r("updateusers",e.user)}))},()=>{r("closeModal")},function(){s.Id=this.value,n(0,s)},function(){s.Name=this.value,n(0,s)},function(){s.Password=this.value,n(0,s)},function(){s.Role=V(this),n(0,s)},function(){s.Status=V(this),n(0,s)},function(){s.AdultPass=this.checked,n(0,s)}]}class ai extends qe{constructor(e){super(),Me(this,e,oi,ii,a,{foundUser:0})}}function li(e,t,n){const s=e.slice();return s[8]=t[n],s}function ci(e){let t,n;return t=new ai({props:{foundUser:e[1]}}),t.$on("closeModal",e[4]),t.$on("updateusers",e[7]),{c(){Re(t.$$.fragment)},m(e,s){Oe(t,e,s),n=!0},p(e,n){const s={};2&n&&(s.foundUser=e[1]),t.$set(s)},i(e){n||(Ie(t.$$.fragment,e),n=!0)},o(e){Te(t.$$.fragment,e),n=!1},d(e){Pe(t,e)}}}function ui(t){let n;return{c(){n=A("tr"),n.innerHTML='<td colspan="5" class="svelte-u9hanp">Loading Data From Server</td>'},m(e,t){E(e,n,t)},p:e,d(e){e&&N(n)}}}function di(e){let t,n=e[0],s=[];for(let t=0;t<n.length;t+=1)s[t]=fi(li(e,n,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=O()},m(e,n){for(let t=0;t<s.length;t+=1)s[t].m(e,n);E(e,t,n)},p(e,r){if(97&r){let i;for(n=e[0],i=0;i<n.length;i+=1){const o=li(e,n,i);s[i]?s[i].p(o,r):(s[i]=fi(o),s[i].c(),s[i].m(t.parentNode,t))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}},d(e){S(s,e),e&&N(t)}}}function fi(e){let t,n,s,r,o,a,l,c,u,d,f,p,h,m,g,v,y,$,b,w,k,x,_=e[8].Name+"",T=e[8].Role+"",C=e[8].State+"",S=e[8].AdultPass?"true":"false";return{c(){t=A("tr"),n=A("td"),s=A("span"),s.innerHTML='<i class="fas fa-edit svelte-u9hanp"></i>',r=R(),o=A("span"),o.innerHTML='<i class="fas fa-trash-alt svelte-u9hanp"></i>',a=R(),l=A("td"),c=L(_),u=R(),d=A("td"),f=L(T),p=R(),h=A("td"),m=L(C),g=R(),v=A("td"),y=L(S),$=R(),q(s,"class","u-edit"),q(o,"class","u-remove ml-2"),q(n,"class","svelte-u9hanp"),q(l,"class","svelte-u9hanp"),q(d,"class","svelte-u9hanp"),q(h,"class","svelte-u9hanp"),q(v,"class","svelte-u9hanp"),q(t,"id",b=e[8].Id),q(t,"key",w=e[8].Name),q(t,"class","svelte-u9hanp")},m(i,b){E(i,t,b),I(t,n),I(n,s),I(n,r),I(n,o),I(t,a),I(t,l),I(l,c),I(t,u),I(t,d),I(d,f),I(t,p),I(t,h),I(h,m),I(t,g),I(t,v),I(v,y),I(t,$),k||(x=[P(s,"click",e[5]),P(o,"click",e[6])],k=!0)},p(e,n){1&n&&_!==(_=e[8].Name+"")&&D(c,_),1&n&&T!==(T=e[8].Role+"")&&D(f,T),1&n&&C!==(C=e[8].State+"")&&D(m,C),1&n&&S!==(S=e[8].AdultPass?"true":"false")&&D(y,S),1&n&&b!==(b=e[8].Id)&&q(t,"id",b),1&n&&w!==(w=e[8].Name)&&q(t,"key",w)},d(e){e&&N(t),k=!1,i(x)}}}function pi(e){let t,n,s,r,i,o,a,l,c,u,d,f,p,h,m,g,v,y=e[3]&&ci(e);function $(e,t){return e[0].length?di:ui}let b=$(e),w=b(e);return{c(){y&&y.c(),t=R(),n=A("div"),s=A("div"),r=L(e[2]),i=R(),o=A("div"),a=A("span"),a.innerHTML='<i class="fas fa-user-plus svelte-u9hanp"></i>',l=R(),c=A("h3"),c.textContent="Users Manager",u=R(),d=A("table"),f=A("thead"),f.innerHTML='<tr><th class="svelte-u9hanp">Actions</th> \n        <th class="svelte-u9hanp">Name</th> \n        <th class="svelte-u9hanp">Role</th> \n        <th class="svelte-u9hanp">State</th> \n        <th class="svelte-u9hanp">Adult</th></tr>',p=R(),h=A("tbody"),w.c(),q(s,"class","remove-error"),q(a,"class","btn svelte-u9hanp"),q(c,"class","text-center"),q(o,"class","controls svelte-u9hanp"),q(d,"class","table table-dark table-hover table-bordered svelte-u9hanp"),q(n,"id","u-manager"),q(n,"class","card bg-dark manager svelte-u9hanp")},m($,b){y&&y.m($,b),E($,t,b),E($,n,b),I(n,s),I(s,r),I(n,i),I(n,o),I(o,a),I(o,l),I(o,c),I(n,u),I(n,d),I(d,f),I(d,p),I(d,h),w.m(h,null),m=!0,g||(v=P(a,"click",e[5]),g=!0)},p(e,[n]){e[3]?y?(y.p(e,n),8&n&&Ie(y,1)):(y=ci(e),y.c(),Ie(y,1),y.m(t.parentNode,t)):y&&(xe(),Te(y,1,1,(()=>{y=null})),_e()),(!m||4&n)&&D(r,e[2]),b===(b=$(e))&&w?w.p(e,n):(w.d(1),w=b(e),w&&(w.c(),w.m(h,null)))},i(e){m||(Ie(y),m=!0)},o(e){Te(y),m=!1},d(e){y&&y.d(e),e&&N(t),e&&N(n),w.d(),g=!1,v()}}}function hi(e,t,n){let s=[],r={AdultPass:!1},i="",o=!1;const a=()=>{n(3,o=!1),n(1,r={AdultPass:!1})};return te((async()=>{xs.get("/api/admin/users").then((({data:e})=>{e.users&&n(0,s=e.users)}))})),[s,r,i,o,a,e=>{let t=e.target.closest("tr");t&&n(1,r={...s.find((e=>e.Id===t.id))}||{}),n(3,o=!0)},e=>{let t=e.target.closest("tr"),r=t.children[1].innerText;t&&xs.delete("/api/admin/users/remove",{data:{Id:t.id,Role:r}}).then((({data:e})=>{e.removed?n(0,s=s.filter((e=>e.Id!==t.id))):n(2,i=e.msg)}))},e=>{let t=e.detail,r=s.filter((e=>e.Id!==t.Id));n(0,s=[...r,t].sort(((e,t)=>e.Name.localeCompare(t.Name)))),t.Password="",a()}]}class mi extends qe{constructor(e){super(),Me(this,e,hi,pi,a,{})}}const gi=()=>{let e=document.querySelector(".list-container")||{};return parseInt(e.offsetHeight/37.19)};function vi(t){let n,s,r,o,a,l,c,u,d;return{c(){n=A("div"),s=A("div"),r=A("span"),r.innerHTML='<i class="fas fa-search"></i>',o=R(),a=A("input"),l=R(),c=A("span"),c.innerHTML='<i class="fas fa-times-circle"></i>',q(r,"class","btn-filter input-group-text"),q(s,"class","input-group-prepend svelte-1f7z5e6"),q(a,"type","text"),q(a,"class","form-control filter-file svelte-1f7z5e6"),q(a,"placeholder","Filter"),q(c,"id","clear-filter"),q(c,"class","svelte-1f7z5e6"),q(n,"id","filter-control"),q(n,"class","input-group svelte-1f7z5e6")},m(e,i){E(e,n,i),I(n,s),I(s,r),I(n,o),I(n,a),H(a,t[0]),I(n,l),I(n,c),u||(d=[P(r,"click",t[3]),P(a,"input",t[4]),P(a,"keydown",t[2]),P(c,"click",t[1])],u=!0)},p(e,[t]){1&t&&a.value!==e[0]&&H(a,e[0])},i:e,o:e,d(e){e&&N(n),u=!1,i(d)}}}function yi(e,t,n){const s=se();let{filter:r=""}=t;return e.$$set=e=>{"filter"in e&&n(0,r=e.filter)},[r,()=>{s("filter",""),n(0,r="")},e=>{13===e.keyCode&&s("filter",(r||"").replace(/%|\?/,""))},()=>{s("filter",(r||"").replace(/%|\?/,""))},function(){r=this.value,n(0,r)}]}class $i extends qe{constructor(e){super(),Me(this,e,yi,vi,a,{filter:0})}}function bi(e){let t,n,s,r,o,a,l,c,u,d,f,p,h;function m(e,t){return e[3]?ki:wi}let g=m(e),v=g(e);return{c(){t=A("div"),n=A("ul"),s=A("li"),s.innerHTML='<i class="fas fa-angle-double-left svelte-1ps3v0w"></i>',r=R(),o=A("li"),o.innerHTML='<i class="fas fa-angle-left svelte-1ps3v0w"></i>',a=R(),l=A("li"),v.c(),c=R(),u=A("li"),u.innerHTML='<i class="fas fa-angle-right svelte-1ps3v0w"></i>',d=R(),f=A("li"),f.innerHTML='<i class="fas fa-angle-double-right svelte-1ps3v0w"></i>',q(s,"id","first-page"),q(s,"class","page-link svelte-1ps3v0w"),W(s,"d-none",e[2]),q(o,"id","prev-page"),q(o,"class","page-link svelte-1ps3v0w"),W(o,"border-r-left",e[2]),q(l,"id","current-page"),q(l,"class","page-link svelte-1ps3v0w"),q(u,"id","next-page"),q(u,"class","page-link svelte-1ps3v0w"),W(u,"border-r-right",e[2]),q(f,"id","last-page"),q(f,"class","page-link svelte-1ps3v0w"),W(f,"d-none",e[2]),q(n,"class","pagination svelte-1ps3v0w"),q(t,"id","pager"),q(t,"class","svelte-1ps3v0w")},m(i,m){E(i,t,m),I(t,n),I(n,s),I(n,r),I(n,o),I(n,a),I(n,l),v.m(l,null),I(n,c),I(n,u),I(n,d),I(n,f),p||(h=[P(l,"click",e[5]),P(t,"click",e[4])],p=!0)},p(e,t){4&t&&W(s,"d-none",e[2]),4&t&&W(o,"border-r-left",e[2]),g===(g=m(e))&&v?v.p(e,t):(v.d(1),v=g(e),v&&(v.c(),v.m(l,null))),4&t&&W(u,"border-r-right",e[2]),4&t&&W(f,"d-none",e[2])},d(e){e&&N(t),v.d(),p=!1,i(h)}}}function wi(e){let t,n=e[0]+"/"+e[1];return{c(){t=L(n)},m(e,n){E(e,t,n)},p(e,s){3&s&&n!==(n=e[0]+"/"+e[1])&&D(t,n)},d(e){e&&N(t)}}}function ki(t){let n,s,r;return{c(){n=A("input"),q(n,"type","text"),n.value=t[0],q(n,"class","form-control")},m(i,a){var l;E(i,n,a),s||(r=[P(n,"blur",t[6]),P(n,"change",t[8]),(l=t[7].call(null,n),l&&o(l.destroy)?l.destroy:e),P(n,"keydown",M(t[9]))],s=!0)},p(e,t){1&t&&n.value!==e[0]&&(n.value=e[0])},d(e){e&&N(n),s=!1,i(r)}}}function xi(t){let n,s=t[1]>1&&bi(t);return{c(){s&&s.c(),n=O()},m(e,t){s&&s.m(e,t),E(e,n,t)},p(e,[t]){e[1]>1?s?s.p(e,t):(s=bi(e),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},i:e,o:e,d(e){s&&s.d(e),e&&N(n)}}}function _i(e,t,n){const s=se();let{page:r=1}=t,{totalPages:i=0}=t,{hideFL:o=!1}=t,a=!1;return e.$$set=e=>{"page"in e&&n(0,r=e.page),"totalPages"in e&&n(1,i=e.totalPages),"hideFL"in e&&n(2,o=e.hideFL)},[r,i,o,a,e=>{window.localStorage.setItem("selected",0);let t=e.target;switch(e.target.id){case"prev-page":s("gotopage",r-1);break;case"next-page":s("gotopage",r+1);break;case"first-page":s("gotopage",1);break;case"last-page":s("gotopage",i);break;case"current-page":((e,t,n,s)=>{if(!e.querySelector("input")){e.textContent="",e.innerHTML=`<input type="text" value=${t} class="form-control" min=1 \n                           max=${n}>`;let r=e.querySelector("input");r.addEventListener("focusout",(s=>{e.textContent=`${t} / ${n}`})),r.onkeydown=e=>{if(13===e.keyCode){let e=parseInt(r.value);isNaN(e)||(t=e<1?1:e>n?n:e),s("gotopage",t),r=null}},r.focus(),r.setSelectionRange(r.value.length,r.value.length)}})(t,r,i,s)}},()=>{n(3,a=!0)},()=>{n(3,a=!1)},e=>{e.focus()},e=>{let t=parseInt(e.target.value);isNaN(t)||(t=t<1?1:t>i?i:t,s("gotopage",t))},function(t){oe.call(this,e,t)}]}class Ii extends qe{constructor(e){super(),Me(this,e,_i,xi,a,{page:0,totalPages:1,hideFL:2})}}function Ti(e,t,n){const s=e.slice();return s[10]=t[n].Id,s[11]=t[n].Name,s[12]=t[n].Type,s[13]=t[n].Path,s}function Ci(e){let t,n=e[2],s=[];for(let t=0;t<n.length;t+=1)s[t]=Si(Ti(e,n,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=O()},m(e,n){for(let t=0;t<s.length;t+=1)s[t].m(e,n);E(e,t,n)},p(e,r){if(12&r){let i;for(n=e[2],i=0;i<n.length;i+=1){const o=Ti(e,n,i);s[i]?s[i].p(o,r):(s[i]=Si(o),s[i].c(),s[i].m(t.parentNode,t))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}},d(e){S(s,e),e&&N(t)}}}function Ei(e){let t,n,s=`Not ${e[1]} Found`;return{c(){t=A("li"),n=L(s),q(t,"class","list-group-item empty-list svelte-ozw83h")},m(e,s){E(e,t,s),I(t,n)},p(e,t){2&t&&s!==(s=`Not ${e[1]} Found`)&&D(n,s)},d(e){e&&N(t)}}}function Ni(e){let t;return{c(){t=A("i"),q(t,"class","fas fa-sync svelte-ozw83h")},m(e,n){E(e,t,n)},d(e){e&&N(t)}}}function Si(e){let t,n,s,r,i,o,a,l,c,u,d,f,p=e[12].includes("Folder"),h=e[11]+"",m=p&&Ni();return{c(){t=A("li"),m&&m.c(),n=R(),s=A("i"),r=R(),i=A("i"),o=R(),a=L(h),l=R(),q(s,"class","fas fa-edit svelte-ozw83h"),q(i,"class","fas fa-trash-alt svelte-ozw83h"),q(t,"id",c=e[10]),q(t,"title",u=e[13]||e[11]),q(t,"class","list-group-item svelte-ozw83h"),W(t,"active",e[3]===e[10])},m(c,u){E(c,t,u),m&&m.m(t,null),I(t,n),I(t,s),I(t,r),I(t,i),I(t,o),I(t,a),I(t,l),d||(f=P(t,"click",e[7]),d=!0)},p(e,s){4&s&&(p=e[12].includes("Folder")),p?m||(m=Ni(),m.c(),m.m(t,n)):m&&(m.d(1),m=null),4&s&&h!==(h=e[11]+"")&&D(a,h),4&s&&c!==(c=e[10])&&q(t,"id",c),4&s&&u!==(u=e[13]||e[11])&&q(t,"title",u),12&s&&W(t,"active",e[3]===e[10])},d(e){e&&N(t),m&&m.d(),d=!1,f()}}}function Ai(e){let t,n,s,r,i,o,a,l,c,u,d,f,p,h=`${e[6]} - ${e[1]}`;function m(e,t){return e[2].length<1?Ei:Ci}s=new $i({props:{filter:e[0]}}),s.$on("filter",e[8]);let g=m(e),v=g(e);return f=new Ii({props:{page:e[4],totalPages:e[5]}}),f.$on("gotopage",e[9]),{c(){t=A("div"),n=A("div"),Re(s.$$.fragment),r=R(),i=A("h4"),o=L(h),a=R(),l=A("div"),c=A("ul"),v.c(),u=R(),d=A("div"),Re(f.$$.fragment),q(i,"class","text-center svelte-ozw83h"),q(n,"class","controls svelte-ozw83h"),q(c,"class","list-group text-dark"),q(l,"class","list-container svelte-ozw83h"),q(d,"class","list-controls svelte-ozw83h"),q(t,"id",e[1]),q(t,"class","file-list col-6 svelte-ozw83h")},m(e,h){E(e,t,h),I(t,n),Oe(s,n,null),I(n,r),I(n,i),I(i,o),I(t,a),I(t,l),I(l,c),v.m(c,null),I(t,u),I(t,d),Oe(f,d,null),p=!0},p(e,[n]){const r={};1&n&&(r.filter=e[0]),s.$set(r),(!p||66&n)&&h!==(h=`${e[6]} - ${e[1]}`)&&D(o,h),g===(g=m(e))&&v?v.p(e,n):(v.d(1),v=g(e),v&&(v.c(),v.m(c,null)));const i={};16&n&&(i.page=e[4]),32&n&&(i.totalPages=e[5]),f.$set(i),(!p||2&n)&&q(t,"id",e[1])},i(e){p||(Ie(s.$$.fragment,e),Ie(f.$$.fragment,e),p=!0)},o(e){Te(s.$$.fragment,e),Te(f.$$.fragment,e),p=!1},d(e){e&&N(t),Pe(s),v.d(),Pe(f)}}}function Li(e,t,n){let{filter:s}=t,{title:r}=t,{items:i}=t,{folderId:o}=t,{page:a=1}=t,{totalPages:l=0}=t,{totalItems:c=0}=t;return e.$$set=e=>{"filter"in e&&n(0,s=e.filter),"title"in e&&n(1,r=e.title),"items"in e&&n(2,i=e.items),"folderId"in e&&n(3,o=e.folderId),"page"in e&&n(4,a=e.page),"totalPages"in e&&n(5,l=e.totalPages),"totalItems"in e&&n(6,c=e.totalItems)},[s,r,i,o,a,l,c,function(t){oe.call(this,e,t)},function(t){oe.call(this,e,t)},function(t){oe.call(this,e,t)}]}class Ri extends qe{constructor(e){super(),Me(this,e,Li,Ai,a,{filter:0,title:1,items:2,folderId:3,page:4,totalPages:5,totalItems:6})}}function Oi(e){let t,n,s,r,i,o,a=e[0].Name+"";return{c(){t=A("p"),n=L("Are you sure you want to remove "),s=A("strong"),r=L(a),i=R(),o=A("div"),o.innerHTML='<div class="input-group-prepend"><label for="sysdel" class="input-group-text del-label svelte-h81hyi">Delete From System</label></div> \n            <input id="sysdel" type="checkbox" class="svelte-h81hyi"/> \n            <label for="sysdel" class="form-control svelte-h81hyi"><i class="fas fa-times svelte-h81hyi"></i></label>',q(s,"class","svelte-h81hyi"),q(o,"class","input-group")},m(e,a){E(e,t,a),I(t,n),I(t,s),I(s,r),E(e,i,a),E(e,o,a)},p(e,t){1&t&&a!==(a=e[0].Name+"")&&D(r,a)},d(e){e&&N(t),e&&N(i),e&&N(o)}}}function Pi(e){let t,n,s,r,i;return{c(){t=A("div"),n=A("div"),n.innerHTML='<label for="Name" class="input-group-text svelte-h81hyi">Name</label>',s=R(),r=A("input"),q(n,"class","input-group-prepend"),q(r,"type","text"),q(r,"name","Name"),q(r,"class","form-control"),r.value=i=e[0].Name,q(t,"class","input-group")},m(e,i){E(e,t,i),I(t,n),I(t,s),I(t,r)},p(e,t){1&t&&i!==(i=e[0].Name)&&r.value!==i&&(r.value=i)},d(e){e&&N(t)}}}function ji(e){let t,n,s,r,o,a,l,c,u,d,f,p,h,m,g,v,y,$,b,w,k,x=e[1].title+"",_=(e[1].error||"")+"",T=e[1].Del?"Remove":"Update";function C(e,t){return e[1].Del?Oi:Pi}let S=C(e),O=S(e);return{c(){t=A("div"),n=A("div"),s=A("div"),r=A("h3"),o=L(x),a=R(),l=A("form"),c=A("div"),O.c(),u=R(),d=A("div"),f=L(_),p=R(),h=A("div"),m=A("button"),m.textContent="Cancel",g=R(),v=A("button"),y=L(T),q(s,"class","modal-header"),q(c,"class","modal-body"),q(d,"class","error svelte-h81hyi"),q(m,"type","button"),q(m,"class","btn"),q(v,"type","submit"),q(v,"class","btn"),q(h,"class","modal-footer"),q(l,"action","#"),q(n,"class","modal card"),q(t,"class","modal-container")},m(i,$){E(i,t,$),I(t,n),I(n,s),I(s,r),I(r,o),I(n,a),I(n,l),I(l,c),O.m(c,null),I(l,u),I(l,d),I(d,f),I(l,p),I(l,h),I(h,m),I(h,g),I(h,v),I(v,y),b=!0,w||(k=[P(m,"click",e[3]),P(l,"submit",j(e[2]))],w=!0)},p(e,[t]){(!b||2&t)&&x!==(x=e[1].title+"")&&D(o,x),S===(S=C(e))&&O?O.p(e,t):(O.d(1),O=S(e),O&&(O.c(),O.m(c,null))),(!b||2&t)&&_!==(_=(e[1].error||"")+"")&&D(f,_),(!b||2&t)&&T!==(T=e[1].Del?"Remove":"Update")&&D(y,T)},i(e){b||(pe((()=>{$||($=Se(n,si,{duration:200},!0)),$.run(1)})),b=!0)},o(e){$||($=Se(n,si,{duration:200},!1)),$.run(0),b=!1},d(e){e&&N(t),O.d(),e&&$&&$.end(),w=!1,i(k)}}}function Mi(e,t,n){let{file:s}=t,{modalType:r}=t;return e.$$set=e=>{"file"in e&&n(0,s=e.file),"modalType"in e&&n(1,r=e.modalType)},[s,r,function(t){oe.call(this,e,t)},function(t){oe.call(this,e,t)}]}class qi extends qe{constructor(e){super(),Me(this,e,Mi,ji,a,{file:0,modalType:1})}}function Fi(e){let t,n;return t=new qi({props:{file:e[6],modalType:e[8]}}),t.$on("submit",e[12]),t.$on("click",e[13]),{c(){Re(t.$$.fragment)},m(e,s){Oe(t,e,s),n=!0},p(e,n){const s={};64&n&&(s.file=e[6]),256&n&&(s.modalType=e[8]),t.$set(s)},i(e){n||(Ie(t.$$.fragment,e),n=!0)},o(e){Te(t.$$.fragment,e),n=!1},d(e){Pe(t,e)}}}function Bi(e){let t,n,s,r=e[7]&&Fi(e);return n=new Ri({props:{title:"Folders",folderId:e[2],items:e[5],page:e[0],totalPages:e[3],totalItems:e[4],filter:e[1]}}),n.$on("filter",e[9]),n.$on("gotopage",e[10]),n.$on("click",e[11]),{c(){r&&r.c(),t=R(),Re(n.$$.fragment)},m(e,i){r&&r.m(e,i),E(e,t,i),Oe(n,e,i),s=!0},p(e,[s]){e[7]?r?(r.p(e,s),128&s&&Ie(r,1)):(r=Fi(e),r.c(),Ie(r,1),r.m(t.parentNode,t)):r&&(xe(),Te(r,1,1,(()=>{r=null})),_e());const i={};4&s&&(i.folderId=e[2]),32&s&&(i.items=e[5]),1&s&&(i.page=e[0]),8&s&&(i.totalPages=e[3]),16&s&&(i.totalItems=e[4]),2&s&&(i.filter=e[1]),n.$set(i)},i(e){s||(Ie(r),Ie(n.$$.fragment,e),s=!0)},o(e){Te(r),Te(n.$$.fragment,e),s=!1},d(e){r&&r.d(e),e&&N(t),Pe(n,e)}}}function Di(e,t,n){const s=se(),r=ie("socket");let{page:i=1}=t,{filter:o=""}=t,{folderId:a}=t,l=1,c=0,u=[],d={},f=!1,p={};const h=async e=>{let{data:t}=await xs.get(`/api/admin/folders/${e}/${gi()}/${o||""}`);if(t.folders){let r=t.folders[0];n(2,a=r?r.Id:""),n(5,u=t.folders),n(3,l=t.totalPages),n(4,c=t.totalItems),n(0,i=e),s("folderid",a),We(`/folders/${e}/${o||""}`)}};te((()=>{h(i),r.on("folder-renamed",(e=>{e.success&&(n(6,d.Name=e.Name,d),n(5,u),m())})),r.on("folder-removed",(e=>{e.success&&(h(i),m())}))})),ne((()=>{delete r._callbacks["$folder-renamed"],delete r._callbacks["$folder-removed"]}));const m=()=>{n(7,f=!1),n(6,d={})};return e.$$set=e=>{"page"in e&&n(0,i=e.page),"filter"in e&&n(1,o=e.filter),"folderId"in e&&n(2,a=e.folderId)},[i,o,a,l,c,u,d,f,p,e=>{n(1,o=e.detail),h(1)},e=>{var t,n,s;(e=parseInt(e.detail))<1||e>l||h((t=e,n=1,s=l,Math.min(Math.max(t,n),s)))},({target:e})=>{let t=e;if("LI"===t.tagName)n(2,a=t.id),s("folderid",a);else{n(6,d=u.find((e=>e.Id===t.closest("li").id)));let e=t.classList.toString();/fa-edit/gi.test(e)?(n(8,p={title:"Edit Folder",Del:!1}),n(7,f=!0)):/fa-trash-alt/gi.test(e)?(n(8,p={title:"Remove Folder",Del:!0}),n(7,f=!0)):r.emit("scan-dir",{Id:d.Id,isFolder:!0})}},e=>{if(p.Del){let t=e.target.querySelector("input").checked;r.emit("remove-folder",{Id:d.Id,Del:t})}else{let t=e.target.querySelector("input").value;t?r.emit("rename-folder",{Id:d.Id,Name:t}):n(8,p.error="Name Can't be empty",p)}},m]}class Hi extends qe{constructor(e){super(),Me(this,e,Di,Bi,a,{page:0,filter:1,folderId:2})}}function Ui(e){let t,n;return t=new qi({props:{file:e[5],modalType:e[7]}}),t.$on("submit",e[11]),t.$on("click",e[12]),{c(){Re(t.$$.fragment)},m(e,s){Oe(t,e,s),n=!0},p(e,n){const s={};32&n&&(s.file=e[5]),128&n&&(s.modalType=e[7]),t.$set(s)},i(e){n||(Ie(t.$$.fragment,e),n=!0)},o(e){Te(t.$$.fragment,e),n=!1},d(e){Pe(t,e)}}}function zi(e){let t,n,s,r=e[6]&&Ui(e);return n=new Ri({props:{title:"Files",folderId:"",items:e[4],page:e[0],totalPages:e[1],totalItems:e[2],filter:e[3]}}),n.$on("filter",e[8]),n.$on("gotopage",e[9]),n.$on("click",e[10]),{c(){r&&r.c(),t=R(),Re(n.$$.fragment)},m(e,i){r&&r.m(e,i),E(e,t,i),Oe(n,e,i),s=!0},p(e,[s]){e[6]?r?(r.p(e,s),64&s&&Ie(r,1)):(r=Ui(e),r.c(),Ie(r,1),r.m(t.parentNode,t)):r&&(xe(),Te(r,1,1,(()=>{r=null})),_e());const i={};16&s&&(i.items=e[4]),1&s&&(i.page=e[0]),2&s&&(i.totalPages=e[1]),4&s&&(i.totalItems=e[2]),8&s&&(i.filter=e[3]),n.$set(i)},i(e){s||(Ie(r),Ie(n.$$.fragment,e),s=!0)},o(e){Te(r),Te(n.$$.fragment,e),s=!1},d(e){r&&r.d(e),e&&N(t),Pe(n,e)}}}function Vi(e,t,n){const s=ie("socket");let r,i,{folderId:o}=t,a=o,l=1,c="",u=[],d={},f=!1,p={};const h=async e=>{let t=gi(),{data:s}=await xs.get(`/api/admin/folders/files/${o}/${e}/${t}/${c||""}`);s.files&&(n(4,u=s.files),n(1,r=s.totalPages),n(2,i=s.totalItems),n(0,l=e))};te((async()=>{h(1),s.on("file-renamed",(e=>{e.success&&(n(5,d.Name=e.Name,d),n(4,u),m())})),s.on("file-removed",(e=>{e.success&&(l===r&&u.length>1?n(4,u=u.filter((e=>e.Id!==d.Id))):(n(0,l=l>1?l-1:l),h(l)),m())}))})),ne((()=>{delete s._callbacks["$file-renamed"],delete s._callbacks["$file-removed"]}));const m=()=>{n(6,f=!1),n(5,d={})};return e.$$set=e=>{"folderId"in e&&n(13,o=e.folderId)},e.$$.update=()=>{8192&e.$$.dirty&&o!==a&&h(1)},[l,r,i,c,u,d,f,p,e=>{n(3,c=e.detail),h(1)},e=>{(e=parseInt(e.detail))<1||e>r||(n(0,l=e<1?1:e>r?r:e),h(l))},e=>{let t=e.target;if("LI"!==t.tagName){n(5,d=u.find((e=>e.Id===t.closest("li").id)));let e=t.classList.toString();/fa-edit/gi.test(e)?n(7,p={title:"Edit File",Del:!1,isFile:!0}):n(7,p={title:"Remove File",Del:!0,isFile:!0}),n(6,f=!0)}},e=>{if(p.Del){let t=e.target.querySelector("input").checked;s.emit("remove-file",{Id:d.Id,Del:t})}else{let t=e.target.querySelector("input").value;t?s.emit("rename-file",{Id:d.Id,Name:t}):n(7,p.error="Name Can't be empty",p)}},m,o]}class Wi extends qe{constructor(e){super(),Me(this,e,Vi,zi,a,{folderId:13})}}function Ki(e){let t,n,s,r,i,o;return s=new Hi({props:{page:parseInt(e[1])||1,folderId:e[0],filter:e[2]}}),s.$on("folderid",e[3]),i=new Wi({props:{folderId:e[0]}}),{c(){t=A("div"),n=A("div"),Re(s.$$.fragment),r=R(),Re(i.$$.fragment),q(n,"class","rows svelte-1digf97"),q(t,"class","card bg-dark admin-manager  svelte-1digf97")},m(e,a){E(e,t,a),I(t,n),Oe(s,n,null),I(n,r),Oe(i,n,null),o=!0},p(e,[t]){const n={};2&t&&(n.page=parseInt(e[1])||1),1&t&&(n.folderId=e[0]),4&t&&(n.filter=e[2]),s.$set(n);const r={};1&t&&(r.folderId=e[0]),i.$set(r)},i(e){o||(Ie(s.$$.fragment,e),Ie(i.$$.fragment,e),o=!0)},o(e){Te(s.$$.fragment,e),Te(i.$$.fragment,e),o=!1},d(e){e&&N(t),Pe(s),Pe(i)}}}function Yi(e,t,n){let{page:s}=t,{filter:r}=t,{folderId:i}=t;return e.$$set=e=>{"page"in e&&n(1,s=e.page),"filter"in e&&n(2,r=e.filter),"folderId"in e&&n(0,i=e.folderId)},[i,s,r,e=>{n(0,i=e.detail)}]}class Xi extends qe{constructor(e){super(),Me(this,e,Yi,Ki,a,{page:1,filter:2,folderId:0})}}function Ji(e,t,n){const s=e.slice();return s[8]=t[n].Content,s[9]=t[n].Id,s[10]=t[n].Name,s}function Qi(e){let t,n,s;return n=new to({props:{type:"folder",items:e[8]}}),n.$on("scanDir",e[4]),{c(){t=A("ul"),Re(n.$$.fragment),q(t,"class","tree-node svelte-jlzmny")},m(e,r){E(e,t,r),Oe(n,t,null),s=!0},p(e,t){const s={};1&t&&(s.items=e[8]),n.$set(s)},i(e){s||(Ie(n.$$.fragment,e),s=!0)},o(e){Te(n.$$.fragment,e),s=!1},d(e){e&&N(t),Pe(n)}}}function Gi(e){let t,n,s,r,o,a,l,c,u,d,f,p,h,m,g=e[10]+"",v=e[8].length>0&&Qi(e);return{c(){t=A("li"),n=A("span"),s=A("i"),o=R(),a=L(g),l=R(),c=A("span"),c.textContent="",u=R(),v&&v.c(),d=R(),q(s,"class",r=y(`fa fa-${e[1]} mr-1`)+" svelte-jlzmny"),q(n,"class","dir svelte-jlzmny"),q(c,"class","caret svelte-jlzmny"),q(t,"id",f=e[9]),q(t,"class","tree-item svelte-jlzmny")},m(r,i){E(r,t,i),I(t,n),I(n,s),I(n,o),I(n,a),I(t,l),I(t,c),I(t,u),v&&v.m(t,null),I(t,d),p=!0,h||(m=[P(n,"click",e[3]),P(c,"click",e[2])],h=!0)},p(e,n){(!p||2&n&&r!==(r=y(`fa fa-${e[1]} mr-1`)+" svelte-jlzmny"))&&q(s,"class",r),(!p||1&n)&&g!==(g=e[10]+"")&&D(a,g),e[8].length>0?v?(v.p(e,n),1&n&&Ie(v,1)):(v=Qi(e),v.c(),Ie(v,1),v.m(t,d)):v&&(xe(),Te(v,1,1,(()=>{v=null})),_e()),(!p||1&n&&f!==(f=e[9]))&&q(t,"id",f)},i(e){p||(Ie(v),p=!0)},o(e){Te(v),p=!1},d(e){e&&N(t),v&&v.d(),h=!1,i(m)}}}function Zi(e){let t,n,s=e[0],r=[];for(let t=0;t<s.length;t+=1)r[t]=Gi(Ji(e,s,t));const i=e=>Te(r[e],1,1,(()=>{r[e]=null}));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=O()},m(e,s){for(let t=0;t<r.length;t+=1)r[t].m(e,s);E(e,t,s),n=!0},p(e,[n]){if(15&n){let o;for(s=e[0],o=0;o<s.length;o+=1){const i=Ji(e,s,o);r[o]?(r[o].p(i,n),Ie(r[o],1)):(r[o]=Gi(i),r[o].c(),Ie(r[o],1),r[o].m(t.parentNode,t))}for(xe(),o=s.length;o<r.length;o+=1)i(o);_e()}},i(e){if(!n){for(let e=0;e<s.length;e+=1)Ie(r[e]);n=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)Te(r[e]);n=!1},d(e){S(r,e),e&&N(t)}}}function eo(e,t,n){let{items:s=[]}=t,{type:r}=t,i={};const o=se();return e.$$set=e=>{"items"in e&&n(0,s=e.items),"type"in e&&n(1,r=e.type)},[s,r,e=>{let t=e.target.closest("li"),r=s.find((e=>e.Id.toString()===t.id));0===r.Content.length?xs.post("/api/admin/directories/Content",{Path:r.Path}).then((({data:e})=>{r.Content=e.data,n(0,s)})):(r.Content=[],n(0,s))},e=>{let t=e.target.closest("li");i=s.find((e=>e.Id.toString()===t.id)),o("scanDir",i)},function(t){oe.call(this,e,t)}]}class to extends qe{constructor(e){super(),Me(this,e,eo,Zi,a,{items:0,type:1})}}function no(e){let t,n,s,r,a,l,c,u,d,f,p,h,m,g,v,$,b,w,k,x,_,T,C,S,L,O,j,M,F;return{c(){t=A("div"),n=A("div"),s=A("div"),s.innerHTML="<h3>Create</h3>",r=R(),a=A("div"),l=A("div"),c=A("div"),c.innerHTML='<label for="Name" class="input-group-text svelte-1xqug3q">Type</label>',u=R(),d=A("select"),f=A("option"),f.textContent="Mangas",p=A("option"),p.textContent="Videos",h=R(),m=A("div"),g=A("div"),g.innerHTML='<label for="is-adult" class="input-group-text svelte-1xqug3q">Is Adult</label>',v=R(),$=A("input"),b=R(),w=A("label"),k=A("span"),_=R(),T=A("div"),C=A("button"),C.textContent="Cancel",S=R(),L=A("button"),L.textContent="Create",q(s,"class","modal-header"),q(c,"class","input-group-prepend"),f.__value="Mangas",f.value=f.__value,p.__value="Videos",p.value=p.__value,q(d,"class","form-control"),q(d,"name","Type"),void 0===e[1]&&pe((()=>e[5].call(d))),q(l,"class","input-group"),q(g,"class","input-group-prepend"),q($,"id","is-adult"),q($,"type","checkbox"),q($,"class","svelte-1xqug3q"),q(k,"class",x=y("ad-icon fas fa-"+(e[2]?"check":"times"))+" svelte-1xqug3q"),q(w,"id","check-icon"),q(w,"for","is-adult"),q(w,"class","form-control svelte-1xqug3q"),q(m,"class","input-group"),q(a,"class","modal-body"),q(C,"class","btn"),q(L,"class","btn"),q(T,"class","modal-footer"),q(n,"class","modal card svelte-1xqug3q"),q(t,"class","modal-container")},m(i,y){E(i,t,y),I(t,n),I(n,s),I(n,r),I(n,a),I(a,l),I(l,c),I(l,u),I(l,d),I(d,f),I(d,p),z(d,e[1]),I(a,h),I(a,m),I(m,g),I(m,v),I(m,$),$.checked=e[2],I(m,b),I(m,w),I(w,k),I(n,_),I(n,T),I(T,C),I(T,S),I(T,L),j=!0,M||(F=[P(d,"change",e[5]),P($,"change",e[6]),P(C,"click",(function(){o(e[0])&&e[0].apply(this,arguments)})),P(L,"click",e[3])],M=!0)},p(t,[n]){e=t,2&n&&z(d,e[1]),4&n&&($.checked=e[2]),(!j||4&n&&x!==(x=y("ad-icon fas fa-"+(e[2]?"check":"times"))+" svelte-1xqug3q"))&&q(k,"class",x)},i(e){j||(pe((()=>{O||(O=Se(n,si,{duration:200},!0)),O.run(1)})),j=!0)},o(e){O||(O=Se(n,si,{duration:200},!1)),O.run(0),j=!1},d(e){e&&N(t),e&&O&&O.end(),M=!1,i(F)}}}function so(e,t,n){let{createDirectory:s}=t,{hideModal:r}=t,i="Mangas",o=!1;return e.$$set=e=>{"createDirectory"in e&&n(4,s=e.createDirectory),"hideModal"in e&&n(0,r=e.hideModal)},[r,i,o,()=>{s(i,o)},s,function(){i=V(this),n(1,i)},function(){o=this.checked,n(2,o)}]}class ro extends qe{constructor(e){super(),Me(this,e,so,no,a,{createDirectory:4,hideModal:0})}}function io(t){let n,s;return n=new ro({props:{createDirectory:t[3],hideModal:t[4]}}),{c(){Re(n.$$.fragment)},m(e,t){Oe(n,e,t),s=!0},p:e,i(e){s||(Ie(n.$$.fragment,e),s=!0)},o(e){Te(n.$$.fragment,e),s=!1},d(e){Pe(n,e)}}}function oo(e){let t,n,s,r,i,o,a=e[1]&&io(e);return i=new to({props:{type:"hdd",items:e[0]}}),i.$on("scanDir",e[2]),{c(){a&&a.c(),t=R(),n=A("div"),n.innerHTML='<i class="fas fa-server"></i> \n  <span class="tree-name">Server</span>',s=R(),r=A("ul"),Re(i.$$.fragment),q(n,"class","tree-title"),q(r,"class","tree-view svelte-1kc7hqf")},m(e,l){a&&a.m(e,l),E(e,t,l),E(e,n,l),E(e,s,l),E(e,r,l),Oe(i,r,null),o=!0},p(e,[n]){e[1]?a?(a.p(e,n),2&n&&Ie(a,1)):(a=io(e),a.c(),Ie(a,1),a.m(t.parentNode,t)):a&&(xe(),Te(a,1,1,(()=>{a=null})),_e());const s={};1&n&&(s.items=e[0]),i.$set(s)},i(e){o||(Ie(a),Ie(i.$$.fragment,e),o=!0)},o(e){Te(a),Te(i.$$.fragment,e),o=!1},d(e){a&&a.d(e),e&&N(t),e&&N(n),e&&N(s),e&&N(r),Pe(i)}}}function ao(e,t,n){const s=ie("socket");let r=[],i=!1,o={};const a=()=>{n(1,i=!1),o={}};return te((()=>{s.on("disk-loaded",(e=>{n(0,r=e)})),s.emit("load-disks")})),ne((()=>{delete s._callbacks["$disk-loaded"]})),[r,i,({detail:e})=>{o=e,n(1,i=!0)},(e,t)=>{s.emit("scan-dir",{Path:o.Path,Type:e,IsAdult:t}),a()},a]}class lo extends qe{constructor(e){super(),Me(this,e,ao,oo,a,{})}}function co(e,t,n){const s=e.slice();return s[5]=t[n].Id,s[6]=t[n].Name,s[7]=t[n].IsLoading,s[8]=t[n].FullPath,s[9]=t[n].Type,s}function uo(e){let t,n=e[0],s=[];for(let t=0;t<n.length;t+=1)s[t]=po(co(e,n,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=O()},m(e,n){for(let t=0;t<s.length;t+=1)s[t].m(e,n);E(e,t,n)},p(e,r){if(13&r){let i;for(n=e[0],i=0;i<n.length;i+=1){const o=co(e,n,i);s[i]?s[i].p(o,r):(s[i]=po(o),s[i].c(),s[i].m(t.parentNode,t))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}},d(e){S(s,e),e&&N(t)}}}function fo(t){let n;return{c(){n=A("tr"),n.innerHTML='<td colspan="4">Not Directory Added</td>',q(n,"class","text-center")},m(e,t){E(e,n,t)},p:e,d(e){e&&N(n)}}}function po(e){let t,n,s,r,o,a,l,c,u,d,f,p,h,m,g,v,$,b,w,k,x,_=e[6]+"",T=e[9]+"",C=e[8]+"";return{c(){t=A("tr"),n=A("td"),s=A("span"),r=A("i"),a=R(),l=A("span"),l.innerHTML='<i class="fas fa-trash-alt"></i>',c=R(),u=A("td"),d=L(_),f=R(),p=A("td"),h=L(T),m=R(),g=A("td"),v=L(C),$=R(),q(r,"class",o=y("fas fa-sync"+(e[7]?" fa-spin":""))+" svelte-te2s82"),q(s,"class","dir-sync"),q(l,"class","dir-remove ml-2"),q(t,"id",b=e[5]),q(t,"key",w=e[5])},m(i,o){E(i,t,o),I(t,n),I(n,s),I(s,r),I(n,a),I(n,l),I(t,c),I(t,u),I(u,d),I(t,f),I(t,p),I(p,h),I(t,m),I(t,g),I(g,v),I(t,$),k||(x=[P(s,"click",e[3]),P(l,"click",e[2])],k=!0)},p(e,n){1&n&&o!==(o=y("fas fa-sync"+(e[7]?" fa-spin":""))+" svelte-te2s82")&&q(r,"class",o),1&n&&_!==(_=e[6]+"")&&D(d,_),1&n&&T!==(T=e[9]+"")&&D(h,T),1&n&&C!==(C=e[8]+"")&&D(v,C),1&n&&b!==(b=e[5])&&q(t,"id",b),1&n&&w!==(w=e[5])&&q(t,"key",w)},d(e){e&&N(t),k=!1,i(x)}}}function ho(t){let n,s,r,i,o,a,l;function c(e,t){return e[0].length<0?fo:uo}let u=c(t),d=u(t);return{c(){n=A("div"),s=L(t[1]),r=R(),i=A("table"),o=A("thead"),o.innerHTML="<tr><th>Actions</th> \n      <th>Name</th> \n      <th>Type</th> \n      <th>Full Path</th></tr>",a=R(),l=A("tbody"),d.c(),q(n,"class","message svelte-te2s82"),q(i,"id","dir-list"),q(i,"class","table table-dark table-hover table-bordered")},m(e,t){E(e,n,t),I(n,s),E(e,r,t),E(e,i,t),I(i,o),I(i,a),I(i,l),d.m(l,null)},p(e,[t]){2&t&&D(s,e[1]),u===(u=c(e))&&d?d.p(e,t):(d.d(1),d=u(e),d&&(d.c(),d.m(l,null)))},i:e,o:e,d(e){e&&N(n),e&&N(r),e&&N(i),d.d()}}}function mo(e,t,n){const s=ie("socket");let r=[],i="";te((async()=>{let e=await xs.get("/api/admin/directories");n(0,r=e.data),s.on("scan-finish",(({id:e})=>{if(e){r.find((t=>t.Id===e)).IsLoading=!1,n(0,r)}})),s.on("scan-info",(e=>{console.log(e)}))})),ne((()=>{delete s._callbacks["$scan-finish"],delete s._callbacks["$scan-info"]}));return[r,i,e=>{let t=e.target.closest("tr");t&&xs.delete("/api/admin/directories/remove",{data:{Id:t.id}}).then((({data:e})=>{e.removed?(n(0,r=r.filter((e=>e.Id!==t.id))),n(0,r)):n(1,i=e.msg)}))},e=>{let t=e.target.closest("tr"),i=r.find((e=>e.Id===t.id));s.emit("scan-dir",{Id:i.Id}),i.IsLoading=!0,n(0,r)}]}class go extends qe{constructor(e){super(),Me(this,e,mo,ho,a,{})}}function vo(e){let t,n,s,r,i;return n=new lo({}),{c(){t=A("div"),Re(n.$$.fragment),q(t,"id","tabs-content"),q(t,"class","svelte-1crvm1x")},m(e,s){E(e,t,s),Oe(n,t,null),i=!0},i(e){i||(Ie(n.$$.fragment,e),pe((()=>{r&&r.end(1),s=Ee(t,ri,{y:200,duration:200}),s.start()})),i=!0)},o(e){Te(n.$$.fragment,e),s&&s.invalidate(),r=Ne(t,ri,{y:200,duration:200}),i=!1},d(e){e&&N(t),Pe(n),e&&r&&r.end()}}}function yo(e){let t,n,s,r,i;return n=new go({}),{c(){t=A("div"),Re(n.$$.fragment),q(t,"id","tabs-content"),q(t,"class","svelte-1crvm1x")},m(e,s){E(e,t,s),Oe(n,t,null),i=!0},i(e){i||(Ie(n.$$.fragment,e),pe((()=>{r&&r.end(1),s=Ee(t,ri,{y:200,duration:200}),s.start()})),i=!0)},o(e){Te(n.$$.fragment,e),s&&s.invalidate(),r=Ne(t,ri,{y:200,duration:200}),i=!1},d(e){e&&N(t),Pe(n),e&&r&&r.end()}}}function $o(e){let t,n,s,r,o,a,l,c,u,d,f,p,h,m,g,v,y,$;const b=[yo,vo],w=[];function k(e,t){return 1&t&&(h=null),null==h&&(h=!!e[0].includes("tab-1")),h?0:1}return m=k(e,-1),g=w[m]=b[m](e),{c(){t=A("div"),n=A("div"),s=A("div"),r=A("input"),o=R(),a=A("label"),a.innerHTML='<i class="fas fa-folder svelte-1crvm1x"></i> \n        <span id="dirs" class="svelte-1crvm1x">Directories</span>',l=R(),c=A("div"),u=A("input"),d=R(),f=A("label"),f.innerHTML='<div class="fas fa-hdd svelte-1crvm1x"></div> \n        <span id="disks" class="svelte-1crvm1x">Server</span>',p=R(),g.c(),q(r,"type","radio"),r.__value="tab-1",r.value=r.__value,q(r,"id","tab1"),q(r,"class","svelte-1crvm1x"),e[2][0].push(r),q(a,"class","nav-link svelte-1crvm1x"),q(a,"for","tab1"),q(s,"class","nav-item"),q(u,"type","radio"),u.__value="tab-2",u.value=u.__value,q(u,"id","tab2"),q(u,"class","svelte-1crvm1x"),e[2][0].push(u),q(f,"class","nav-link svelte-1crvm1x"),q(f,"for","tab2"),q(c,"class","nav-item"),q(n,"class","nav nav-tabs controls svelte-1crvm1x"),q(t,"class","card bg-dark text-light admin-manager svelte-1crvm1x")},m(i,h){E(i,t,h),I(t,n),I(n,s),I(s,r),r.checked=r.__value===e[0],I(s,o),I(s,a),I(n,l),I(n,c),I(c,u),u.checked=u.__value===e[0],I(c,d),I(c,f),I(t,p),w[m].m(t,null),v=!0,y||($=[P(r,"change",e[1]),P(u,"change",e[3])],y=!0)},p(e,[n]){1&n&&(r.checked=r.__value===e[0]),1&n&&(u.checked=u.__value===e[0]);let s=m;m=k(e,n),m!==s&&(xe(),Te(w[s],1,1,(()=>{w[s]=null})),_e(),g=w[m],g||(g=w[m]=b[m](e),g.c()),Ie(g,1),g.m(t,null))},i(e){v||(Ie(g),v=!0)},o(e){Te(g),v=!1},d(n){n&&N(t),e[2][0].splice(e[2][0].indexOf(r),1),e[2][0].splice(e[2][0].indexOf(u),1),w[m].d(),y=!1,i($)}}}function bo(e,t,n){let{tab:s="tab-1"}=t;return e.$$set=e=>{"tab"in e&&n(0,s=e.tab)},e.$$.update=()=>{1&e.$$.dirty&&We(`/content-manager/${s||"tab-1"}`,{replace:!0})},[s,function(){s=this.__value,n(0,s)},[[]],function(){s=this.__value,n(0,s)}]}class wo extends qe{constructor(e){super(),Me(this,e,bo,$o,a,{tab:0})}}function ko(e,t,n){const s=e.slice();return s[16]=t[n].Id,s[17]=t[n].Name,s[18]=t[n].Type,s[19]=t[n].Folder,s}function xo(e){let t,n;return t=new qi({props:{file:e[4],modalType:e[6]}}),t.$on("submit",e[10]),t.$on("click",e[11]),{c(){Re(t.$$.fragment)},m(e,s){Oe(t,e,s),n=!0},p(e,n){const s={};16&n&&(s.file=e[4]),64&n&&(s.modalType=e[6]),t.$set(s)},i(e){n||(Ie(t.$$.fragment,e),n=!0)},o(e){Te(t.$$.fragment,e),n=!1},d(e){Pe(t,e)}}}function _o(e){let t,n=e[3],s=[];for(let t=0;t<n.length;t+=1)s[t]=To(ko(e,n,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=O()},m(e,n){for(let t=0;t<s.length;t+=1)s[t].m(e,n);E(e,t,n)},p(e,r){if(520&r){let i;for(n=e[3],i=0;i<n.length;i+=1){const o=ko(e,n,i);s[i]?s[i].p(o,r):(s[i]=To(o),s[i].c(),s[i].m(t.parentNode,t))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}},d(e){S(s,e),e&&N(t)}}}function Io(t){let n;return{c(){n=A("tr"),n.innerHTML='<td colspan="3">No Files Found</td>'},m(e,t){E(e,n,t)},p:e,d(e){e&&N(n)}}}function To(e){let t,n,s,r,i,o,a,l,c,u,d,f,p=e[17]+"",h=e[19].Path+"";return{c(){t=A("tr"),n=A("td"),n.innerHTML='<i class="fas fa-edit svelte-2ttdvu"></i> \n                <i class="fas fa-trash-alt svelte-2ttdvu"></i>',s=R(),r=A("td"),i=L(p),o=R(),a=A("td"),l=L(h),c=R(),q(t,"id",u=e[16])},m(u,p){E(u,t,p),I(t,n),I(t,s),I(t,r),I(r,i),I(t,o),I(t,a),I(a,l),I(t,c),d||(f=P(t,"click",e[9]),d=!0)},p(e,n){8&n&&p!==(p=e[17]+"")&&D(i,p),8&n&&h!==(h=e[19].Path+"")&&D(l,h),8&n&&u!==(u=e[16])&&q(t,"id",u)},d(e){e&&N(t),d=!1,f()}}}function Co(e){let t,n,s,r,i,o,a,l,c,u,d,f,p,h,m,g,v,y=`${e[2]} - Files`,$=e[5]&&xo(e);function b(e,t){return e[3].length<1?Io:_o}r=new $i({}),r.$on("filter",e[7]);let w=b(e),k=w(e);return g=new Ii({props:{page:e[0],totalPages:e[1]}}),g.$on("gotopage",e[8]),{c(){$&&$.c(),t=R(),n=A("div"),s=A("div"),Re(r.$$.fragment),i=R(),o=A("h4"),a=L(y),l=R(),c=A("div"),u=A("table"),d=A("thead"),d.innerHTML="<tr><td>Actions</td> \n          <td>Name</td> \n          <td>Path</td></tr>",f=R(),p=A("tbody"),k.c(),h=R(),m=A("div"),Re(g.$$.fragment),q(o,"class","text-center svelte-2ttdvu"),q(s,"class","controls svelte-2ttdvu"),q(u,"class","table table-bordered table-dark"),q(c,"class","list-container svelte-2ttdvu"),q(m,"class","list-controls svelte-2ttdvu"),q(n,"class","file-list col-6 svelte-2ttdvu")},m(e,y){$&&$.m(e,y),E(e,t,y),E(e,n,y),I(n,s),Oe(r,s,null),I(s,i),I(s,o),I(o,a),I(n,l),I(n,c),I(c,u),I(u,d),I(u,f),I(u,p),k.m(p,null),I(n,h),I(n,m),Oe(g,m,null),v=!0},p(e,[n]){e[5]?$?($.p(e,n),32&n&&Ie($,1)):($=xo(e),$.c(),Ie($,1),$.m(t.parentNode,t)):$&&(xe(),Te($,1,1,(()=>{$=null})),_e()),(!v||4&n)&&y!==(y=`${e[2]} - Files`)&&D(a,y),w===(w=b(e))&&k?k.p(e,n):(k.d(1),k=w(e),k&&(k.c(),k.m(p,null)));const s={};1&n&&(s.page=e[0]),2&n&&(s.totalPages=e[1]),g.$set(s)},i(e){v||(Ie($),Ie(r.$$.fragment,e),Ie(g.$$.fragment,e),v=!0)},o(e){Te($),Te(r.$$.fragment,e),Te(g.$$.fragment,e),v=!1},d(e){$&&$.d(e),e&&N(t),e&&N(n),Pe(r),k.d(),Pe(g)}}}function Eo(e,t,n){const s=ie("socket");let{page:r=1}=t,{filter:i=""}=t,o=0,a=0,l=[],c={},u=!1,d={};const f=async e=>{let{data:t}=await xs.get(`/api/admin/files/${e}/${(()=>{let e=document.querySelector(".list-container")||{};return parseInt(e.offsetHeight/45)-1})()}/${i||""}`);t.files&&(n(3,l=t.files),n(1,o=t.totalPages||0),n(2,a=t.totalItems||0),n(0,r=e))};te((async()=>{f(1),s.on("file-renamed",(e=>{e.success&&(n(4,c.Name=e.Name,c),n(3,l),p())})),s.on("file-removed",(e=>{e.success&&(r===o&&l.length>1?n(3,l=l.filter((e=>e.Id!==c.Id))):(n(0,r=r>1?r-1:r),f(r)),p())}))})),ne((()=>{delete s._callbacks["$file-renamed"],delete s._callbacks["$file-removed"]}));const p=()=>{n(5,u=!1),n(4,c={})};return e.$$set=e=>{"page"in e&&n(0,r=e.page),"filter"in e&&n(12,i=e.filter)},[r,o,a,l,c,u,d,e=>{n(12,i=e.detail),f(1)},e=>{(e=parseInt(e.detail))<1||e>o||(n(0,r=e<1?1:e>o?o:e),f(r))},e=>{let t=e.target;if("I"===t.tagName){n(4,c=l.find((e=>e.Id===t.closest("tr").id)));let e=t.classList.toString();/fa-edit/gi.test(e)?n(6,d={title:"Edit File",Del:!1,isFile:!0}):n(6,d={title:"Remove File",Del:!0,isFile:!0}),n(5,u=!0)}},e=>{if(d.Del){let t=e.target.querySelector("input").checked;s.emit("remove-file",{Id:c.Id,Del:t})}else{let t=e.target.querySelector("input").value;t?s.emit("rename-file",{Id:c.Id,Name:t}):n(6,d.error="Name Can't be empty",d)}},p,i]}class No extends qe{constructor(e){super(),Me(this,e,Eo,Co,a,{page:0,filter:12})}}function So(t){let n,s,r,i,o,a,l,c,u,d,f;return n=new ti({props:{navItems:t[0]}}),n.$on("click",t[1]),i=new ft({props:{path:"/folders/:page/:filter",component:Xi}}),a=new ft({props:{path:"/content-manager/:tab",component:wo}}),c=new ft({props:{path:"/files/:page/:filter",component:No}}),d=new ft({props:{path:"/",component:mi}}),{c(){Re(n.$$.fragment),s=R(),r=A("div"),Re(i.$$.fragment),o=R(),Re(a.$$.fragment),l=R(),Re(c.$$.fragment),u=R(),Re(d.$$.fragment),q(r,"class","content svelte-913v8z")},m(e,t){Oe(n,e,t),E(e,s,t),E(e,r,t),Oe(i,r,null),I(r,o),Oe(a,r,null),I(r,l),Oe(c,r,null),I(r,u),Oe(d,r,null),f=!0},p:e,i(e){f||(Ie(n.$$.fragment,e),Ie(i.$$.fragment,e),Ie(a.$$.fragment,e),Ie(c.$$.fragment,e),Ie(d.$$.fragment,e),f=!0)},o(e){Te(n.$$.fragment,e),Te(i.$$.fragment,e),Te(a.$$.fragment,e),Te(c.$$.fragment,e),Te(d.$$.fragment,e),f=!1},d(e){Pe(n,e),e&&N(s),e&&N(r),Pe(i),Pe(a),Pe(c),Pe(d)}}}function Ao(e){let t,n;return t=new rt({props:{$$slots:{default:[So]},$$scope:{ctx:e}}}),{c(){Re(t.$$.fragment)},m(e,s){Oe(t,e,s),n=!0},p(e,[n]){const s={};4&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ie(t.$$.fragment,e),n=!0)},o(e){Te(t.$$.fragment,e),n=!1},d(e){Pe(t,e)}}}function Lo(e){return[[{title:"Users",path:"/",class:"users"},{title:"Files",path:"/files",class:"file"},{title:"Folders",path:"/folders",class:"folder"},{title:"Content Manager",path:"/content-manager/tab-1",class:"sitemap"}],function(t){oe.call(this,e,t)}]}class Ro extends qe{constructor(e){super(),Me(this,e,Lo,Ao,a,{})}}const Oo=Be([]);function Po(e,t,n){const s=e.slice();return s[10]=t[n].Id,s[11]=t[n].Name,s[12]=t[n].Type,s[13]=t[n].Cover,s[14]=t[n].FileCount,s[15]=t[n].FilesType,s[17]=n,s}function jo(e){let t,n,s,r,o,a,l,u,d,f,p,h,m,g,v,y,$,b,w,k,x,_,T=e[14]+"",C=e[11]+"";return{c(){t=A("div"),n=A("div"),s=A("div"),r=A("span"),r.innerHTML='<i class="fas fa-folder svelte-f0bvf6"></i>',o=R(),a=A("span"),l=L(T),u=R(),d=A("span"),d.innerHTML='<i class="fas fa-trash-alt svelte-f0bvf6"></i>',f=R(),p=A("div"),h=A("img"),g=R(),v=A("div"),y=L(C),$=R(),q(r,"class","file-btn-left"),q(a,"class","file-progress"),q(d,"class","remove"),q(s,"class","file-btns"),c(h.src,m=e[13])||q(h,"src",m),q(h,"alt","No Cover Found"),q(p,"class","file-cover"),q(v,"class","file-name"),q(n,"class","file-info"),q(t,"class","file"),q(t,"id",b=e[10]),q(t,"data-type",w=e[12]),q(t,"data-types",k=e[15]),q(t,"tabindex","0"),W(t,"current",e[17]===e[1])},m(i,c){E(i,t,c),I(t,n),I(n,s),I(s,r),I(s,o),I(s,a),I(a,l),I(s,u),I(s,d),I(n,f),I(n,p),I(p,h),I(n,g),I(n,v),I(v,y),I(t,$),x||(_=[P(r,"click",M(e[4])),P(p,"dblclick",M(e[4]))],x=!0)},p(e,n){1&n&&T!==(T=e[14]+"")&&D(l,T),1&n&&!c(h.src,m=e[13])&&q(h,"src",m),1&n&&C!==(C=e[11]+"")&&D(y,C),1&n&&b!==(b=e[10])&&q(t,"id",b),1&n&&w!==(w=e[12])&&q(t,"data-type",w),1&n&&k!==(k=e[15])&&q(t,"data-types",k),2&n&&W(t,"current",e[17]===e[1])},d(e){e&&N(t),x=!1,i(_)}}}function Mo(t){let n,s,r,o,a,l,c,u,d,f,p,h=t[0],m=[];for(let e=0;e<h.length;e+=1)m[e]=jo(Po(t,h,e));return{c(){n=A("div"),s=A("div"),s.innerHTML='<span class="svelte-f0bvf6"><i class="fas fa-folder svelte-f0bvf6"></i>\n      Recents</span>',r=R(),o=A("div"),a=A("span"),l=R(),c=A("div");for(let e=0;e<m.length;e+=1)m[e].c();u=R(),d=A("span"),q(s,"class","title svelte-f0bvf6"),q(a,"class","fas fa-chevron-circle-left svelte-f0bvf6"),q(c,"class","carousel svelte-f0bvf6"),q(c,"tabindex","0"),q(d,"class","fas fa-chevron-circle-right svelte-f0bvf6"),q(o,"class","wrapper svelte-f0bvf6"),q(n,"class","content svelte-f0bvf6")},m(e,i){E(e,n,i),I(n,s),I(n,r),I(n,o),I(o,a),I(o,l),I(o,c);for(let e=0;e<m.length;e+=1)m[e].m(c,null);t[6](c),I(o,u),I(o,d),f||(p=[P(a,"click",t[3]),P(c,"scroll",t[5]),P(d,"click",t[3])],f=!0)},p(e,[t]){if(19&t){let n;for(h=e[0],n=0;n<h.length;n+=1){const s=Po(e,h,n);m[n]?m[n].p(s,t):(m[n]=jo(s),m[n].c(),m[n].m(c,null))}for(;n<m.length;n+=1)m[n].d(1);m.length=h.length}},i:e,o:e,d(e){e&&N(n),S(m,e),t[6](null),f=!1,i(p)}}}function qo(e,t,n){let s,r=[],i=0;xs.get("/api/files/recents").then((({data:e})=>{e instanceof Array&&n(0,r=e)}));let o;const a=()=>{if(s){let e=document.querySelector(".file");e&&(s.offsetWidth,e.offsetWidth)}};return te((()=>(a(),window.onresize=a,()=>{window.onresize=null}))),[r,i,s,({target:{classList:e}})=>{let t,{scrollLeft:n,offsetWidth:r,scrollWidth:i}=s;e.contains("fa-chevron-circle-left")?(t=n-r,0===n&&(t=i)):(t=n+r,n===i-r&&(t=0)),s.scroll({left:t,behavior:"smooth"})},({target:e})=>{let t=r.find((t=>t.Id===e.closest(".file").id));localStorage.setItem("content","/"),We(`/${t.FilesType}/viewer/${t.Id}/${t.CurrentFile}`)},e=>{o&&clearTimeout(o),o=setTimeout((()=>{let e=document.querySelector(".file");n(1,i=Math.round(s.scrollLeft/e.offsetWidth+.05)),s.scroll({left:i*e.offsetWidth,behavior:"smooth"})}),100)},function(e){le[e?"unshift":"push"]((()=>{s=e,n(2,s)}))}]}class Fo extends qe{constructor(e){super(),Me(this,e,qo,Mo,a,{})}}const Bo=e=>{let t=document.querySelectorAll(".img-current img")[e];t&&t.scrollIntoView()},Do=function(e,t,n,s,r){let i=t<0?0:t,o=[];for(;o.length<n&&!(i>r-1||i<0);)e[i]||o.push(i),i+=s>0?1:-1;return o};function Ho(e){if(0===e)return"00:00";var t=Math.floor(e/3600),n=Math.floor(60*(e/3600-t)),s=Math.floor(e%60);return(0===t?"":t+":")+String(n).padStart(2,"0")+":"+String(s).padStart(2,"0")}const Uo=/(android)|(iphone)/i.test(navigator.userAgent),zo=Uo?15:0,Vo=Uo?170:200,Wo=e=>{let t=document.body.offsetWidth;return parseInt((t-zo)/Vo)*e},Ko={Manga:{type:"mangas",class:"book-open",formatter:(e,t)=>`${parseInt(e||0)+1}/${t}`},Video:{type:"videos",class:"play-circle",formatter:(e,t)=>`${Ho(e)}/${Ho(t)}`},Folder:{type:"folders",class:"folder-open",formatter:()=>""}},Yo=(e,t,n)=>{const s=location.pathname;let r=s.replace(/(^\/+|\/+$)/g,"").split("/")[0];switch(e.dataset.type){case"Manga":case"Video":{let n=s.replace(/(^\/+|\/+$)/g,"").split("/").slice(0,3);n[1]="viewer";let r=`/${n.join("/")}/${e.id}`;localStorage.setItem("content",s),localStorage.setItem("fileId",e.id),We(r),console.log(n[2]),t&&t.emit("recent-folder",{CurrentFile:e.id,FolderId:n[2]});break}default:localStorage.setObject("folder",{folder:e.id,pathname:s}),We(`/${n||r}/content/${e.id}/`)}},Xo=function(e,t,n,s,r){return(e-t)*(r-s)/(n-t)+s};var Jo=0;const Qo=e=>[...document.querySelectorAll(".file")].indexOf(e),Go=e=>{Jo=e;let t=(e=>[...document.querySelectorAll(".file")][e])(e);if(t){let n=t.parentElement,s=n.parentElement,r=s.scrollTop,i=t.offsetTop;i-r+1<-1&&(r=i<60?0:i);let o=i+t.offsetHeight,a=r+s.offsetHeight;o-a+1>0&&(r=o+31>n.offsetHeight?n.offsetHeight-10:r+(o-a)),s.scroll({top:r,behavior:"smooth"});let l=document.querySelector(".file.active");l&&l.classList.remove("active"),t.classList.add("active"),t.focus(),window.localStorage.setItem("selected",e)}return t},Zo=(e,t,n,s)=>{let r=document.querySelector(".file"),i=0;if(r){let o=!1,a=(()=>{let e=document.querySelector(".file");return Math.floor(e.parentElement.offsetWidth/e.offsetWidth)})(),l=document.querySelectorAll(".file").length;switch(Jo=Qo(r.parentElement.querySelector(".active")),e.keyCode){case 13:console.log("file",e.target),s(e.target);break;case 37:Jo>0?Go(Jo-1):n&&(i=Wo(3)-1,n({detail:t-1},i)),o=!0;break;case 38:n&&e.ctrlKey?(i=Wo(3)-1,n({detail:t-1},i)):Jo-a>=0&&Go(Jo-a),o=!0;break;case 39:Jo<l-1?Go(Jo+1):n&&n({detail:parseInt(t)+1},0),o=!0;break;case 40:n&&e.ctrlKey?n({detail:parseInt(t)+1},0):Jo+a<l&&Go(Jo+a),o=!0;break;case 36:Go(0),o=!0;break;case 35:Go(l-1),o=!0}o&&e.preventDefault()}};function ea(e,t,n){const s=e.slice();return s[13]=t[n],s}function ta(e){let t,n;function s(e,n){return 2&n&&(t=null),null==t&&(t=!!e[1].startsWith("favorites")),t?ra:e[2]?sa:na}let r=s(e,-1),i=r(e);return{c(){i.c(),n=O()},m(e,t){i.m(e,t),E(e,n,t)},p(e,t){r===(r=s(e,t))&&i?i.p(e,t):(i.d(1),i=r(e),i&&(i.c(),i.m(n.parentNode,n)))},d(e){i.d(e),e&&N(n)}}}function na(t){let n;return{c(){n=A("i"),q(n,"class","far fa-star")},m(e,s){E(e,n,s),t[10](n)},p:e,d(e){e&&N(n),t[10](null)}}}function sa(t){let n;return{c(){n=A("i"),q(n,"class","fas fa-star")},m(e,t){E(e,n,t)},p:e,d(e){e&&N(n)}}}function ra(t){let n;return{c(){n=A("i"),q(n,"class","fas fa-trash-alt text-danger")},m(e,s){E(e,n,s),t[9](n)},p:e,d(e){e&&N(n),t[9](null)}}}function ia(e){let t,n=e[5],s=[];for(let t=0;t<n.length;t+=1)s[t]=oa(ea(e,n,t));return{c(){t=A("ul");for(let e=0;e<s.length;e+=1)s[e].c();q(t,"class","svelte-5vo8z2")},m(e,n){E(e,t,n);for(let e=0;e<s.length;e+=1)s[e].m(t,null)},p(e,r){if(96&r){let i;for(n=e[5],i=0;i<n.length;i+=1){const o=ea(e,n,i);s[i]?s[i].p(o,r):(s[i]=oa(o),s[i].c(),s[i].m(t,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}},d(e){e&&N(t),S(s,e)}}}function oa(e){let t,n,s,r,i,o=e[13].Name+"";return{c(){t=A("li"),n=L(o),q(t,"id",s=e[13].Id),q(t,"class","svelte-5vo8z2")},m(s,o){E(s,t,o),I(t,n),r||(i=P(t,"click",e[6]),r=!0)},p(e,r){32&r&&o!==(o=e[13].Name+"")&&D(n,o),32&r&&s!==(s=e[13].Id)&&q(t,"id",s)},d(e){e&&N(t),r=!1,i()}}}function aa(t){let n,s,r,i="Folder"===t[0]&&ta(t),o=t[4]&&ia(t);return{c(){n=A("span"),s=A("span"),i&&i.c(),r=R(),o&&o.c(),q(s,"class","fav-icon"),q(n,"class","fav-control svelte-5vo8z2")},m(e,t){E(e,n,t),I(n,s),i&&i.m(s,null),I(n,r),o&&o.m(n,null)},p(e,[t]){"Folder"===e[0]?i?i.p(e,t):(i=ta(e),i.c(),i.m(s,null)):i&&(i.d(1),i=null),e[4]?o?o.p(e,t):(o=ia(e),o.c(),o.m(n,null)):o&&(o.d(1),o=null)},i:e,o:e,d(e){e&&N(n),i&&i.d(),o&&o.d()}}}function la(e,t,n){let s;d(e,Oo,(e=>n(5,s=e)));let{Type:r}=t,{type:i}=t,{isFav:o}=t,{favClicked:a}=t,{favId:l}=t;const c=se();let u,f=!1;return e.$$set=e=>{"Type"in e&&n(0,r=e.Type),"type"in e&&n(1,i=e.type),"isFav"in e&&n(2,o=e.isFav),"favClicked"in e&&n(7,a=e.favClicked),"favId"in e&&n(8,l=e.favId)},e.$$.update=()=>{136&e.$$.dirty&&(a===u&&u?(n(4,f=u.classList.contains("far")),u.classList.contains("fa-trash-alt")&&(async e=>{let{data:t}=await xs.post("/api/files/favorites/remove-folder",{id:l,fid:e});t.removed&&c("removeFile",e)})(u.closest(".file").id)):n(4,f=!1))},[r,i,o,u,f,s,async e=>{let t=e.target.closest(".file").id,s=e.target.id;const{data:r}=await xs.post("/api/files/favorites/add-folder",{FolderId:t,FavoriteId:s});r.success&&n(3,u.className="fas fa-star",u)},a,l,function(e){le[e?"unshift":"push"]((()=>{u=e,n(3,u)}))},function(e){le[e?"unshift":"push"]((()=>{u=e,n(3,u)}))}]}class ca extends qe{constructor(e){super(),Me(this,e,la,aa,a,{Type:0,type:1,isFav:2,favClicked:7,favId:8})}}function ua(e,t,n){const s=e.slice();return s[30]=t[n].Id,s[31]=t[n].Name,s[32]=t[n].Type,s[33]=t[n].Cover,s[34]=t[n].CurrentPos,s[35]=t[n].Duration,s[36]=t[n].isFav,s[37]=t[n].FileCount,s[39]=n,s}function da(t){let n,s,r;return{c(){n=A("button"),n.textContent="Continue",q(n,"class","btn btn-secondary")},m(e,i){E(e,n,i),s||(r=P(n,"click",t[13]),s=!0)},p:e,d(e){e&&N(n),s=!1,r()}}}function fa(e){let t,n=Ko[e[32]].formatter(e[34],e[35])+"";return{c(){t=L(n)},m(e,n){E(e,t,n)},p(e,s){16&s[0]&&n!==(n=Ko[e[32]].formatter(e[34],e[35])+"")&&D(t,n)},d(e){e&&N(t)}}}function pa(e){let t,n=e[37]+"";return{c(){t=L(n)},m(e,n){E(e,t,n)},p(e,s){16&s[0]&&n!==(n=e[37]+"")&&D(t,n)},d(e){e&&N(t)}}}function ha(e){let t,n,s,r,o,a,l,u,d,f,p,h,m,g,v,$,b,w,k,x,_,T,C,S,O,j=e[31]+"";function F(e,t){return 16&t[0]&&(d=null),null==d&&(d=!!e[32].includes("Folder")),d?pa:fa}let B=F(e,[-1,-1]),H=B(e);return p=new ca({props:{isFav:e[36],type:e[3],Type:e[32],favClicked:e[5],favId:e[2]}}),p.$on("removeFile",e[15]),{c(){t=A("div"),n=A("div"),s=A("div"),r=A("span"),o=A("i"),l=R(),u=A("span"),H.c(),f=R(),Re(p.$$.fragment),h=R(),m=A("div"),g=A("img"),$=R(),b=A("div"),w=L(j),k=R(),q(o,"class",a=y("fas fa-"+Ko[e[32]].class)+" svelte-5zjxis"),q(r,"class","file-btn-left svelte-5zjxis"),q(u,"class","file-progress"),q(s,"class","file-btns"),c(g.src,v=e[33])||q(g,"src",v),q(g,"alt","No Cover Found"),q(g,"class","svelte-5zjxis"),q(m,"class","file-cover"),q(b,"class","file-name"),q(n,"class","file-info"),q(t,"class","file svelte-5zjxis"),q(t,"id",x=e[30]),q(t,"data-type",_=e[32]),q(t,"tabindex","0")},m(i,a){E(i,t,a),I(t,n),I(n,s),I(s,r),I(r,o),I(s,l),I(s,u),H.m(u,null),I(s,f),Oe(p,s,null),I(n,h),I(n,m),I(m,g),I(n,$),I(n,b),I(b,w),I(t,k),C=!0,S||(O=[P(r,"click",M(e[11])),P(m,"dblclick",M(e[11]))],S=!0)},p(e,n){(!C||16&n[0]&&a!==(a=y("fas fa-"+Ko[e[32]].class)+" svelte-5zjxis"))&&q(o,"class",a),B===(B=F(e,n))&&H?H.p(e,n):(H.d(1),H=B(e),H&&(H.c(),H.m(u,null)));const s={};16&n[0]&&(s.isFav=e[36]),8&n[0]&&(s.type=e[3]),16&n[0]&&(s.Type=e[32]),32&n[0]&&(s.favClicked=e[5]),4&n[0]&&(s.favId=e[2]),p.$set(s),(!C||16&n[0]&&!c(g.src,v=e[33]))&&q(g,"src",v),(!C||16&n[0])&&j!==(j=e[31]+"")&&D(w,j),(!C||16&n[0]&&x!==(x=e[30]))&&q(t,"id",x),(!C||16&n[0]&&_!==(_=e[32]))&&q(t,"data-type",_)},i(e){C||(Ie(p.$$.fragment,e),T||pe((()=>{T=Ee(t,si,{}),T.start()})),C=!0)},o(e){Te(p.$$.fragment,e),C=!1},d(e){e&&N(t),H.d(),Pe(p),S=!1,i(O)}}}function ma(e){let t,n,s,r,o,a,l,u,d,p,v,$,b,w,k,x=e[4].totalFiles+"",_=e[18]&&function(e){let t,n,s,r,o,a,l,u,d,f,p,h,m,g,v,y,$,b,w,k=e[6].Name+"",x=e[7]&&da(e);return{c(){t=A("div"),n=A("div"),s=A("img"),o=R(),a=A("h4"),l=L(k),u=R(),d=A("div"),x&&x.c(),f=R(),p=A("button"),p.textContent="First",h=R(),m=A("button"),m.textContent="Last",g=R(),v=A("button"),v.textContent="Reset All",y=R(),$=A("button"),$.textContent="Update",c(s.src,r=e[6].Cover)||q(s,"src",r),q(s,"alt","Place Holder"),q(s,"class","svelte-5zjxis"),q(n,"id","img-info"),q(n,"class","svelte-5zjxis"),q(a,"class","svelte-5zjxis"),q(p,"id","first"),q(p,"class","btn btn-secondary"),q(m,"id","last"),q(m,"class","btn btn-secondary"),q(v,"class","btn btn-secondary"),q($,"class","btn btn-secondary"),q(d,"id","btn-bar"),q(t,"id","info"),q(t,"class","svelte-5zjxis")},m(r,i){E(r,t,i),I(t,n),I(n,s),I(t,o),I(t,a),I(a,l),I(t,u),I(t,d),x&&x.m(d,null),I(d,f),I(d,p),I(d,h),I(d,m),I(d,g),I(d,v),I(d,y),I(d,$),b||(w=[P(p,"click",e[12]),P(m,"click",e[12]),P(v,"click",e[17]),P($,"click",e[16])],b=!0)},p(e,t){64&t[0]&&!c(s.src,r=e[6].Cover)&&q(s,"src",r),64&t[0]&&k!==(k=e[6].Name+"")&&D(l,k),e[7]?x?x.p(e,t):(x=da(e),x.c(),x.m(d,f)):x&&(x.d(1),x=null)},d(e){e&&N(t),x&&x.d(),b=!1,i(w)}}}(e),T=e[4].files,C=[];for(let t=0;t<T.length;t+=1)C[t]=ha(ua(e,T,t));const O=e=>Te(C[e],1,1,(()=>{C[e]=null})),j=e[22].default,M=f(j,e,e[21],null);return l=new $i({props:{filter:e[1]}}),l.$on("filter",e[9]),d=new Ii({props:{page:parseInt(e[0]||1),totalPages:e[4].totalPages}}),d.$on("gotopage",e[8]),{c(){t=A("div"),_&&_.c(),n=R(),s=A("div");for(let e=0;e<C.length;e+=1)C[e].c();r=R(),o=A("div"),M&&M.c(),a=R(),Re(l.$$.fragment),u=R(),Re(d.$$.fragment),p=R(),v=A("span"),$=L(x),q(s,"class","files-list svelte-5zjxis"),q(t,"class",y("scroll-container")+" svelte-5zjxis"),W(t,"r-content",e[18]),q(v,"class","items"),q(o,"class","controls svelte-5zjxis")},m(i,c){E(i,t,c),_&&_.m(t,null),I(t,n),I(t,s);for(let e=0;e<C.length;e+=1)C[e].m(s,null);E(i,r,c),E(i,o,c),M&&M.m(o,null),I(o,a),Oe(l,o,null),I(o,u),Oe(d,o,null),I(o,p),I(o,v),I(v,$),b=!0,w||(k=[P(s,"keydown",e[10]),P(s,"click",e[14])],w=!0)},p(e,t){if(e[18]&&_.p(e,t),34876&t[0]){let n;for(T=e[4].files,n=0;n<T.length;n+=1){const r=ua(e,T,n);C[n]?(C[n].p(r,t),Ie(C[n],1)):(C[n]=ha(r),C[n].c(),Ie(C[n],1),C[n].m(s,null))}for(xe(),n=T.length;n<C.length;n+=1)O(n);_e()}M&&M.p&&(!b||2097152&t[0])&&m(M,j,e,e[21],b?h(j,e[21],t,null):g(e[21]),null);const n={};2&t[0]&&(n.filter=e[1]),l.$set(n);const r={};1&t[0]&&(r.page=parseInt(e[0]||1)),16&t[0]&&(r.totalPages=e[4].totalPages),d.$set(r),(!b||16&t[0])&&x!==(x=e[4].totalFiles+"")&&D($,x)},i(e){if(!b){for(let e=0;e<T.length;e+=1)Ie(C[e]);Ie(M,e),Ie(l.$$.fragment,e),Ie(d.$$.fragment,e),b=!0}},o(e){C=C.filter(Boolean);for(let e=0;e<C.length;e+=1)Te(C[e]);Te(M,e),Te(l.$$.fragment,e),Te(d.$$.fragment,e),b=!1},d(e){e&&N(t),_&&_.d(),S(C,e),e&&N(r),e&&N(o),M&&M.d(e),Pe(l),Pe(d),w=!1,i(k)}}}function ga(e,t,n){let s;d(e,jr,(e=>n(20,s=e)));let{$$slots:r={},$$scope:i}=t,{id:o=""}=t,{page:a=1}=t,{filter:l=""}=t,{type:c=""}=t,{title:u=""}=t;const f=ie("socket"),p=ie("logout");let h={files:[],totalPages:0,totalFiles:0},m=0,g=null,v={},y="";const $=xs.CancelToken;let b;const w=async(e=1,t="",s="",r,i)=>{try{b&&b();let o=((e=1,{order:t="nu",items:n},s,r,i,o)=>{let a=0===(n||0)?Wo(3):n;r.includes("content")&&(r=`folder-content/${i}`),s=(s||"").replace("%"," ");let l="";return l=["mangas","videos"].includes(r)?`/api/files/${r}/${o}/${t}/${e}/${a}/${s}`:`/api/files/${r}/${t}/${e}/${a}/${s}`,l})(e,{items:r.items,order:r.order[u]||"nu"},t,i||c,s),{data:a}=await xs.get(o,{cancelToken:new $((function(e){b=e}))});"object"==typeof a?(n(4,h=a),a.files[0]&&n(6,v=a.files[0].Folder),n(7,y=a.currentFile),m=h.files.findIndex((e=>e.Id===y))||0):p()}catch(e){console.log(e)}},k=async(e,t)=>{e=parseInt(e.detail);let{totalPages:n}=h;e<1||e>n||isNaN(e)||(We(`/${c}/${e=e<1?1:e>n?n:e}/${l||""}`),m=t||0)};var x;x=()=>{let e=m,t=localStorage.getItem("fileId"),n=document.getElementById(t);t&&n&&(e=Qo(n),localStorage.removeItem("fileId")),Go(e)},ee().$$.after_update.push(x);let _=location.pathname.includes("content");return e.$$set=e=>{"id"in e&&n(2,o=e.id),"page"in e&&n(0,a=e.page),"filter"in e&&n(1,l=e.filter),"type"in e&&n(3,c=e.type),"title"in e&&n(19,u=e.title),"$$scope"in e&&n(21,i=e.$$scope)},e.$$.update=()=>{524289&e.$$.dirty[0]&&(document.title=`${u} Page ${a||""}`),1048591&e.$$.dirty[0]&&w(a,l,o,s,c),27&e.$$.dirty[0]&&h.totalPages&&parseInt(a)>h.totalPages&&We(`/${c}/${a-1}/${l||""}`)},[a,l,o,c,h,g,v,y,k,e=>{n(1,l=e.detail),We(`/${c}/1/${l||""}`)},e=>{Zo(e,a,k,Yo)},e=>{Yo(e.target.closest(".file"),f)},async({target:{id:e}})=>{const{data:t}=await xs.get(`/api/files/first-last/${e}/${v.Id}`);Yo({id:t.Id,dataset:{type:t.Type}},f)},async()=>{const{data:e}=await xs.get(`/api/files/file-data/${y}`);Yo({id:y,dataset:{type:e.Type}},f)},e=>{let{target:t}=e;(e=>{let t=e.target.closest(".file");Go(Qo(t))})(e),m=Qo(t.closest(".file")),n(5,g=t)},e=>{n(4,h.files=h.files.filter((t=>t.Id!==e.detail)),h),h.totalPages>1?(0===h.files.length&&n(0,a-=1),w(a,l||"",s)):n(4,h)},()=>{f.emit("scan-dir",{Id:v.Id,isFolder:!0})},async()=>{await w(a,l,o,s,c)},_,u,s,i,r]}class va extends qe{constructor(e){super(),Me(this,e,ga,ma,a,{id:2,page:0,filter:1,type:3,title:19},null,[-1,-1])}}function ya(e){let t,n;return t=new va({props:{title:"Mangas",type:`mangas/${e[0]}`,filter:e[2],page:e[1]}}),{c(){Re(t.$$.fragment)},m(e,s){Oe(t,e,s),n=!0},p(e,[n]){const s={};1&n&&(s.type=`mangas/${e[0]}`),4&n&&(s.filter=e[2]),2&n&&(s.page=e[1]),t.$set(s)},i(e){n||(Ie(t.$$.fragment,e),n=!0)},o(e){Te(t.$$.fragment,e),n=!1},d(e){Pe(t,e)}}}function $a(e,t,n){let{dir:s=""}=t,{page:r=1}=t,{filter:i=""}=t;return e.$$set=e=>{"dir"in e&&n(0,s=e.dir),"page"in e&&n(1,r=e.page),"filter"in e&&n(2,i=e.filter)},[s,r,i]}class ba extends qe{constructor(e){super(),Me(this,e,$a,ya,a,{dir:0,page:1,filter:2})}}function wa(e){let t,n;return t=new va({props:{title:"Videos",type:`videos/${e[2]||"0"}`,filter:e[1],page:e[0]}}),{c(){Re(t.$$.fragment)},m(e,s){Oe(t,e,s),n=!0},p(e,[n]){const s={};4&n&&(s.type=`videos/${e[2]||"0"}`),2&n&&(s.filter=e[1]),1&n&&(s.page=e[0]),t.$set(s)},i(e){n||(Ie(t.$$.fragment,e),n=!0)},o(e){Te(t.$$.fragment,e),n=!1},d(e){Pe(t,e)}}}function ka(e,t,n){let{page:s=1}=t,{filter:r=""}=t,{dir:i=""}=t;return e.$$set=e=>{"page"in e&&n(0,s=e.page),"filter"in e&&n(1,r=e.filter),"dir"in e&&n(2,i=e.dir)},[s,r,i]}class xa extends qe{constructor(e){super(),Me(this,e,ka,wa,a,{page:0,filter:1,dir:2})}}function _a(e,t,n){const s=e.slice();return s[11]=t[n],s}function Ia(e){let t,n,s,r,o,a,l,c,u,d,f,p,h,m,g=e[11].Name+"";return{c(){t=A("tr"),n=A("td"),s=L(g),o=R(),a=A("td"),l=A("span"),l.innerHTML='<i class="fas fa-edit svelte-35vezv"></i>',c=R(),u=A("span"),u.innerHTML='<i class="fas fa-trash-alt svelte-35vezv"></i>',d=R(),q(n,"data-title",r=e[11].Name),q(n,"class","svelte-35vezv"),q(a,"class","svelte-35vezv"),q(t,"id",f=e[11].Id),q(t,"class",p=y(e[11].Id===e[0]?"active":"")+" svelte-35vezv")},m(r,i){E(r,t,i),I(t,n),I(n,s),I(t,o),I(t,a),I(a,l),I(a,c),I(a,u),I(t,d),h||(m=[P(n,"click",e[8]),P(l,"click",e[6]),P(u,"click",e[7])],h=!0)},p(e,i){8&i&&g!==(g=e[11].Name+"")&&D(s,g),8&i&&r!==(r=e[11].Name)&&q(n,"data-title",r),8&i&&f!==(f=e[11].Id)&&q(t,"id",f),9&i&&p!==(p=y(e[11].Id===e[0]?"active":"")+" svelte-35vezv")&&q(t,"class",p)},d(e){e&&N(t),h=!1,i(m)}}}function Ta(t){let n,s,r,o,a,l,c,u,d,f,p,h,m,g,v,y,$,b,w,k,x,_,T,C,O,j,M,F,B=(t[2]||"")+"",U=t[3],z=[];for(let e=0;e<U.length;e+=1)z[e]=Ia(_a(t,U,e));return{c(){n=A("div"),s=A("label"),s.innerHTML='<i class="fas fa-heart svelte-35vezv"></i>',r=R(),o=A("input"),a=R(),l=A("div"),c=A("div"),u=A("div"),d=A("div"),f=A("label"),f.innerHTML='<i class="fas fa-save svelte-35vezv"></i>',p=R(),h=A("div"),m=A("input"),g=R(),v=A("span"),v.innerHTML='<i class="fas fa-times-circle svelte-35vezv"></i>',y=R(),$=A("div"),b=R(),w=A("div"),k=L(B),x=R(),_=A("div"),T=A("table"),C=A("thead"),C.innerHTML='<tr class="svelte-35vezv"><th class="svelte-35vezv">Name</th> \n                        <th class="svelte-35vezv">Action</th></tr>',O=R(),j=A("tbody");for(let e=0;e<z.length;e+=1)z[e].c();q(s,"for","show-favs"),q(o,"type","checkbox"),q(o,"id","show-favs"),q(o,"class","svelte-35vezv"),q(f,"for","fav-name"),q(f,"id","addfav"),q(f,"class","input-group-text"),q(m,"name","fav-name"),q(m,"type","text"),q(m,"class","form-control svelte-35vezv"),q(m,"placeholder","New Favorite"),q(v,"class","svelte-35vezv"),q(h,"class","i-control svelte-35vezv"),q(d,"class","input-group-prepend"),q(u,"id","fav-controls"),q($,"class","text-danger"),q(c,"class","modal-title svelte-35vezv"),q(w,"class","errors svelte-35vezv"),q(j,"class","svelte-35vezv"),q(T,"class","table table-bordered bg-light table-hover svelte-35vezv"),q(_,"class","modal-body"),q(l,"id","fav-manager"),q(l,"class","card text-light svelte-35vezv"),q(n,"class","first-controls svelte-35vezv")},m(e,i){E(e,n,i),I(n,s),I(n,r),I(n,o),I(n,a),I(n,l),I(l,c),I(c,u),I(u,d),I(d,f),I(d,p),I(d,h),I(h,m),H(m,t[1].Name),I(h,g),I(h,v),I(c,y),I(c,$),I(l,b),I(l,w),I(w,k),I(l,x),I(l,_),I(_,T),I(T,C),I(T,O),I(T,j);for(let e=0;e<z.length;e+=1)z[e].m(j,null);M||(F=[P(f,"click",t[4]),P(m,"input",t[9]),P(v,"click",t[5])],M=!0)},p(e,[t]){if(2&t&&m.value!==e[1].Name&&H(m,e[1].Name),4&t&&B!==(B=(e[2]||"")+"")&&D(k,B),457&t){let n;for(U=e[3],n=0;n<U.length;n+=1){const s=_a(e,U,n);z[n]?z[n].p(s,t):(z[n]=Ia(s),z[n].c(),z[n].m(j,null))}for(;n<z.length;n+=1)z[n].d(1);z.length=U.length}},i:e,o:e,d(e){e&&N(n),S(z,e),M=!1,i(F)}}}function Ca(e,t,n){let s;d(e,Oo,(e=>n(3,s=e)));let r,{id:i=""}=t,o={};return e.$$set=e=>{"id"in e&&n(0,i=e.id)},e.$$.update=()=>{1&e.$$.dirty&&n(1,o={Name:"",Type:"Manga"})},[i,o,r,s,e=>{o.Type,(async e=>{const{data:t}=await xs.post("/api/files/favorites/add-edit",e);return t.Id&&Oo.update((n=>[...n.filter((t=>t.Id!==e.Id)),t].sort(((e,t)=>e.Name.localeCompare(t.Name))))),t})(o).then((e=>{e.Id!==i&&(We(`/favorites/${e.Id}`),console.log("navegate",e.Id))})),n(2,r="")},()=>{n(1,o={Name:"",Type:"Manga"}),n(2,r="")},e=>{n(1,o=s.find((t=>t.Id===e.target.closest("tr").id))),n(2,r="")},e=>{let t=e.target.closest("tr"),i=t.querySelector("td:nth-child(2)").textContent;(async(e,t)=>{const{data:n}=await xs.delete("/api/files/favorites/remove",{data:{Id:e,Type:t}});return console.log(n),n.removed&&Oo.update((t=>t.filter((t=>t.Id!==e)))),n})(t.id,i).then((e=>{e.removed?We(`/favorites/${s[0].Id}`):n(2,r=e.msg)}))},e=>{We(`/favorites/${e.target.closest("tr").id}`),n(2,r="")},function(){o.Name=this.value,n(1,o),n(0,i)}]}class Ea extends qe{constructor(e){super(),Me(this,e,Ca,Ta,a,{id:0})}}function Na(e){let t,n;return t=new Ea({props:{id:e[2]}}),{c(){Re(t.$$.fragment)},m(e,s){Oe(t,e,s),n=!0},p(e,n){const s={};4&n&&(s.id=e[2]),t.$set(s)},i(e){n||(Ie(t.$$.fragment,e),n=!0)},o(e){Te(t.$$.fragment,e),n=!1},d(e){Pe(t,e)}}}function Sa(e){let t,n;return t=new va({props:{title:"Favorites",type:e[3],filter:e[1],page:e[0],id:e[2],$$slots:{default:[Na]},$$scope:{ctx:e}}}),{c(){Re(t.$$.fragment)},m(e,s){Oe(t,e,s),n=!0},p(e,[n]){const s={};8&n&&(s.type=e[3]),2&n&&(s.filter=e[1]),1&n&&(s.page=e[0]),4&n&&(s.id=e[2]),260&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ie(t.$$.fragment,e),n=!0)},o(e){Te(t.$$.fragment,e),n=!1},d(e){Pe(t,e)}}}function Aa(e,t,n){let s;d(e,Oo,(e=>n(4,s=e)));let{page:r=1}=t,{filter:i=""}=t,{id:o=s[0].Id}=t;ie("User");let a=`favorites/${o}`;return e.$$set=e=>{"page"in e&&n(0,r=e.page),"filter"in e&&n(1,i=e.filter),"id"in e&&n(2,o=e.id)},e.$$.update=()=>{4&e.$$.dirty&&n(3,a=`favorites/${o}`)},[r,i,o,a]}class La extends qe{constructor(e){super(),Me(this,e,Aa,Sa,a,{page:0,filter:1,id:2})}}function Ra(t){let n,s,r;return{c(){n=A("div"),n.innerHTML='<i class="fas fa-arrow-circle-up svelte-1h1xnzm"></i>',q(n,"class","first-controls svelte-1h1xnzm")},m(e,i){E(e,n,i),s||(r=P(n,"click",t[4]),s=!0)},p:e,d(e){e&&N(n),s=!1,r()}}}function Oa(e){let t,n;return t=new va({props:{title:"Content",type:e[3],filter:e[1],page:e[0],id:e[2],$$slots:{default:[Ra]},$$scope:{ctx:e}}}),{c(){Re(t.$$.fragment)},m(e,s){Oe(t,e,s),n=!0},p(e,[n]){const s={};2&n&&(s.filter=e[1]),1&n&&(s.page=e[0]),4&n&&(s.id=e[2]),64&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ie(t.$$.fragment,e),n=!0)},o(e){Te(t.$$.fragment,e),n=!1},d(e){Pe(t,e)}}}function Pa(e,t,n){let{page:s=1}=t,{filter:r=""}=t,{id:i=""}=t,o=window.location.pathname.replace(/(^\/+|\/+$)/g,"").split("/"),a=`${o[0]}/${o[1]}/${i}`;return e.$$set=e=>{"page"in e&&n(0,s=e.page),"filter"in e&&n(1,r=e.filter),"id"in e&&n(2,i=e.id)},[s,r,i,a,()=>{let e=localStorage.getObject("folder");localStorage.setItem("fileId",e.folder),We(e.pathname,{replace:!0})}]}class ja extends qe{constructor(e){super(),Me(this,e,Pa,Oa,a,{page:0,filter:1,id:2})}}function Ma(e,t,n){const s=e.slice();return s[20]=t[n].Id,s[21]=t[n].Name,s[22]=t[n].Cover,s[23]=t[n].CurrentPos,s[24]=t[n].Duration,s[25]=t[n].Type,s}function qa(e){let t,n,s,r,i,o,a,l,u,d,f,p,h,m,g,v,$=(e[25].includes("Manga")?`${e[23]+1}/${e[24]}`:Ho(e[24]))+"",b=e[21]+"";return{c(){t=A("li"),n=A("span"),s=A("img"),o=R(),a=A("span"),l=L($),u=R(),d=A("span"),f=L(b),p=R(),q(s,"data-src",r=e[22]),c(s.src,i="")||q(s,"src",""),q(s,"alt",""),q(s,"class","svelte-bfixg2"),q(a,"class","duration svelte-bfixg2"),q(n,"class","cover svelte-bfixg2"),q(d,"class","l-name svelte-bfixg2"),q(t,"id",h=e[20]),q(t,"class",m=y(e[20]===e[1]?"active":"")+" svelte-bfixg2")},m(r,i){E(r,t,i),I(t,n),I(n,s),I(n,o),I(n,a),I(a,l),I(t,u),I(t,d),I(d,f),I(t,p),g||(v=P(t,"click",e[12]),g=!0)},p(e,n){192&n&&r!==(r=e[22])&&q(s,"data-src",r),192&n&&$!==($=(e[25].includes("Manga")?`${e[23]+1}/${e[24]}`:Ho(e[24]))+"")&&D(l,$),192&n&&b!==(b=e[21]+"")&&D(f,b),192&n&&h!==(h=e[20])&&q(t,"id",h),194&n&&m!==(m=y(e[20]===e[1]?"active":"")+" svelte-bfixg2")&&q(t,"class",m)},d(e){e&&N(t),g=!1,v()}}}function Fa(e){let t,n,s;return n=new Ii({props:{page:parseInt(e[5]||1),totalPages:e[4],hideFL:!0}}),n.$on("gotopage",e[9]),{c(){t=A("div"),Re(n.$$.fragment),q(t,"class","b-control svelte-bfixg2")},m(e,r){E(e,t,r),Oe(n,t,null),s=!0},p(e,t){const s={};32&t&&(s.page=parseInt(e[5]||1)),16&t&&(s.totalPages=e[4]),n.$set(s)},i(e){s||(Ie(n.$$.fragment,e),s=!0)},o(e){Te(n.$$.fragment,e),s=!1},d(e){e&&N(t),Pe(n)}}}function Ba(e){let t,n,s,r,o,a,l,c,u,d,f,p,h,m,g,v,$,b,w=e[6].slice(e[7],e[7]+Da),k=[];for(let t=0;t<w.length;t+=1)k[t]=qa(Ma(e,w,t));let x=e[4]>1&&Fa(e);return{c(){t=A("label"),n=A("span"),n.innerHTML='<i class="fas fa-list svelte-bfixg2"></i>',r=R(),o=A("input"),a=R(),l=A("div"),c=A("div"),u=A("input"),d=R(),f=A("span"),f.innerHTML='<i class="fas fa-times-circle svelte-bfixg2"></i>',p=R(),h=A("div"),m=A("ul");for(let e=0;e<k.length;e+=1)k[e].c();g=R(),x&&x.c(),q(n,"class","p-sort svelte-bfixg2"),q(t,"class",s=y("show-list"+(e[3]?"":" move"))+" svelte-bfixg2"),q(t,"for","p-hide"),U(t,"bottom","35px"),q(o,"type","checkbox"),q(o,"id","p-hide"),q(o,"class","svelte-bfixg2"),q(u,"type","text"),q(u,"placeholder","Filter"),q(u,"class","form-control svelte-bfixg2"),q(f,"class","clear-filter svelte-bfixg2"),q(c,"id","v-filter"),q(c,"class","svelte-bfixg2"),q(m,"class","svelte-bfixg2"),q(h,"id","p-list"),q(h,"class","svelte-bfixg2"),q(l,"id","play-list"),q(l,"class","svelte-bfixg2"),W(l,"move",!e[8])},m(s,i){E(s,t,i),I(t,n),E(s,r,i),E(s,o,i),o.checked=e[3],E(s,a,i),E(s,l,i),I(l,c),I(c,u),H(u,e[0].filter),I(c,d),I(c,f),I(l,p),I(l,h),I(h,m);for(let e=0;e<k.length;e+=1)k[e].m(m,null);e[15](h),I(l,g),x&&x.m(l,null),v=!0,$||(b=[P(o,"change",e[13]),P(u,"input",e[14]),P(f,"click",e[10])],$=!0)},p(e,[n]){if((!v||8&n&&s!==(s=y("show-list"+(e[3]?"":" move"))+" svelte-bfixg2"))&&q(t,"class",s),8&n&&(o.checked=e[3]),1&n&&u.value!==e[0].filter&&H(u,e[0].filter),194&n){let t;for(w=e[6].slice(e[7],e[7]+Da),t=0;t<w.length;t+=1){const s=Ma(e,w,t);k[t]?k[t].p(s,n):(k[t]=qa(s),k[t].c(),k[t].m(m,null))}for(;t<k.length;t+=1)k[t].d(1);k.length=w.length}e[4]>1?x?(x.p(e,n),16&n&&Ie(x,1)):(x=Fa(e),x.c(),Ie(x,1),x.m(l,null)):x&&(xe(),Te(x,1,1,(()=>{x=null})),_e()),256&n&&W(l,"move",!e[8])},i(e){v||(Ie(x),v=!0)},o(e){Te(x),v=!1},d(n){n&&N(t),n&&N(r),n&&N(o),n&&N(a),n&&N(l),S(k,n),e[15](null),x&&x.d(),$=!1,i(b)}}}const Da=100;function Ha(e,t,n){let s;d(e,Hr,(e=>n(8,s=e)));const r=se();let i,o,{files:a=[]}=t,{fileId:l}=t,{filters:c={filter:""}}=t,u=!0,f=0,p=1,h=0,m=[];const g=()=>{if(i&&i.disconnect(),o){let e=document.querySelectorAll("#play-list li img");i=new IntersectionObserver((e=>{for(let t of e){let e=t.target;t.isIntersecting?e.src=e.dataset.src:e.src=""}}),{root:o,rootMargin:"1000px",threshold:0}),e.forEach((e=>{i.observe(e)}))}};return e.$$set=e=>{"files"in e&&n(11,a=e.files),"fileId"in e&&n(1,l=e.fileId),"filters"in e&&n(0,c=e.filters)},e.$$.update=()=>{if(12&e.$$.dirty&&!u&&o){let e=document.querySelector("#play-list .active");e&&(o.scroll({top:e.offsetTop-250}),g(),setTimeout((()=>{o.scroll({top:e.offsetTop-250})}),300))}if(2049&e.$$.dirty){c.filter?n(6,m=a.filter((e=>e.Name.toLocaleLowerCase().includes(c.filter.toLocaleLowerCase())))):n(6,m=a);const e=setTimeout((()=>{g(),clearTimeout(e)}),50)}if(2128&e.$$.dirty&&a.length>100&&0===f&&(n(4,f=Math.ceil(m.length/Da)),n(5,p=(()=>{let e=m.findIndex((e=>e.Id===l)),t=1;for(;t*Da<e&&t<f;)t++;return t})())),96&e.$$.dirty){let e=(p-1)*Da;e<m.length?n(7,h=e):n(7,h=0)}},[c,l,o,u,f,p,m,h,s,e=>{(e=parseInt(e.detail))<1||e>f||isNaN(e)||(n(5,p=e<1?1:e>f?f:e),g())},()=>{console.log("dispath-clear"),n(0,c.filter="",c),r("clearfilter")},a,function(t){oe.call(this,e,t)},function(){u=this.checked,n(3,u)},function(){c.filter=this.value,n(0,c)},function(e){le[e?"unshift":"push"]((()=>{o=e,n(2,o)}))}]}class Ua extends qe{constructor(e){super(),Me(this,e,Ha,Ba,a,{files:11,fileId:1,filters:0})}}var za,Va;let Wa,Ka;let Ya=!1;const Xa=()=>{Ya=!0},Ja=()=>{const e=Ka;Wa[e]&&!Wa[e].src?(loadImages(e-1,6),setTimeout((()=>{Bo(e),setTimeout((()=>{clearTimeout(Qa),Ya=!1}),100)}),500)):Ya=!1};let Qa,Ga=!1;const Za=(e,t)=>{t.onmouseup=Ja,t.onmousedown=Xa,Va||(Va=new IntersectionObserver((t=>{if(!Ya&&t.length<Wa.length){let n,s;for(let e of t)if(e.isIntersecting){n=parseInt(e.target.id),s=n<Ka?-1:1;const t=Wa[s+n];t&&!t.src.includes("data:img")&&(Ga=!0)}Ga&&(Ga=!1,Qa&&clearTimeout(Qa),Qa=setTimeout((()=>{e(n,8,s),clearTimeout(Qa)}),50))}}),{root:t,rootMargin:2*window.innerHeight+"px",threshold:0})),Wa.forEach((e=>{Va.observe(e)}))},el=e=>{e.onmousedown=null,e.onmouseup=null,za&&za.disconnect(),Va&&Va.disconnect(),Wa=[],za=null,Va=null,Wa=null,Ka=null};var tl=null;const nl=e=>{try{tl&&"BODY"!==e.tagName?"BODY"===document.fullscreenElement.tagName?document.exitFullscreen().then((()=>{e.requestFullscreen()})):document.exitFullscreen().then((()=>{tl.requestFullscreen()})):document.fullscreenElement?(document.exitFullscreen(),tl=null):(e.requestFullscreen(),"BODY"===e.tagName&&(tl=e))}catch(e){console.log(e)}},sl={PrevFile:{name:"Ins",keyCode:45,isctrl:!0,action:null},NextFile:{name:"Del",keyCode:46,isctrl:!0,action:null},SkipForward:{name:"ArrowRight",keyCode:39,isctrl:!1,action:null},SkipBack:{name:"ArrowLeft",keyCode:37,isctrl:!1,action:null},Fullscreen:{name:"Enter",keyCode:13,isctrl:!1,action:null},VolumeUp:{name:"ArrowUp",keyCode:38,isctrl:!1,action:null},VolumeDown:{name:"ArrowDown",keyCode:40,isctrl:!1,action:null},PlayOrPause:{name:"Space",keyCode:32,isctrl:!1,action:null},ShowList:{name:"L",keyCode:30,isctrl:!1,action:null}},rl=e=>{for(let t of Object.keys(sl))if(sl[t].keyCode===e.keyCode){let{action:n,isctrl:s}=sl[t];n&&e.ctrlKey===s&&n(e.ctrlKey);break}};let il,ol,al={},ll=!1,cl=!1,ul={dis:0,dir:0},dl={dis:0,dir:0},fl={nextPage:"",prevPage:"",nextFile:"",prevFile:""};const pl=e=>{ll=!0,il=e.timeStamp;let{pageX:t,pageY:n}=e.touches&&e.touches[0]||e;al={x:t,y:n}},hl=e=>{if(ll){let{pageX:t,pageY:n}=e.touches[0];dl.dir=t-al.x,ul.dir=n-al.y,ul.dis=Math.abs(ul.dir),dl.dis=Math.abs(dl.dir),cl=!0}},ml=e=>{ll=!1;let{file:{CurrentPos:t,Duration:n},webtoon:s,nextFile:r,nextPage:i,prevFile:o,prevPage:a,fullScreen:l}=fl;if(cl)dl.dis>100?dl.dir>0?a():i():ul.dis>180&&(ul.dir>0?(console.log("down"),s&&0===t&&o()):(console.log("up"),console.log(s,t,n-1),s&&t===n-1&&r()));else{if(ol=e.timeStamp,ol-il>70){let e=window.innerWidth,t=window.innerHeight;al.y<.33*t?al.x<.33*e?console.log("left Y25%"):al.x<.66*e?console.log("center Y25%"):console.log("right Y25%"):al.y<.8*t?al.x<.33*e?(console.log("left Y50%"),i()):al.x<.66*e?(l(),console.log("center Y50%")):(console.log("right Y50%"),i()):al.x<.33*e?o():al.x<.66*e?((async e=>{Hr.update((t=>void 0!==e?e:!t))})(),console.log("center x")):(r(),console.log("right x"))}}cl=!1};function gl(t){let n,s,r,o,a,l,c,u,d,f,p,h,m,g,v,y,$,b,w,k,x,_,T,C,S;return{c(){n=A("label"),n.innerHTML='<i class="fas fa-cog svelte-1frc9ix"></i>',s=R(),r=A("input"),o=R(),a=A("div"),l=A("div"),c=A("div"),c.innerHTML='<label for="img-fill" class="input-group-text svelte-1frc9ix">Ajust Image:</label>',u=R(),d=A("select"),f=A("option"),f.textContent="fill",p=A("option"),p.textContent="cover",h=A("option"),h.textContent="contain",m=R(),g=A("div"),v=A("div"),v.innerHTML='<label for="img-width" class="input-group-text svelte-1frc9ix">Width</label>',y=R(),$=A("input"),w=R(),k=A("div"),x=A("div"),x.innerHTML='<label for="from-start" class="input-group-text svelte-1frc9ix">From Start</label>',_=R(),T=A("input"),q(n,"for","show"),q(n,"class","svelte-1frc9ix"),q(r,"type","checkbox"),q(r,"name",""),q(r,"id","show"),q(r,"class","svelte-1frc9ix"),q(c,"class","input-group-prepend svelte-1frc9ix"),f.__value="fill",f.value=f.__value,q(f,"class","svelte-1frc9ix"),p.__value="cover",p.value=p.__value,q(p,"class","svelte-1frc9ix"),h.__value="contain",h.value=h.__value,q(h,"class","svelte-1frc9ix"),q(d,"id","img-fill"),q(d,"class","form-control svelte-1frc9ix"),void 0===t[2]&&pe((()=>t[14].call(d))),q(l,"class","input-group svelte-1frc9ix"),q(v,"class","input-group-prepend svelte-1frc9ix"),q($,"id","img-width"),q($,"type","number"),q($,"min","30"),q($,"max","100"),q($,"class","form-control svelte-1frc9ix"),q($,"placeholder",b=t[0].width+"%"),q(g,"class","input-group svelte-1frc9ix"),q(x,"class","input-group-prepend svelte-1frc9ix"),q(T,"id","from-start"),q(T,"type","checkbox"),q(T,"class","form-control svelte-1frc9ix"),q(k,"class","input-group svelte-1frc9ix"),q(a,"id","content"),q(a,"class","svelte-1frc9ix"),W(a,"show",t[4])},m(e,i){E(e,n,i),E(e,s,i),E(e,r,i),r.checked=t[4],E(e,o,i),E(e,a,i),I(a,l),I(l,c),I(l,u),I(l,d),I(d,f),I(d,p),I(d,h),z(d,t[2]),I(a,m),I(a,g),I(g,v),I(g,y),I(g,$),H($,t[5]),I(a,w),I(a,k),I(k,x),I(k,_),I(k,T),T.checked=t[3],C||(S=[P(r,"change",t[13]),P(d,"change",t[14]),P($,"blur",t[6]),P($,"focus",t[7]),P($,"change",t[8]),P($,"keydown",M(t[12])),P($,"input",t[15]),P(T,"change",t[16]),P(a,"click",M(j(t[11])))],C=!0)},p(e,[t]){16&t&&(r.checked=e[4]),4&t&&z(d,e[2]),1&t&&b!==(b=e[0].width+"%")&&q($,"placeholder",b),32&t&&B($.value)!==e[5]&&H($,e[5]),8&t&&(T.checked=e[3]),16&t&&W(a,"show",e[4])},i:e,o:e,d(e){e&&N(n),e&&N(s),e&&N(r),e&&N(o),e&&N(a),C=!1,i(S)}}}function vl(t,n,s){let r,i=e,o=()=>(i(),i=u(c,(e=>s(10,r=e))),c);t.$$.on_destroy.push((()=>i()));const a=se();let{config:l={}}=n,{ToggleMenu:c}=n;o();let d=!1,f="",p=l.width,h=l.imgAbjust||"",m=!1;return t.$$set=e=>{"config"in e&&s(0,l=e.config),"ToggleMenu"in e&&o(s(1,c=e.ToggleMenu))},t.$$.update=()=>{8&t.$$.dirty&&(console.log("isF",m),a("fromStart",m)),516&t.$$.dirty&&a("mconfig",{width:p,imgAbjust:h}),1024&t.$$.dirty&&r&&s(4,d=!1)},[l,c,h,m,d,f,()=>{s(5,f="")},()=>{s(5,f=l.width)},()=>{s(9,p=f<30?30:f>100?100:f),s(5,f=p),localStorage.setItem("mWidth",f)},p,r,function(e){oe.call(this,t,e)},function(e){oe.call(this,t,e)},function(){d=this.checked,s(4,d),s(10,r)},function(){h=V(this),s(2,h)},function(){f=B(this.value),s(5,f)},function(){m=this.checked,s(3,m)}]}class yl extends qe{constructor(e){super(),Me(this,e,vl,gl,a,{config:0,ToggleMenu:1})}}function $l(e,t,n){const s=e.slice();return s[40]=t[n],s[42]=n,s}function bl(e){let t,n=Array(e[0].Duration).fill(),s=[];for(let t=0;t<n.length;t+=1)s[t]=kl($l(e,n,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=O()},m(e,n){for(let t=0;t<s.length;t+=1)s[t].m(e,n);E(e,t,n)},p(e,r){if(133&r[0]){let i;for(n=Array(e[0].Duration).fill(),i=0;i<n.length;i+=1){const o=$l(e,n,i);s[i]?s[i].p(o,r):(s[i]=kl(o),s[i].c(),s[i].m(t.parentNode,t))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}},d(e){S(s,e),e&&N(t)}}}function wl(e){let t,n;return{c(){t=A("img"),U(t,"object-fit",e[7].imgAbjust),c(t.src,n=e[2][e[0].CurrentPos]&&"data:img/jpeg;base64, "+e[2][e[0].CurrentPos])||q(t,"src",n),q(t,"alt","Loading..."),W(t,"empty-img",!e[2][e[0].CurrentPos])},m(e,n){E(e,t,n)},p(e,s){128&s[0]&&U(t,"object-fit",e[7].imgAbjust),5&s[0]&&!c(t.src,n=e[2][e[0].CurrentPos]&&"data:img/jpeg;base64, "+e[2][e[0].CurrentPos])&&q(t,"src",n),5&s[0]&&W(t,"empty-img",!e[2][e[0].CurrentPos])},d(e){e&&N(t)}}}function kl(e){let t,n;return{c(){t=A("img"),q(t,"id",e[42]),U(t,"object-fit",e[7].imgAbjust),c(t.src,n=e[2][e[42]]?"data:img/jpeg;base64, "+e[2][e[42]]:"")||q(t,"src",n),q(t,"alt","Loading...r"),q(t,"class","svelte-16u82nq"),W(t,"empty-img",!e[2][e[42]])},m(e,n){E(e,t,n)},p(e,s){128&s[0]&&U(t,"object-fit",e[7].imgAbjust),4&s[0]&&!c(t.src,n=e[2][e[42]]?"data:img/jpeg;base64, "+e[2][e[42]]:"")&&q(t,"src",n),4&s[0]&&W(t,"empty-img",!e[2][e[42]])},d(e){e&&N(t)}}}function xl(e){let t,n,s,r,a,l,c,u,d,f,p,h,m,g,v,$,b,w,k,x,_,T,C,S,O,F,B,H,z,V,K,Y,X,J,Q,G,Z=e[1]?"List":"Pages";function ee(e,t){return e[1]?bl:wl}let te=ee(e),ne=te(e);return K=new yl({props:{config:e[7],ToggleMenu:Hr}}),K.$on("mconfig",e[15]),{c(){t=A("div"),n=A("span"),s=A("i"),r=R(),a=L(e[5]),l=R(),c=A("div"),u=A("div"),ne.c(),f=R(),p=A("div"),h=A("span"),h.innerHTML='<i class="far fa-times-circle popup-msg" data-title="Close"></i>',m=R(),g=A("span"),v=A("input"),$=R(),b=A("label"),w=L(Z),k=R(),x=A("i"),_=R(),T=A("span"),T.innerHTML='<i class="fa fa-arrow-circle-left"></i>',C=R(),S=A("span"),O=A("form"),F=A("input"),B=R(),H=A("span"),H.innerHTML='<i class="fa fa-arrow-circle-right"></i>',z=R(),V=A("span"),Re(K.$$.fragment),Y=R(),X=A("span"),X.innerHTML='<i class="fas fa-expand-arrows-alt popup-msg" data-title="Full Screen"></i>',q(s,"class","fas fa-sticky-note svelte-16u82nq"),q(n,"class","fullscreen-progress svelte-16u82nq"),q(u,"class",d=y("img-current"+(e[1]?" webtoon-img":""))+" svelte-16u82nq"),U(u,"width",e[7].width+"%"),q(u,"tabindex","0"),q(c,"class","viewer"),q(h,"id","hide-player"),q(v,"type","checkbox"),q(v,"name",""),q(v,"id","webtoon"),q(v,"class","svelte-16u82nq"),q(x,"class","fas fa-eye svelte-16u82nq"),q(b,"for","webtoon"),q(b,"class","svelte-16u82nq"),q(g,"class","web-toon"),q(T,"class","prev-page"),q(F,"type","text"),F.value="",q(F,"placeholder",e[5]),q(O,"action",""),q(S,"class","current-page"),q(H,"class","next-page"),q(V,"class","config svelte-16u82nq"),q(X,"class","btn-fullscr"),q(p,"class","controls svelte-16u82nq"),q(t,"id","manga-viewer"),q(t,"tabindex","0"),q(t,"class","svelte-16u82nq"),W(t,"hide",e[8])},m(i,d){E(i,t,d),I(t,n),I(n,s),I(n,r),I(n,a),I(t,l),I(t,c),I(c,u),ne.m(u,null),e[22](u),I(t,f),I(t,p),I(p,h),I(p,m),I(p,g),I(g,v),v.checked=e[1],I(g,$),I(g,b),I(b,w),I(b,k),I(b,x),I(p,_),I(p,T),I(p,C),I(p,S),I(S,O),I(O,F),e[24](F),I(p,B),I(p,H),I(p,z),I(p,V),Oe(K,V,null),I(p,Y),I(p,X),J=!0,Q||(G=[P(u,"touchstart",pl),P(u,"touchend",ml),P(u,"mousedown",pl),P(u,"mouseup",ml),P(u,"touchmove",hl),P(h,"click",e[14]),P(v,"change",e[23]),P(T,"click",e[9]),P(F,"focus",e[11]),P(F,"blur",e[12]),P(F,"keydown",M(e[21])),P(O,"submit",j(e[13])),P(H,"click",e[10]),P(X,"click",(function(){o(e[4].action)&&e[4].action.apply(this,arguments)}))],Q=!0)},p(n,s){e=n,(!J||32&s[0])&&D(a,e[5]),te===(te=ee(e))&&ne?ne.p(e,s):(ne.d(1),ne=te(e),ne&&(ne.c(),ne.m(u,null))),(!J||2&s[0]&&d!==(d=y("img-current"+(e[1]?" webtoon-img":""))+" svelte-16u82nq"))&&q(u,"class",d),(!J||128&s[0])&&U(u,"width",e[7].width+"%"),2&s[0]&&(v.checked=e[1]),(!J||2&s[0])&&Z!==(Z=e[1]?"List":"Pages")&&D(w,Z),(!J||32&s[0])&&q(F,"placeholder",e[5]);const r={};128&s[0]&&(r.config=e[7]),K.$set(r),256&s[0]&&W(t,"hide",e[8])},i(e){J||(Ie(K.$$.fragment,e),J=!0)},o(e){Te(K.$$.fragment,e),J=!1},d(n){n&&N(t),ne.d(),e[22](null),e[24](null),Pe(K),Q=!1,i(G)}}}function _l(e,t,n){let s;d(e,Hr,(e=>n(8,s=e)));let{file:r}=t,{KeyMap:i}=t,{viewer:o}=t;const{NextFile:a,PrevFile:l,Fullscreen:c,SkipForward:u,SkipBack:f}=i,p=ie("socket"),h=se();let m,g,v,y,$=`${r.CurrentPos+1}/${r.Duration}`,b=[r.Duration],w=!1,k=!1,x=!1,_={width:window.innerWidth<600?100:localStorage.getItem("mWidth")||65,imgAbjust:"fill"},I=[];const T=(e,t,s=1)=>{w||(n(20,I=Do(b,e,t,s,r.Duration)),I.length>0?(p.emit("loadzip-image",{Id:r.Id,indices:I}),w=!0):x&&L())};p.on("image-loaded",(e=>{e.last?(w=!1,n(20,I=[]),x&&m&&(x=!1,L(100))):n(2,b[e.page]=e.img,b)}));const C=()=>{let e=r.CurrentPos-1;e>-1?(m?Bo(e):b[e-7]||w||T(e,8,-1),n(0,r.CurrentPos=e,r)):(x=!0,l.action())},E=()=>{let e=r.CurrentPos+1;e<r.Duration?(m?Bo(e):b[e+7]||w||T(e,8),n(0,r.CurrentPos=e,r)):(x=!0,el(v),a.action())},N=()=>{n(6,y.value=r.CurrentPos+1,y)},S=()=>{n(6,y.value="",y)};u.action=E,f.action=C;const A=e=>{n(0,r.CurrentPos=e,r)};let L=(e=0)=>{let t=setTimeout((()=>{Bo(r.CurrentPos),((e,t,n)=>{Wa=t.querySelectorAll("img"),za||(za=new IntersectionObserver((t=>{if(t.length<Wa.length)for(let s of t){let t=s.target;if(s.isIntersecting){e(parseInt(t.id)),Ka=t.id;let s=Wa[Ka];s&&!s.src.includes("data:img")&&n(Ka-3,8,1)}}}),{root:t}),Wa.forEach((e=>{za.observe(e)})))})(A,v,T),Za(T,v,r.CurrentPos),clearTimeout(t)}),e)};c.action=()=>{m?(el(v),nl(o),L(200)):nl(o)};return fl.prevPage=C,fl.nextPage=E,fl.fullScreen=c.action,fl.nextFile=a.action,fl.prevFile=l.action,fl.file=r,ne((()=>{delete p._callbacks["$image-loaded"],el(v)})),e.$$set=e=>{"file"in e&&n(0,r=e.file),"KeyMap"in e&&n(16,i=e.KeyMap),"viewer"in e&&n(17,o=e.viewer)},e.$$.update=()=>{1&e.$$.dirty[0]&&n(5,$=`${parseInt(r.CurrentPos)+1}/${r.Duration}`),1310733&e.$$.dirty[0]&&r.Id!==g&&(x=!0,n(2,b=[]),n(18,g=r.Id),v&&el(v),n(20,I=Do(b,r.CurrentPos-2,8,1,r.Duration)),p.emit("loadzip-image",{Id:r.Id,indices:I}),fl.file=r),524298&e.$$.dirty[0]&&(m?(fl.webtoon=m,k||(n(19,k=!0),L())):k&&(fl.webtoon=m,n(19,k=!1),el(v)))},[r,m,b,v,c,$,y,_,s,C,E,N,S,e=>{let t=parseInt(y.value);if(isNaN(t))return N();!(t<0)&&t>=r.Duration&&r.Duration,n(0,r.CurrentPos=t-1,r),m&&(x=!0,el(v)),T(t-5,10),S()},()=>h("returnBack"),({detail:e})=>{n(7,_=e)},i,o,g,k,I,function(t){oe.call(this,e,t)},function(e){le[e?"unshift":"push"]((()=>{v=e,n(3,v)}))},function(){m=this.checked,n(1,m)},function(e){le[e?"unshift":"push"]((()=>{y=e,n(6,y)}))}]}class Il extends qe{constructor(e){super(),Me(this,e,_l,xl,a,{file:0,KeyMap:16,viewer:17},null,[-1,-1])}}const Tl=e=>({value:8&e}),Cl=e=>({value:e[3].value});function El(e){let t,n,s,r;const i=e[14].default,o=f(i,e,e[13],Cl);return{c(){t=A("span"),n=A("span"),o&&o.c(),q(n,"class","rc-preview-content svelte-hkabeq"),q(t,"class","rc-preview svelte-hkabeq"),q(t,"data-title","00:00"),q(t,"style",s=`left: calc(${e[3].pos}% - ${e[2]&&e[2].offsetWidth/2}px)`)},m(s,i){E(s,t,i),I(t,n),o&&o.m(n,null),e[15](t),r=!0},p(e,n){o&&o.p&&(!r||8200&n)&&m(o,i,e,e[13],r?h(i,e[13],n,Tl):g(e[13]),Cl),(!r||12&n&&s!==(s=`left: calc(${e[3].pos}% - ${e[2]&&e[2].offsetWidth/2}px)`))&&q(t,"style",s)},i(e){r||(Ie(o,e),r=!0)},o(e){Te(o,e),r=!1},d(n){n&&N(t),o&&o.d(n),e[15](null)}}}function Nl(e){let t,n,s,r,o,a,l,c,u,d,f,p=e[0]&&El(e);return{c(){t=A("div"),n=A("div"),s=A("div"),o=R(),a=A("span"),c=R(),p&&p.c(),q(s,"class","rc-progress svelte-hkabeq"),q(s,"style",r=`border-radius: ${100===Math.round(e[4])?"0.3rem":"0.3rem 0px 0px 0.3rem"}; width: ${e[4]>.3?e[4]:0}%`),q(a,"class","rc-thumb svelte-hkabeq"),q(a,"style",l=`left: calc(${e[4]}% - 11px)`),q(n,"id",e[5]),q(n,"class","rc-track svelte-hkabeq"),q(t,"class","rc-slider svelte-hkabeq")},m(r,i){E(r,t,i),I(t,n),I(n,s),I(n,o),I(n,a),I(n,c),p&&p.m(n,null),e[16](n),u=!0,d||(f=[P(a,"mousedown",e[8]),P(n,"mousedown",e[6]),P(n,"touchstart",e[6]),P(n,"mousemove",e[7])],d=!0)},p(e,[t]){(!u||16&t&&r!==(r=`border-radius: ${100===Math.round(e[4])?"0.3rem":"0.3rem 0px 0px 0.3rem"}; width: ${e[4]>.3?e[4]:0}%`))&&q(s,"style",r),(!u||16&t&&l!==(l=`left: calc(${e[4]}% - 11px)`))&&q(a,"style",l),e[0]?p?(p.p(e,t),1&t&&Ie(p,1)):(p=El(e),p.c(),Ie(p,1),p.m(n,null)):p&&(xe(),Te(p,1,1,(()=>{p=null})),_e())},i(e){u||(Ie(p),u=!0)},o(e){Te(p),u=!1},d(n){n&&N(t),p&&p.d(),e[16](null),d=!1,i(f)}}}function Sl(e,t,n){let{$$slots:s={},$$scope:r}=t,{value:i}=t,{preview:o=!1}=t,{min:a=0}=t,{max:l=100}=t,{onChange:c}=t;se();let u,d,f="rc-"+(new Date).getTime(),p=0,h=Xo(i,a,l,0,100),m={is:!1};const g=e=>{if(m.is&&e.target.id===f||"touchmove"===e.type&&e.touches[0].target.id===f){let t;t="touchmove"===e.type?e.touches[0].pageX-e.touches[0].target.getBoundingClientRect().left:e.offsetX,t>0&&t<u.offsetWidth&&v(t)}};document.onmouseup=e=>{m=!1,document.removeEventListener("mousemove",g),document.removeEventListener("touchmove",g)};const v=e=>{let t=Number(Xo(e-1,0,u.offsetWidth-2,a,l).toFixed(2));t=t<0?0:t>l?l:t,c(t)};return e.$$set=e=>{"value"in e&&n(9,i=e.value),"preview"in e&&n(0,o=e.preview),"min"in e&&n(10,a=e.min),"max"in e&&n(11,l=e.max),"onChange"in e&&n(12,c=e.onChange),"$$scope"in e&&n(13,r=e.$$scope)},e.$$.update=()=>{3584&e.$$.dirty&&n(4,h=Xo(i,a,l,0,100))},[o,u,d,p,h,f,e=>{let t;m={is:!0,id:f},"touchstart"===e.type?(t=e.touches[0].pageX-e.touches[0].target.getBoundingClientRect().left,document.addEventListener("touchmove",g)):(t=e.offsetX,document.addEventListener("mousemove",g)),isNaN(t)||v(t)},e=>{if(o){var t=Math.floor(e.pageX-u.getBoundingClientRect().left),s=Xo(t-1,0,u.offsetWidth-2,0,100).toFixed(0);let r=Number(Xo(t-1,0,u.offsetWidth-2,a,l).toFixed(2));n(3,p={pos:s=s<0?0:s>100?100:s,value:r<0?0:r>l?l:r})}},e=>{m={is:!0,id:f},"touchstart"===e.type?document.addEventListener("touchmove",g):document.addEventListener("mousemove",g),e.stopPropagation()},i,a,l,c,r,s,function(e){le[e?"unshift":"push"]((()=>{d=e,n(2,d)}))},function(e){le[e?"unshift":"push"]((()=>{u=e,n(1,u)}))}]}class Al extends qe{constructor(e){super(),Me(this,e,Sl,Nl,a,{value:9,preview:0,min:10,max:11,onChange:12})}}const Ll={startX:0,endPosX:0,startY:0,endY:0,time:0};var Rl=!1,Ol=0,Pl={...Ll};let jl=0;function Ml(e){let t,n,s,r,o,a,l,u,d,f,p,h,m,g,v,$,b,w,k,x,_,T,C,S,O,F,B,H,U,z,V,K,Y,X,J,Q,G,Z,ee,te,ne,se=!0;return m=new Al({props:{min:0,max:e[0].Duration,value:e[0].CurrentPos,onChange:e[10],preview:!0,$$slots:{default:[ql,({value:e})=>({33:e}),({value:e})=>[0,e?4:0]]},$$scope:{ctx:e}}}),{c(){t=A("div"),n=A("div"),s=A("video"),r=A("track"),l=R(),u=A("div"),d=A("div"),f=A("span"),p=L(e[3]),h=R(),Re(m.$$.fragment),g=R(),v=A("div"),$=A("span"),$.innerHTML='<i class="far fa-times-circle svelte-1cmvqct"></i>',b=R(),w=A("span"),w.innerHTML='<i class="far fa-arrow-alt-circle-left svelte-1cmvqct"></i>',k=R(),x=A("label"),_=A("input"),T=R(),C=A("i"),O=R(),F=A("span"),F.innerHTML='<i class="far fa-arrow-alt-circle-right svelte-1cmvqct"></i>',B=R(),H=A("span"),H.innerHTML='<i class="fas fa-expand-arrows-alt svelte-1cmvqct"></i>',U=R(),z=A("span"),V=A("input"),Y=R(),X=A("label"),J=A("input"),G=R(),Z=A("i"),q(r,"kind","captions"),q(s,"class","player svelte-1cmvqct"),c(s.src,o=`/api/viewer/${e[0].Id}`)||q(s,"src",o),q(s,"preload","metadata"),s.controls=!1,s.autoplay=!0,q(s,"poster",a=e[0].Cover),s.loop=!1,q(f,"id","v-progress"),q(f,"class","svelte-1cmvqct"),q(d,"class","v-seeker svelte-1cmvqct"),q($,"class","svelte-1cmvqct"),q(w,"class","prev-page svelte-1cmvqct"),q(_,"type","checkbox"),q(_,"id","v-play"),q(_,"class","svelte-1cmvqct"),q(C,"class",S=y(`far fa-${e[2].pause?"play":"pause"}-circle`)+" svelte-1cmvqct"),q(x,"for","v-play"),q(x,"class","svelte-1cmvqct"),q(F,"class","next-page svelte-1cmvqct"),q(H,"class","svelte-1cmvqct"),q(V,"type","range"),q(V,"min",0),q(V,"max",1),q(V,"step",.05),V.value=K=e[2].volume,q(V,"class","svelte-1cmvqct"),q(J,"id","v-mute"),q(J,"type","checkbox"),q(J,"class","vol-ctrl svelte-1cmvqct"),J.checked=Q=0===e[2].volume,q(Z,"class","fas fa-volume-up popup-msg svelte-1cmvqct"),q(Z,"data-title","Mute"),q(X,"for","v-mute"),q(X,"class","svelte-1cmvqct"),q(z,"class","v-vol svelte-1cmvqct"),q(v,"class","player-btns svelte-1cmvqct"),q(u,"class","player-controls svelte-1cmvqct"),q(n,"class","player-content svelte-1cmvqct"),q(t,"class","player-container svelte-1cmvqct"),q(t,"tabindex","0"),W(t,"isFullScreen",e[4])},m(i,o){E(i,t,o),I(t,n),I(n,s),I(s,r),e[24](s),isNaN(e[2].volume)||(s.volume=e[2].volume),I(n,l),I(n,u),I(u,d),I(d,f),I(f,p),I(d,h),Oe(m,d,null),I(u,g),I(u,v),I(v,$),I(v,b),I(v,w),I(v,k),I(v,x),I(x,_),I(x,T),I(x,C),I(v,O),I(v,F),I(v,B),I(v,H),I(v,U),I(v,z),I(z,V),I(z,Y),I(z,X),I(X,J),I(X,G),I(X,Z),e[27](u),ee=!0,te||(ne=[P(s,"play",e[25]),P(s,"pause",e[25]),P(s,"volumechange",e[26]),P(s,"contextmenu",j(e[23])),P(s,"loadedmetadata",e[8]),P(s,"timeupdate",e[16]),P(s,"click",e[18]),P($,"click",e[9]),P(w,"click",e[7].action),P(_,"change",e[17]),P(F,"click",e[6].action),P(H,"click",e[12]),P(V,"input",e[13]),P(J,"change",e[11]),P(u,"mousedown",M(e[22])),P(t,"mousemove",e[14]),P(t,"keydown",e[19]),P(t,"wheel",e[15])],te=!0)},p(e,n){(!ee||1&n[0]&&!c(s.src,o=`/api/viewer/${e[0].Id}`))&&q(s,"src",o),(!ee||1&n[0]&&a!==(a=e[0].Cover))&&q(s,"poster",a),4&n[0]&&se!==(se=e[2].pause)&&s[se?"pause":"play"](),4&n[0]&&!isNaN(e[2].volume)&&(s.volume=e[2].volume),(!ee||8&n[0])&&D(p,e[3]);const r={};1&n[0]&&(r.max=e[0].Duration),1&n[0]&&(r.value=e[0].CurrentPos),12&n[1]&&(r.$$scope={dirty:n,ctx:e}),m.$set(r),(!ee||4&n[0]&&S!==(S=y(`far fa-${e[2].pause?"play":"pause"}-circle`)+" svelte-1cmvqct"))&&q(C,"class",S),(!ee||4&n[0]&&K!==(K=e[2].volume))&&(V.value=K),(!ee||4&n[0]&&Q!==(Q=0===e[2].volume))&&(J.checked=Q),16&n[0]&&W(t,"isFullScreen",e[4])},i(e){ee||(Ie(m.$$.fragment,e),ee=!0)},o(e){Te(m.$$.fragment,e),ee=!1},d(n){n&&N(t),e[24](null),Pe(m),e[27](null),te=!1,i(ne)}}}function ql(e){let t,n=Ho(e[33]+2)+"";return{c(){t=L(n)},m(e,n){E(e,t,n)},p(e,s){4&s[1]&&n!==(n=Ho(e[33]+2)+"")&&D(t,n)},d(e){e&&N(t)}}}function Fl(e){let t,n,s=e[0].Id&&Ml(e);return{c(){s&&s.c(),t=O()},m(e,r){s&&s.m(e,r),E(e,t,r),n=!0},p(e,n){e[0].Id?s?(s.p(e,n),1&n[0]&&Ie(s,1)):(s=Ml(e),s.c(),Ie(s,1),s.m(t.parentNode,t)):s&&(xe(),Te(s,1,1,(()=>{s=null})),_e())},i(e){n||(Ie(s),n=!0)},o(e){Te(s),n=!1},d(e){s&&s.d(e),e&&N(t)}}}function Bl(e,t,n){let{KeyMap:s}=t,{file:r}=t,{viewer:i}=t;const{NextFile:o,PrevFile:a,SkipForward:l,SkipBack:c}=s,u=se();let d,f,p={time:!1,volume:.5,pause:!1,muted:!1},h={},m=!1;const g=()=>{nl(i)},v=()=>n(4,m=null!==document.fullscreenElement);let y;te((()=>((e=>{e&&(e.onmousedown=e.ontouchstart=t=>{if(Rl=!0,jl=t.timeStamp,"mousedown"!==t.type){let{pageX:e,pageY:n}=t.touches[0];Pl={time:jl,startX:e,startY:n}}else 1===t.which&&(e.paused?e.play():e.pause())},e.ontouchmove=t=>{if(Rl){let{pageX:n,pageY:s}=t.touches[0],{startX:r,startY:i}=Pl,o=n-r,a=s-i;if(0===Ol&&(o>10||o<-10)?Ol=1:0===Ol&&(a>10||a<-10)&&(Ol=2),1!==Ol||e.seeking){if(2===Ol&&(a>2||a<-2)){let r=e.volume+(a<0?.03:-.03);e.volume=r<0?0:r>1?1:r,Pl={time:t.timeStamp,startX:n,startY:s}}}else if(o>20||o<-20){let{duration:r,currentTime:i}=e,a=i+(o>0?5:-5);e.currentTime=a<0?0:a>r?r:a,Pl={time:t.timeStamp,startX:n,startY:s}}}},e.onmouseup=e.ontouchend=e=>{Rl=!1,Pl={initialData:Ll},Ol=0})})(h),window.addEventListener("fullscreenchange",v),()=>window.removeEventListener("fullscreenchange",v))));return e.$$set=e=>{"KeyMap"in e&&n(20,s=e.KeyMap),"file"in e&&n(0,r=e.file),"viewer"in e&&n(21,i=e.viewer)},e.$$.update=()=>{3&e.$$.dirty[0]&&h&&n(3,d=Ho(r.CurrentPos)+"/"+Ho(r.Duration))},[r,h,p,d,m,f,o,a,e=>{n(1,h.currentTime=r.CurrentPos,h)},()=>{u("returnBack")},e=>{n(1,h.currentTime=e,h)},({target:e})=>{n(1,h.muted=e.checked,h)},g,({target:{value:e}})=>{n(2,p.volume=e,p)},()=>{m&&window.innerWidth>1e3&&(n(5,f.style.bottom=0,f),clearTimeout(y),y=setTimeout((()=>{n(5,f.style.bottom=-f.offsetHeight+"px",f)}),5e3))},({deltaY:e})=>{let{volume:t}=p;t+=e<0?.05:-.05,n(2,p.volume=t<0?0:t>1?1:t,p)},()=>{n(0,r.CurrentPos=h.currentTime,r)},({target:{checked:e}})=>e?h.pause():h.play(),()=>{m&&("0px"==f.style.bottom?(n(5,f.style.bottom=-f.offsetHeight+"px",f),h.play()):(n(5,f.style.bottom=0,f),h.pause()))},({keyCode:e,ctrlKey:t})=>{switch(e){case 13:g();break;case 39:n(1,h.currentTime+=t?10:5,h);break;case 37:n(1,h.currentTime-=t?10:5,h);break;case 38:{let e=h.volume+.05;n(1,h.volume=e>1?1:e,h);break}case 40:{let e=h.volume-.05;n(1,h.volume=e<0?0:e,h);break}case 32:h.paused?h.play():h.pause()}console.log(e)},s,i,function(t){oe.call(this,e,t)},function(t){oe.call(this,e,t)},function(e){le[e?"unshift":"push"]((()=>{h=e,n(1,h)}))},function(){p.pause=this.paused,n(2,p)},function(){p.volume=this.volume,n(2,p)},function(e){le[e?"unshift":"push"]((()=>{f=e,n(5,f)}))}]}class Dl extends qe{constructor(e){super(),Me(this,e,Bl,Fl,a,{KeyMap:20,file:0,viewer:21},null,[-1,-1])}}function Hl(e){let t,n;return t=new Dl({props:{file:e[2],KeyMap:sl,viewer:e[4]}}),t.$on("returnBack",e[10]),{c(){Re(t.$$.fragment)},m(e,s){Oe(t,e,s),n=!0},p(e,n){const s={};4&n&&(s.file=e[2]),16&n&&(s.viewer=e[4]),t.$set(s)},i(e){n||(Ie(t.$$.fragment,e),n=!0)},o(e){Te(t.$$.fragment,e),n=!1},d(e){Pe(t,e)}}}function Ul(e){let t,n;return t=new Il({props:{viewer:e[4],file:e[2],KeyMap:sl}}),t.$on("changefile",e[9]),t.$on("returnBack",e[10]),{c(){Re(t.$$.fragment)},m(e,s){Oe(t,e,s),n=!0},p(e,n){const s={};16&n&&(s.viewer=e[4]),4&n&&(s.file=e[2]),t.$set(s)},i(e){n||(Ie(t.$$.fragment,e),n=!0)},o(e){Te(t.$$.fragment,e),n=!1},d(e){Pe(t,e)}}}function zl(e){let t,n,s,r,i,o,a,l,c,u,d,f,p,h,m,g,v,y,$,b,w,k,x=e[2].Name+"",_=`${e[5]+1} / ${e[1].length}`;h=new Ua({props:{fileId:e[0],files:e[1],filters:e[7]}}),h.$on("click",e[8]),h.$on("clearfilter",e[11]);const T=[Ul,Hl],C=[];function S(e,t){return 4&t&&(g=null),4&t&&(v=null),null==g&&(g=!!e[2].Type.includes("Manga")),g?0:(null==v&&(v=!!e[2].Type.includes("Video")),v?1:-1)}return~(y=S(e,-1))&&($=C[y]=T[y](e)),{c(){t=A("div"),n=A("div"),s=A("span"),r=L(x),i=R(),o=A("span"),a=A("span"),l=A("i"),c=R(),u=L(_),d=R(),f=A("div"),p=R(),Re(h.$$.fragment),m=R(),$&&$.c(),q(s,"class","svelte-160yte1"),q(n,"class","f-name svelte-160yte1"),W(n,"nomenu",e[6]),q(l,"class","fas fa-file svelte-160yte1"),q(a,"id","files-prog"),q(a,"class","svelte-160yte1"),q(f,"id","clock"),q(f,"class","svelte-160yte1"),q(o,"class","info svelte-160yte1"),W(o,"top",e[2].Type.includes("Video")),q(t,"class","viewer svelte-160yte1")},m(g,v){E(g,t,v),I(t,n),I(n,s),I(s,r),e[15](n),I(t,i),I(t,o),I(o,a),I(a,l),I(a,c),I(a,u),I(o,d),I(o,f),I(t,p),Oe(h,t,null),I(t,m),~y&&C[y].m(t,null),e[16](t),b=!0,w||(k=P(t,"keydown",rl),w=!0)},p(e,[s]){(!b||4&s)&&x!==(x=e[2].Name+"")&&D(r,x),64&s&&W(n,"nomenu",e[6]),(!b||34&s)&&_!==(_=`${e[5]+1} / ${e[1].length}`)&&D(u,_),4&s&&W(o,"top",e[2].Type.includes("Video"));const i={};1&s&&(i.fileId=e[0]),2&s&&(i.files=e[1]),h.$set(i);let a=y;y=S(e,s),y===a?~y&&C[y].p(e,s):($&&(xe(),Te(C[a],1,1,(()=>{C[a]=null})),_e()),~y?($=C[y],$?$.p(e,s):($=C[y]=T[y](e),$.c()),Ie($,1),$.m(t,null)):$=null)},i(e){b||(Ie(h.$$.fragment,e),Ie($),b=!0)},o(e){Te(h.$$.fragment,e),Te($),b=!1},d(n){n&&N(t),e[15](null),Pe(h),~y&&C[y].d(),e[16](null),w=!1,k()}}}function Vl(e,t,n){let s;d(e,Hr,(e=>n(6,s=e)));let{folderId:r}=t,{fileId:i}=t;const o=location.pathname.replace(/(^\/+|\/+$)/g,"").split("/").slice(0,3).join("/"),a=ie("socket"),{Fullscreen:l,NextFile:c,PrevFile:u}=sl;let f,p,h=[],m=[],g={Type:""},v=1,y={filter:""};te((async()=>{let{data:e}=await xs.post("/api/viewer/folder",{id:r});if(!e.fail){n(1,m=h=e.files.sort(((e,t)=>{let n=e.Name.replace("-",".").match(/\d+.\d+|\d+/),s=t.Name.replace("-",".").match(/\d+.\d+|\d+/);return n&&s?Number(n[0])-Number(s[0]):e.Name.replace("-","Z").localeCompare(t.Name.replace("-","Z"))})));const t=m[0];t&&(window.title=t.Cover.split("/")[2])}return window.addEventListener("beforeunload",$),()=>{window.removeEventListener("beforeunload",$)}}));const $=()=>{let{Id:e,CurrentPos:t}=g;a.emit("file-update-pos",{Id:e,CurrentPos:t})},b=(e=0)=>{let t=m.findIndex((e=>e.Id===i))+e;v>-1&&v<m.length-1&&(n(5,v=t),$(),We(`/${o}/${m[v].Id}`))};let w,k;c.action=()=>b(1),c.isctrl=!0,u.action=()=>b(-1),u.isctrl=!0;let x;return window.addEventListener("fullscreenchange",(e=>{if(document.fullscreenElement){const e=document.getElementById("clock");e&&(e.innerText=(new Date).toLocaleTimeString("en-US"),x=setInterval((()=>{e.innerText=(new Date).toLocaleTimeString("en-US")}),1e3))}else clearInterval(x),clock.innerText="";/(android)|(iphone)/i.test(navigator.userAgent)&&g.Type.includes("Video")&&document.fullscreenElement?window.screen.orientation.lock("landscape"):window.screen.orientation.unlock()})),e.$$set=e=>{"folderId"in e&&n(12,r=e.folderId),"fileId"in e&&n(0,i=e.fileId)},e.$$.update=()=>{3&e.$$.dirty&&m.length>0&&(n(2,g=m.find((e=>e.Id===i))||m[0]),n(5,v=m.findIndex((e=>e.Id===i)))),24588&e.$$.dirty&&g.Id!=w&&(n(13,w=g.Id),clearTimeout(k),n(3,f.style.opacity=1,f),n(14,k=setTimeout((()=>{f&&n(3,f.style.opacity=0,f)}),5e3))),4097&e.$$.dirty&&i&&a&&a.emit("recent-folder",{CurrentFile:i,FolderId:r})},[i,m,g,f,p,v,s,y,({target:{id:e}})=>{$(),console.log("filter: ",y.filter),y.filter?n(1,m=h.filter((e=>e.Name.toLocaleLowerCase().includes(y.filter.toLocaleLowerCase())))):n(1,m=h),We(`/${o}/${e}`)},b,()=>{$();const e=localStorage.getItem("content");localStorage.setItem("fileId",g.Id),We(e)},()=>{console.log("clearfilter"),n(1,m=h)},r,w,k,function(e){le[e?"unshift":"push"]((()=>{f=e,n(3,f),n(2,g),n(13,w),n(14,k),n(1,m),n(0,i)}))},function(e){le[e?"unshift":"push"]((()=>{p=e,n(4,p)}))}]}class Wl extends qe{constructor(e){super(),Me(this,e,Vl,zl,a,{folderId:12,fileId:0})}}function Kl(e){let t,n;return t=new Fo({}),{c(){Re(t.$$.fragment)},m(e,s){Oe(t,e,s),n=!0},i(e){n||(Ie(t.$$.fragment,e),n=!0)},o(e){Te(t.$$.fragment,e),n=!1},d(e){Pe(t,e)}}}function Yl(t){let n;return{c(){n=A("div"),n.textContent="Not found"},m(e,t){E(e,n,t)},p:e,d(e){e&&N(n)}}}function Xl(e){let t,n,s,r,i,o,a,l,c,u,d,f,p,h,m,g,v,y,$,b,w,k,x,_;return t=new ti({props:{navItems:e[0]}}),t.$on("click",e[1]),s=new ft({props:{path:"/videos/content/:id/:page/:filter",component:ja}}),i=new ft({props:{path:"/videos/viewer/:folderId/:fileId",component:Wl}}),a=new ft({props:{path:"/videos/:dir/:page/:filter",component:xa}}),c=new ft({props:{path:"/mangas/content/:id/:page/:filter",component:ja}}),d=new ft({props:{path:"/mangas/viewer/:folderId/:fileId",component:Wl}}),p=new ft({props:{path:"/mangas/:dir/:page/:filter",component:ba}}),m=new ft({props:{path:"/favorites/content/:id/:page/:filter",component:ja}}),v=new ft({props:{path:"/favorites/:id/:page/:filter",component:La}}),$=new ft({props:{path:"/favorites/viewer/:folderId/:fileId",component:Wl}}),w=new ft({props:{exact:!0,path:"/",$$slots:{default:[Kl]},$$scope:{ctx:e}}}),x=new ft({props:{path:"*",$$slots:{default:[Yl]},$$scope:{ctx:e}}}),{c(){Re(t.$$.fragment),n=R(),Re(s.$$.fragment),r=R(),Re(i.$$.fragment),o=R(),Re(a.$$.fragment),l=R(),Re(c.$$.fragment),u=R(),Re(d.$$.fragment),f=R(),Re(p.$$.fragment),h=R(),Re(m.$$.fragment),g=R(),Re(v.$$.fragment),y=R(),Re($.$$.fragment),b=R(),Re(w.$$.fragment),k=R(),Re(x.$$.fragment)},m(e,I){Oe(t,e,I),E(e,n,I),Oe(s,e,I),E(e,r,I),Oe(i,e,I),E(e,o,I),Oe(a,e,I),E(e,l,I),Oe(c,e,I),E(e,u,I),Oe(d,e,I),E(e,f,I),Oe(p,e,I),E(e,h,I),Oe(m,e,I),E(e,g,I),Oe(v,e,I),E(e,y,I),Oe($,e,I),E(e,b,I),Oe(w,e,I),E(e,k,I),Oe(x,e,I),_=!0},p(e,t){const n={};4&t&&(n.$$scope={dirty:t,ctx:e}),w.$set(n);const s={};4&t&&(s.$$scope={dirty:t,ctx:e}),x.$set(s)},i(e){_||(Ie(t.$$.fragment,e),Ie(s.$$.fragment,e),Ie(i.$$.fragment,e),Ie(a.$$.fragment,e),Ie(c.$$.fragment,e),Ie(d.$$.fragment,e),Ie(p.$$.fragment,e),Ie(m.$$.fragment,e),Ie(v.$$.fragment,e),Ie($.$$.fragment,e),Ie(w.$$.fragment,e),Ie(x.$$.fragment,e),_=!0)},o(e){Te(t.$$.fragment,e),Te(s.$$.fragment,e),Te(i.$$.fragment,e),Te(a.$$.fragment,e),Te(c.$$.fragment,e),Te(d.$$.fragment,e),Te(p.$$.fragment,e),Te(m.$$.fragment,e),Te(v.$$.fragment,e),Te($.$$.fragment,e),Te(w.$$.fragment,e),Te(x.$$.fragment,e),_=!1},d(e){Pe(t,e),e&&N(n),Pe(s,e),e&&N(r),Pe(i,e),e&&N(o),Pe(a,e),e&&N(l),Pe(c,e),e&&N(u),Pe(d,e),e&&N(f),Pe(p,e),e&&N(h),Pe(m,e),e&&N(g),Pe(v,e),e&&N(y),Pe($,e),e&&N(b),Pe(w,e),e&&N(k),Pe(x,e)}}}function Jl(e){let t,n;return t=new rt({props:{$$slots:{default:[Xl]},$$scope:{ctx:e}}}),{c(){Re(t.$$.fragment)},m(e,s){Oe(t,e,s),n=!0},p(e,[n]){const s={};4&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ie(t.$$.fragment,e),n=!0)},o(e){Te(t.$$.fragment,e),n=!1},d(e){Pe(t,e)}}}function Ql(e){return Oo.set(ie("User").favorites),[[{title:"Home",path:"/",class:"home"},{title:"Videos",path:"/videos",class:"film"},{title:"Mangas",path:"/mangas",class:"book"},{title:"Favorites",path:"/favorites",class:"heart"}],function(t){oe.call(this,e,t)}]}class Gl extends qe{constructor(e){super(),Me(this,e,Ql,Jl,a,{})}}function Zl(t){let n,s,r,o,a,l,c,u,d,f,p,h,m,g,v,y,$,b,w,k,x,_,T,C=t[1].name+"",S=t[1].password+"";return{c(){n=A("div"),s=A("form"),r=A("h3"),r.textContent="Login",o=R(),a=A("div"),l=A("div"),l.innerHTML='<label for="name" class="input-group-text svelte-c4yjcf"><i class="fas fa-user svelte-c4yjcf"></i></label>',c=R(),u=A("input"),d=R(),f=A("div"),p=L(C),h=R(),m=A("div"),g=A("div"),g.innerHTML='<label for="password" class="input-group-text svelte-c4yjcf"><i class="fas fa-key svelte-c4yjcf"></i></label>',v=R(),y=A("input"),$=R(),b=A("div"),w=L(S),k=R(),x=A("div"),x.innerHTML='<button class="btn" tabindex="0">Submit</button>',q(r,"class","mb-4 svelte-c4yjcf"),q(l,"class","input-group-prepend"),q(u,"id","name"),q(u,"type","text"),q(u,"class","form-control"),q(u,"name","username"),q(u,"placeholder","Name"),q(u,"tabindex","0"),q(a,"class","input-group"),q(f,"id","name-errors"),q(f,"class","error text-left text-danger svelte-c4yjcf"),q(g,"class","input-group-prepend"),q(y,"id","password"),q(y,"type","password"),q(y,"class","form-control"),q(y,"name","Password"),q(y,"placeholder","Password"),q(y,"autocomplete","on"),q(y,"tabindex","0"),q(m,"class","input-group"),q(b,"id","pasword-errors"),q(b,"class","error text-left text-danger svelte-c4yjcf"),q(x,"class","form-footer"),q(s,"method","post"),q(s,"class","card bg-dark p-3 svelte-c4yjcf"),q(n,"id","login-container"),q(n,"class","svelte-c4yjcf")},m(e,i){E(e,n,i),I(n,s),I(s,r),I(s,o),I(s,a),I(a,l),I(a,c),I(a,u),H(u,t[0].username),I(s,d),I(s,f),I(f,p),I(s,h),I(s,m),I(m,g),I(m,v),I(m,y),H(y,t[0].password),I(s,$),I(s,b),I(b,w),I(s,k),I(s,x),_||(T=[P(u,"input",t[3]),P(y,"input",t[4]),P(s,"submit",t[2])],_=!0)},p(e,[t]){1&t&&u.value!==e[0].username&&H(u,e[0].username),2&t&&C!==(C=e[1].name+"")&&D(p,C),1&t&&y.value!==e[0].password&&H(y,e[0].password),2&t&&S!==(S=e[1].password+"")&&D(w,S)},i:e,o:e,d(e){e&&N(n),_=!1,i(T)}}}function ec(e,t,n){const s=se();let r={username:"",password:""},i={name:"",password:""};return[r,i,e=>{e.preventDefault(),xs.post("/api/users/login",r).then((({data:e})=>{e.isAutenticated?s("login",{...e,Id:""}):name?n(1,i.name="User can't be empty",i):n(1,i.password="Password can't be empty",i)})).catch((e=>{e.toString().includes("Network Error")?n(1,i.password="server offline",i):n(1,i.password="Server Error",i)}))},function(){r.username=this.value,n(0,r)},function(){r.password=this.value,n(0,r)}]}class tc extends qe{constructor(e){super(),Me(this,e,ec,Zl,a,{})}}function nc(t){let n,s;return n=new tc({}),n.$on("login",t[3]),{c(){Re(n.$$.fragment)},m(e,t){Oe(n,e,t),s=!0},p:e,i(e){s||(Ie(n.$$.fragment,e),s=!0)},o(e){Te(n.$$.fragment,e),s=!1},d(e){Pe(n,e)}}}function sc(e){let t,n,s,r,i;const o=[oc,ic],a=[];function l(e,n){return 1&n&&(t=null),null==t&&(t=!!e[0].role.includes("Admin")),t?0:1}return n=l(e,-1),s=a[n]=o[n](e),{c(){s.c(),r=O()},m(e,t){a[n].m(e,t),E(e,r,t),i=!0},p(e,t){let i=n;n=l(e,t),n===i?a[n].p(e,t):(xe(),Te(a[i],1,1,(()=>{a[i]=null})),_e(),s=a[n],s?s.p(e,t):(s=a[n]=o[n](e),s.c()),Ie(s,1),s.m(r.parentNode,r))},i(e){i||(Ie(s),i=!0)},o(e){Te(s),i=!1},d(e){a[n].d(e),e&&N(r)}}}function rc(t){let n;return{c(){n=A("div"),n.textContent="Loading"},m(e,t){E(e,n,t)},p:e,i:e,o:e,d(e){e&&N(n)}}}function ic(t){let n,s;return n=new Gl({}),n.$on("click",t[2]),{c(){Re(n.$$.fragment)},m(e,t){Oe(n,e,t),s=!0},p:e,i(e){s||(Ie(n.$$.fragment,e),s=!0)},o(e){Te(n.$$.fragment,e),s=!1},d(e){Pe(n,e)}}}function oc(t){let n,s;return n=new Ro({}),n.$on("click",t[2]),{c(){Re(n.$$.fragment)},m(e,t){Oe(n,e,t),s=!0},p:e,i(e){s||(Ie(n.$$.fragment,e),s=!0)},o(e){Te(n.$$.fragment,e),s=!1},d(e){Pe(n,e)}}}function ac(e){let t,n,s,r;const i=[rc,sc,nc],o=[];function a(e,t){return e[1]?0:e[0].username?1:2}return n=a(e),s=o[n]=i[n](e),{c(){t=A("div"),s.c(),q(t,"id","root")},m(e,s){E(e,t,s),o[n].m(t,null),r=!0},p(e,[r]){let l=n;n=a(e),n===l?o[n].p(e,r):(xe(),Te(o[l],1,1,(()=>{o[l]=null})),_e(),s=o[n],s?s.p(e,r):(s=o[n]=i[n](e),s.c()),Ie(s,1),s.m(t,null))},i(e){r||(Ie(s),r=!0)},o(e){Te(s),r=!1},d(e){e&&N(t),o[n].d()}}}function lc(e,t,n){let s,r={username:""},i=!0;te((async()=>{let e=await xs.get("/api/users");e.data.isAutenticated&&n(0,r=e.data),n(1,i=!1)}));const o=async()=>{n(0,r={}),We("/login",{replace:!0}),s&&s.close(),["fullscreen","standalone","minimal-ui"].some((e=>window.matchMedia("(display-mode: "+e+")").matches))&&history.go(-(history.length-2));try{xs.get("/api/users/logout")}catch(e){console.log(e)}};return e.$$.update=()=>{17&e.$$.dirty&&r.isAutenticated&&(n(4,s=Pr("/")),re("socket",s),re("User",r),s.on("error",(e=>{console.log(e)})),re("logout",o))},[r,i,o,e=>{n(0,r=e.detail),We("/",{replace:!0})},s]}window.local=localStorage,Storage.prototype.setObject=function(e,t){this.setItem(e,JSON.stringify(t))},Storage.prototype.getObject=function(e){let t=this.getItem(e);if("undefined"===t)return{};try{t=JSON.parse(t)}catch(e){console.log(e)}return t},window.addEventListener("load",(()=>{if("serviceWorker"in navigator)try{navigator.serviceWorker.register("/service-worker.js")}catch(e){console.log(e)}}));return new class extends qe{constructor(e){super(),Me(this,e,lc,ac,a,{})}}({target:document.body})}();
